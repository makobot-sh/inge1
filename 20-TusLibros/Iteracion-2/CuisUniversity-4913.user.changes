

----QUIT----(13 October 2021 15:20:10) CuisUniversity-4913.image priorSource: 14638157!

----STARTUP---- (13 October 2021 15:20:10) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4913.image!


----QUIT----(13 October 2021 15:20:10) CuisUniversity-4913.image priorSource: 18661767!

----STARTUP---- (13 October 2021 15:21:02) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4913.image!


----QUIT----(13 October 2021 15:21:02) CuisUniversity-4913.image priorSource: 18661997!

----QUIT----(13 October 2021 15:26:07) CuisUniversity-4913.image priorSource: 14638157!

----STARTUP---- (13 October 2021 15:26:08) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4913.image!


----QUIT----(13 October 2021 15:26:08) CuisUniversity-4913.image priorSource: 18661767!

----STARTUP---- (14 October 2021 21:15:10) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


----End fileIn of D:\001.Maca\2c2021\inge1\repoEntrega\17-Portfolio 1\Portfolio-Ejercicio.st----!

Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/14/2021 21:22:02'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #PortfolioTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioTests category: 'Portfolio-Ejercicio' stamp: 'MK 10/14/2021 21:22:22'!
TestCase subclass: #PortfolioTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'MK 10/14/2021 21:25:42'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'MK 10/14/2021 21:25:52'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'MK 10/14/2021 21:26:00'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'MK 10/14/2021 21:26:46' prior: 50914957!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	
	account register: transaction.
	
	^ transaction! !
!Deposit class methodsFor: 'instance creation' stamp: 'MK 10/14/2021 21:26:56' prior: 50914994!
for: aValue

	^ self new initializeFor: aValue ! !
!Withdraw methodsFor: 'initialization' stamp: 'MK 10/14/2021 21:27:33' prior: 50915011!
initializeFor: aValue

	value := aValue ! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'MK 10/14/2021 21:27:50' prior: 50915140!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
	
	^ transaction! !
!AccountTransaction methodsFor: 'value' stamp: 'MK 10/14/2021 21:28:29' prior: 50914944 overrides: 16881508!
value
	self subclassResponsibility ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/14/2021 21:29:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:29:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:29:02'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/14/2021 21:29:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/14/2021 21:29:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/14/2021 21:29:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/14/2021 21:29:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:29:03'!
FAILURE!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'MK 10/14/2021 21:30:07' prior: 50915158!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
	
	^ transaction! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'MK 10/14/2021 21:30:21'!
for: aValue

	^ self new initializeFor: aValue ! !
!AccountTransaction methodsFor: 'value' stamp: 'MK 10/14/2021 21:30:43'!
initializeFor: aValue

	value := aValue ! !

!methodRemoval: Withdraw class #for: stamp: 'MK 10/14/2021 21:31:52'!
for: aValue

	^ self new initializeFor: aValue !

!methodRemoval: Deposit class #for: stamp: 'MK 10/14/2021 21:31:55'!
for: aValue

	^ self new initializeFor: aValue !

!methodRemoval: Deposit #initializeFor: stamp: 'MK 10/14/2021 21:32:01'!
initializeFor: aValue

	value := aValue !

!methodRemoval: Withdraw #initializeFor: stamp: 'MK 10/14/2021 21:32:09'!
initializeFor: aValue

	value := aValue !
!AccountTransaction methodsFor: 'value' stamp: 'MK 10/14/2021 21:33:01' prior: 50915166 overrides: 16881508!
value
	^ value.! !

!methodRemoval: Deposit #value stamp: 'MK 10/14/2021 21:33:05'!
value

	^ value!

!methodRemoval: Withdraw #value stamp: 'MK 10/14/2021 21:33:09'!
value

	^ value!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/14/2021 21:34:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:34:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:34:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/14/2021 21:34:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/14/2021 21:34:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/14/2021 21:34:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/14/2021 21:34:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:34:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/14/2021 21:36:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:36:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:36:43'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/14/2021 21:36:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/14/2021 21:36:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/14/2021 21:36:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/14/2021 21:36:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:36:44'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/14/2021 21:37:16' prior: 50914874!
test03WithdrawDecreasesBalanceOnTransactionValue 
	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	
	self assert: 50 equals: account balance.
! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:37:29'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'MK 10/14/2021 21:40:21' prior: 50915060!
balance
	|depositSum withdrawSum|
	depositSum _ (transactions select: [:aTransaction | aTransaction class = Deposit ]) sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ].
	withdrawSum _ (transactions select: [:aTransaction | aTransaction class = Withdraw ]) sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ].
	^ depositSum - withdrawSum ! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:40:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/14/2021 21:40:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/14/2021 21:40:50'!
PASSED!
!PortfolioTests methodsFor: 'nil' stamp: 'MK 10/14/2021 21:43:12'!
test01EmptyPortfolioHasBalance0
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/14/2021 21:44:11' prior: 50915361!
test01EmptyPortfolioHasBalance0
	| portfolio |
	portfolio _ Portfolio new.
	self assert: portfolio balance = 0.
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/14/2021 21:44:13'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/14/2021 21:44:47'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/14/2021 21:44:59' prior: 50915376!
balance
	^ 0.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/14/2021 21:45:02'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/14/2021 21:45:02'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/14/2021 21:45:42'!
test02PortfolioWithAccountMatchesBalance
	| portfolio |
	portfolio _ Portfolio new.
	self assert: portfolio balance = 0.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/14/2021 21:46:06'!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio |
	portfolio _ Portfolio new.
	self assert: portfolio balance = 0.
	! !

!methodRemoval: PortfolioTests #test02PortfolioWithAccountMatchesBalance stamp: 'MK 10/14/2021 21:46:06'!
test02PortfolioWithAccountMatchesBalance
	| portfolio |
	portfolio _ Portfolio new.
	self assert: portfolio balance = 0.
	!

----SNAPSHOT----(14 October 2021 21:50:55) CuisUniversity-4913.image priorSource: 18661997!

----SNAPSHOT----(14 October 2021 22:09:29) CuisUniversity-4913.image priorSource: 18680362!

----STARTUP---- (15 October 2021 18:38:05) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!

!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 18:43:56' prior: 50915398!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount.
	portfolio addMonetaryService: account.
	self assert: portfolio balance = 0.
	! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'MK 10/15/2021 18:44:13' prior: 50915046 overrides: 16896425!
initialize

	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'MK 10/15/2021 18:44:28' prior: 50915051!
register: aTransaction

	transactions add: aTransaction ! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'MK 10/15/2021 18:44:34' prior: 50915056!
transactions 

	^ transactions copy! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 18:49:00' prior: 50915422!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	portfolio addMonetaryService: account.
	self assert: portfolio balance = 0.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 18:49:45' prior: 50915448!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account transaction |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ AccountTransaction .
	portfolio addMonetaryService: account.
	self assert: portfolio balance = 0.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 18:53:18' prior: 50915458!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	
	portfolio addMonetaryService: account.
	self assert: portfolio balance = 50.
	! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:53:23'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 18:53:30'!
addMonetaryService: aReceptiveAccount 
	self shouldBeImplemented.! !

Object subclass: #Portfolio
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/15/2021 18:54:12'!
Object subclass: #Portfolio
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 18:54:14' prior: 50915484!
addMonetaryService: aReceptiveAccount 
	account _ aReceptiveAccount.! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:54:19'!
FAILURE!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:54:38'!
FAILURE!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:55:30'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 18:55:50' prior: 50915470!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	
	portfolio addMonetaryService: account.
	self assert: (portfolio balance = 50).
	! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:55:56'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 18:56:30' prior: 50915381!
balance
	^ account balance.! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:56:32'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:56:32'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:56:32'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:56:32'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:57:16'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:57:16'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:57:16'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:57:16'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:57:43'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:57:43'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:57:43'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:57:43'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 18:59:11' prior: 50915533!
balance
	account isNil ifTrue: [^ 0].
	^ account balance.! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:59:12'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 18:59:12'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 18:59:13'!
PASSED!
!Behavior method!
balance
	[
	([
	(account
		cover: (10 to: 16)
		declaredAt: (10 to: 16)) isNil ] valueCoveringAll:
		{18 to: 22}) ifTrue: [ ^ 0 coverAll:
			{35 to: 35} ]] valueCoveringAll:
		{24 to: 30}.
	^ [
	(account
		cover: (42 to: 48)
		declaredAt: (10 to: 16)) balance ] valueCoveringAll:
		{50 to: 56}.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:00:01'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (121 to: 131)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addMonetaryService: aReceptiveAccount
	(account _ aReceptiveAccount
		cover: (51 to: 67)
		declaredAt: (21 to: 37))
		cover: (41 to: 47)
		declaredAt: (41 to: 47).! !
!Behavior method!
balance
	| depositSum withdrawSum |
	(depositSum _ [
	([
	(transactions
		cover: (50 to: 61)
		declaredAt: (50 to: 61)) select: [ :aTransaction |
		[
		([
		(aTransaction
			cover: (88 to: 99)
			declaredAt: (73 to: 84)) class ] valueCoveringAll:
			{101 to: 105}) =
			(Deposit
				cover: (109 to: 115)
				declaredAt: (109 to: 115)) ] valueCoveringAll:
			{107 to: 107} ]] valueCoveringAll:
		{63 to: 69})
		sum: [ :aTransaction |
			[
			(aTransaction
				cover: (143 to: 154)
				declaredAt: (128 to: 139)) value ] valueCoveringAll:
				{156 to: 160} ]
		ifEmpty: [
			0 coverAll:
				{175 to: 175} ]] valueCoveringAll:
		{120 to: 123. 164 to: 171})
		cover: (36 to: 45)
		declaredAt: (11 to: 20).
	(withdrawSum _ [
	([
	(transactions
		cover: (196 to: 207)
		declaredAt: (50 to: 61)) select: [ :aTransaction |
		[
		([
		(aTransaction
			cover: (234 to: 245)
			declaredAt: (219 to: 230)) class ] valueCoveringAll:
			{247 to: 251}) =
			(Withdraw
				cover: (255 to: 262)
				declaredAt: (255 to: 262)) ] valueCoveringAll:
			{253 to: 253} ]] valueCoveringAll:
		{209 to: 215})
		sum: [ :aTransaction |
			[
			(aTransaction
				cover: (290 to: 301)
				declaredAt: (275 to: 286)) value ] valueCoveringAll:
				{303 to: 307} ]
		ifEmpty: [
			0 coverAll:
				{322 to: 322} ]] valueCoveringAll:
		{267 to: 270. 311 to: 318})
		cover: (181 to: 191)
		declaredAt: (22 to: 32).
	^ [
	(depositSum
		cover: (330 to: 339)
		declaredAt: (11 to: 20)) -
		(withdrawSum
			cover: (343 to: 353)
			declaredAt: (22 to: 32)) ] valueCoveringAll:
		{341 to: 341}.! !
!Behavior method!
value
	^ value
		cover: (10 to: 14)
		declaredAt: (10 to: 14).! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 19:00:01'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:00:40'!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	
	portfolio addMonetaryService: account.
	self assert: (portfolio balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:01:05' prior: 50915712!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	self assert: (portfolio1 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:01:18' prior: 50915724!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 portfolio2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ ReceptiveAccount new.
	Deposit register: 50 on: portfolio2.
	
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:01:23' prior: 50915736!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 portfolio2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	Deposit register: 50 on: portfolio2.
	
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:01:38' prior: 50915748!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 portfolio2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ ReceptiveAccount new.
	Deposit register: 50 on: portfolio2.
	
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:02:39' prior: 50915760!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 account portfolio2 |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio2 _ Portfolio new.
	
	portfolio1 addMonetaryService: account.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 50).
	! !

!testRun: #PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/15/2021 19:02:44'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:02:45'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 19:02:45'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/15/2021 19:02:45'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:03:11' prior: 50915501!
addMonetaryService: aMonetaryService 
	account _ aMonetaryService.! !
!Behavior method!
balance
	[
	([
	(account
		cover: (10 to: 16)
		declaredAt: (10 to: 16)) isNil ] valueCoveringAll:
		{18 to: 22}) ifTrue: [ ^ 0 coverAll:
			{35 to: 35} ]] valueCoveringAll:
		{24 to: 30}.
	^ [
	(account
		cover: (42 to: 48)
		declaredAt: (10 to: 16)) balance ] valueCoveringAll:
		{50 to: 56}.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:03:41'!
PASSED!
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
register: aValue on: account
	| transaction |
	(transaction _ [
	(self coverAll:
		{66 to: 69}) for:
		(aValue
			cover: (76 to: 81)
			declaredAt: (11 to: 16)) ] valueCoveringAll:
		{71 to: 74})
		cover: (51 to: 61)
		declaredAt: (34 to: 44).
	[
	(account
		cover: (85 to: 91)
		declaredAt: (22 to: 28)) register:
		(transaction
			cover: (103 to: 113)
			declaredAt: (34 to: 44)) ] valueCoveringAll:
		{93 to: 101}.
	^ transaction
		cover: (121 to: 131)
		declaredAt: (34 to: 44).! !
!Behavior method!
for: aValue
	^ [
	([
	(self coverAll:
		{17 to: 20}) new ] valueCoveringAll:
		{22 to: 24}) initializeFor:
		(aValue
			cover: (41 to: 46)
			declaredAt: (6 to: 11)) ] valueCoveringAll:
		{26 to: 39}.! !
!Behavior method!
initializeFor: aValue
	(value _ aValue
		cover: (34 to: 39)
		declaredAt: (16 to: 21))
		cover: (25 to: 29)
		declaredAt: (25 to: 29).! !
!Behavior method!
register: aTransaction
	[
	(transactions
		cover: (26 to: 37)
		declaredAt: (26 to: 37)) add:
		(aTransaction
			cover: (44 to: 55)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{39 to: 42}.! !
!Behavior method!
addMonetaryService: aMonetaryService
	(account _ aMonetaryService
		cover: (50 to: 65)
		declaredAt: (21 to: 36))
		cover: (40 to: 46)
		declaredAt: (40 to: 46).! !
!Behavior method!
balance
	| depositSum withdrawSum |
	(depositSum _ [
	([
	(transactions
		cover: (50 to: 61)
		declaredAt: (50 to: 61)) select: [ :aTransaction |
		[
		([
		(aTransaction
			cover: (88 to: 99)
			declaredAt: (73 to: 84)) class ] valueCoveringAll:
			{101 to: 105}) =
			(Deposit
				cover: (109 to: 115)
				declaredAt: (109 to: 115)) ] valueCoveringAll:
			{107 to: 107} ]] valueCoveringAll:
		{63 to: 69})
		sum: [ :aTransaction |
			[
			(aTransaction
				cover: (143 to: 154)
				declaredAt: (128 to: 139)) value ] valueCoveringAll:
				{156 to: 160} ]
		ifEmpty: [
			0 coverAll:
				{175 to: 175} ]] valueCoveringAll:
		{120 to: 123. 164 to: 171})
		cover: (36 to: 45)
		declaredAt: (11 to: 20).
	(withdrawSum _ [
	([
	(transactions
		cover: (196 to: 207)
		declaredAt: (50 to: 61)) select: [ :aTransaction |
		[
		([
		(aTransaction
			cover: (234 to: 245)
			declaredAt: (219 to: 230)) class ] valueCoveringAll:
			{247 to: 251}) =
			(Withdraw
				cover: (255 to: 262)
				declaredAt: (255 to: 262)) ] valueCoveringAll:
			{253 to: 253} ]] valueCoveringAll:
		{209 to: 215})
		sum: [ :aTransaction |
			[
			(aTransaction
				cover: (290 to: 301)
				declaredAt: (275 to: 286)) value ] valueCoveringAll:
				{303 to: 307} ]
		ifEmpty: [
			0 coverAll:
				{322 to: 322} ]] valueCoveringAll:
		{267 to: 270. 311 to: 318})
		cover: (181 to: 191)
		declaredAt: (22 to: 32).
	^ [
	(depositSum
		cover: (330 to: 339)
		declaredAt: (11 to: 20)) -
		(withdrawSum
			cover: (343 to: 353)
			declaredAt: (22 to: 32)) ] valueCoveringAll:
		{341 to: 341}.! !
!Behavior method!
value
	^ value
		cover: (10 to: 14)
		declaredAt: (10 to: 14).! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 19:03:41'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/15/2021 19:03:41'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:15'!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio1 account portfolio2 |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio2 _ Portfolio new.
	
	portfolio1 addMonetaryService: account.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:21' prior: 50915927!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio1 account account2 |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	account2 _ Portfolio new.
	
	portfolio1 addMonetaryService: account.
	account2 addMonetaryService: portfolio1.
	self assert: (account2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:27' prior: 50915941!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio1 account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ Portfolio new.
	
	portfolio1 addMonetaryService: account1.
	account2 addMonetaryService: portfolio1.
	self assert: (account2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:32' prior: 50915955!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ Portfolio new.
	
	portfolio addMonetaryService: account1.
	account2 addMonetaryService: portfolio.
	self assert: (account2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:43' prior: 50915969!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	
	portfolio addMonetaryService: account1.
	account2 addMonetaryService: portfolio.
	self assert: (account2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:04:51' prior: 50915983!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	portfolio addMonetaryService: account1.
	account2 addMonetaryService: portfolio.
	self assert: (account2 balance = 50).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:05:17' prior: 50915997!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	
	portfolio addMonetaryService: account1.
	portfolio addMonetaryService: account2.
	self assert: (portfolio balance = 150).
	! !

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:05:18'!
FAILURE!

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:05:48'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:06:21' prior: 50916012!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio addMonetaryService: account1.
	portfolio addMonetaryService: account2.
	self assert: (portfolio balance = 150).
	! !

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:06:24'!
FAILURE!

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:08:42'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/15/2021 19:09:15'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:10:01' overrides: 16896425!
initialize
	accounts _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:10:14' prior: 50915800!
addMonetaryService: aMonetaryService 
	accounts add: aMonetaryService.! !

----End fileIn of D:\001.Maca\2c2021\inge1\newqa1\Packages\TerseGuide.pck.st----!

----SNAPSHOT----(15 October 2021 19:11:02) CuisUniversity-4913.image priorSource: 18680455!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:12:53' prior: 50915578!
balance
	accounts isEmpty ifTrue: [^ 0].
	^ accounts balance.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:26:59' prior: 50919008!
balance
	accounts isEmpty ifTrue: [^ 0].
	^ accounts sum: [:anAccount | anAccount balance].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/15/2021 19:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/15/2021 19:27:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:27:58'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:27:58'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 19:27:58'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/15/2021 19:27:58'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:27:58'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:28:52'!
test04PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio addMonetaryService: account1.
	portfolio addMonetaryService: account2.
	self assert: (portfolio balance = 150).
	! !

!methodRemoval: PortfolioTests #test03PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:28:52'!
test03PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio addMonetaryService: account1.
	portfolio addMonetaryService: account2.
	self assert: (portfolio balance = 150).
	!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:32:11' prior: 50919013!
balance
	^ accounts sum: [:anAccount | anAccount balance].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:32:11'!
ERROR!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/15/2021 19:32:11'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/15/2021 19:32:11'!
PASSED!

!testRun: #PortfolioTests #test04PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/15/2021 19:32:11'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/15/2021 19:32:11'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/15/2021 19:32:16' prior: 50919093!
balance
	accounts isEmpty ifTrue: [^ 0].
	^ accounts sum: [:anAccount | anAccount balance].! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/15/2021 19:32:29'!
Object subclass: #Portfolio
	instanceVariableNames: 'monetaryServices'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:32:29' prior: 50916074!
addMonetaryService: aMonetaryService 
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:32:29' prior: 50916069 overrides: 16896425!
initialize
	monetaryServices _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/15/2021 19:32:29' prior: 50919115!
balance
	monetaryServices isEmpty ifTrue: [^ 0].
	^ monetaryServices sum: [:anAccount | anAccount balance].! !

----SNAPSHOT----(15 October 2021 19:34:44) CuisUniversity-4913.image priorSource: 18795318!

----STARTUP---- (16 October 2021 12:07:00) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!

!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 12:09:23' prior: 50919141!
balance
	^ monetaryServices sum: [:anAccount | anAccount balance] ifEmpty: [^ 0].! !

----SNAPSHOT----(16 October 2021 12:10:00) CuisUniversity-4913.image priorSource: 18799886!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:23:30'!
test04PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio2 addMonetaryService: account1.
	portfolio2 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 150).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:23:38'!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio2 addMonetaryService: account1.
	portfolio2 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 150).
	! !

!methodRemoval: PortfolioTests #test03PortfolioWithOnePortfolioMatchesItsBalance stamp: 'MK 10/16/2021 12:25:24'!
test03PortfolioWithOnePortfolioMatchesItsBalance
	| portfolio1 account portfolio2 |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio2 _ Portfolio new.
	
	portfolio1 addMonetaryService: account.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 50).
	!

!methodRemoval: PortfolioTests #test04PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:25:26'!
test04PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio2 addMonetaryService: account1.
	portfolio2 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 150).
	!

!methodRemoval: PortfolioTests #test04PortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:28:03'!
test04PortfolioWithTwoAccountsMatchesBalance
	| portfolio account1 account2 |
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio addMonetaryService: account1.
	portfolio addMonetaryService: account2.
	self assert: (portfolio balance = 150).
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:28:43' prior: 50919181!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	Deposit register: 100 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 150).
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:28:46'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:28:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:28:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:28:46'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:29:53' prior: 50919248!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (portfolio1 balance = 75).
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:29:55'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:29:55'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:29:55'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:29:55'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:39:24'!
test04
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!testRun: #PortfolioTests #test04 stamp: 'MK 10/16/2021 12:39:42'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 12:39:51'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 12:40:02' prior: 50919324!
hasRegistered: aDeposit 
	^ false.! !

!testRun: #PortfolioTests #test04 stamp: 'MK 10/16/2021 12:40:04'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:40:17' prior: 50919314!
test04
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!testRun: #PortfolioTests #test04 stamp: 'MK 10/16/2021 12:40:18'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:40:19'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:40:19'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:40:19'!
PASSED!

!testRun: #PortfolioTests #test04 stamp: 'MK 10/16/2021 12:40:19'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:40:54'!
test04EmptyPortfolioDoesNotHaveTransaction
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!methodRemoval: PortfolioTests #test04 stamp: 'MK 10/16/2021 12:40:54'!
test04
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:46:25'!
test05
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ AccountTransaction new.
	Deposit register: 50 on: account.
	transaction _ Deposit for: 50.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:46:52'!
ERROR!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:47:43' prior: 50919377!
test05
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ AccountTransaction new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:47:44'!
ERROR!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:48:25' prior: 50919392!
test05
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:48:27'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:48:27'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:48:27'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:48:28'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:48:28'!
PASSED!

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:48:28'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:48:33' prior: 50919406!
test05
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:48:34'!
FAILURE!
!ReceptiveAccount methodsFor: 'testing' stamp: 'MK 10/16/2021 12:49:43' prior: 50915066!
hasRegistered: aTransaction
	^ transactions includes: aTransaction 
! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 12:50:52' prior: 50919329!
hasRegistered: aTransaction 
	^ monetaryServices first hasRegistered: aTransaction.! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:50:55'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:50:55'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:50:55'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:50:55'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:50:55'!
ERROR!

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:50:55'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:50:55'!
ERROR!

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:51:17'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:51:17'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:51:17'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:51:17'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:51:17'!
ERROR!

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:51:17'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:51:17'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 12:51:53' prior: 50919457!
hasRegistered: aTransaction 
	monetaryServices ifEmpty: [^ false].
	^ monetaryServices first hasRegistered: aTransaction.! !

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:51:56'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 12:51:56'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 12:51:56'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 12:51:56'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 12:51:56'!
PASSED!

!testRun: #PortfolioTests #test05 stamp: 'MK 10/16/2021 12:51:56'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:52:26'!
test05PortfolioWithOneAccountWithOneTransactionHasIt
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!methodRemoval: PortfolioTests #test05 stamp: 'MK 10/16/2021 12:52:30'!
test05
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 12:55:08'!
test06PortfolioWithTwoAccountsWithTransactionsHasThem
	| portfolio1 transaction account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	account2 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	transaction _ Deposit register: 100 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 12:55:09'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:02:18' prior: 50919508!
hasRegistered: aTransaction 
	^ monetaryServices findFirst: [:service | service hasRegistered: aTransaction ] ~= 0.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:02:20'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:02:20'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:02:20'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:02:20'!
ERROR!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:02:20'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:02:20'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:02:29' prior: 50919578!
hasRegistered: aTransaction 
	monetaryServices ifEmpty: [^ false].
	^ monetaryServices findFirst: [:service | service hasRegistered: aTransaction ] ~= 0.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:02:31'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:02:31'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:02:31'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:02:31'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:02:31'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:02:31'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:02:54' prior: 50919607!
hasRegistered: aTransaction 
	monetaryServices ifEmpty: [^ false].
	^ (monetaryServices findFirst: [:service | service hasRegistered: aTransaction ]) ~= 0.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:02:55'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:02:56'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:02:56'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:02:56'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:02:56'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:02:56'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:02:59' prior: 50919637!
hasRegistered: aTransaction 
	^ (monetaryServices findFirst: [:service | service hasRegistered: aTransaction ]) ~= 0.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:02:59'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:03:00'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:03:00'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:03:00'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:03:00'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:03:00'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 13:23:15'!
test07PortfolioDoesNotHaveDuplicates
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:23:26'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:32:05' prior: 50919129!
addMonetaryService: aMonetaryService 
	(monetaryServices findFirst: [aMonetaryService]) ~= 0 ifTrue: [
		self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:32:08'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:32:08'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:32:08'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:32:08'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:32:08'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:32:09'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:32:09'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:39:57' prior: 50919717!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ~= 0 ifTrue: [
		self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:40:16'!
ERROR!
!Portfolio class methodsFor: 'error descriptions' stamp: 'MK 10/16/2021 13:40:35'!
cannotAddDuplicatedAccountErrorDescription
	self shouldBeImplemented.! !
!Portfolio class methodsFor: 'error descriptions' stamp: 'MK 10/16/2021 13:41:53' prior: 50919766!
cannotAddDuplicatedAccountErrorDescription
	^ 'Cannot add account to portfolio if it was already present.'! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:41:54'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:42:23'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:42:35'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:42:45'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 13:43:33' prior: 50919696!
test07PortfolioDoesNotHaveDuplicates
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:43:36'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:44:39'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:45:03'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:46:21' prior: 50919752!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ~= 0 ifTrue: [
		^ self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:46:23'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:46:56' prior: 50919819!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
		^ self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:46:58'!
FAILURE!
!Portfolio class methodsFor: 'error descriptions' stamp: 'MK 10/16/2021 13:49:51' prior: 50919772!
cannotAddDuplicatedAccountErrorDescription
	^ 'Cannot add account to portfolio if it was already present.'! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:50:15' prior: 50919833!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:50:17'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:50:17'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:50:17'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:50:18'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:50:18'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:50:18'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:50:18'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:50:18'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 13:53:18' prior: 50919792!
test07PortfolioDoesNotHaveDuplicates
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 13:53:20'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 13:53:20'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 13:55:38'!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 13:55:39'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 13:56:48'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:02:14' prior: 50919854!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService].
		aService class = Portfolio ifTrue: [aService contains: aMonetaryService].
	]) 
	ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:03:04'!
contains: aMonetaryService 
	^ monetaryServices anySatisfy: [:aService | aService = aMonetaryService].! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:03:10'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:06:13' prior: 50919963!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService contains: aMonetaryService]].
	]) 
	ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:06:19'!
FAILURE!

!methodRemoval: Portfolio #contains: stamp: 'MK 10/16/2021 14:10:18'!
contains: aMonetaryService 
	^ monetaryServices anySatisfy: [:aService | aService = aMonetaryService].!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:10:29' prior: 50919986!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService = aMonetaryService]].
	]) 
	ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:10:31'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:12:12'!
contains: aMonetaryService

	^ monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService = aMonetaryService]].
	]! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:12:12' prior: 50920009!
addMonetaryService: aMonetaryService 
	(self contains: aMonetaryService) 
	ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:13:02' prior: 50920026!
contains: aMonetaryService

	^ monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService contains: aMonetaryService]].
	]! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:13:07'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:13:29'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:14:07'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:14:45'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:17:05'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:17:41'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:19:33'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:23:04'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 14:27:06' prior: 50919941!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: account1] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:27:11'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:27:11'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:27:11'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:27:11'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:27:11'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:27:11'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:27:11'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:27:11'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:27:11'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:50:15' prior: 50920037!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:28:57'!
PASSED!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:28:57'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 14:30:07' prior: 50920077!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2 ] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:30:09'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:36:55' prior: 50920123!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		 aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]. 
		 aService class = Portfolio ifTrue: [
			aService contains: aMonetaryService .
		]. 
	]
	) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:36:56' prior: 50920184!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		 aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]. 
		 aService class = Portfolio ifTrue: [
			aService contains: aMonetaryService.
		]. 
	]
	) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 14:37:52' prior: 50920164!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1 ] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:38:41' prior: 50920047!
contains: aMonetaryService
	^ monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService contains: aMonetaryService]].
	]! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:38:45' prior: 50920232!
contains: aMonetaryService
	^ monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService contains: aMonetaryService]].
	].! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:38:49'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:38:49'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:38:49'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:38:49'!
PASSED!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:39:13'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:39:13'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:39:13'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:39:13'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:39:13'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:39:13'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:39:13'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:39:13'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:39:13'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:41:03' prior: 50920199!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		 (aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService])
		 or: [aService class = Portfolio ifTrue: [
			aService contains: aMonetaryService.
		]]. 
	]
	) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:41:15' prior: 50920314!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService])
		or: [aService class = Portfolio ifTrue: [
			aService contains: aMonetaryService.]
		]. 
	]
	) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:41:21'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 14:44:40' prior: 50920329!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService])
		or: [aService class = Portfolio ifTrue: [
			aMonetaryService  = aService or: [aService contains: aMonetaryService.].
			]
		]. 
	]
	) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:44:44'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:44:49'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:45:09'!
FAILURE!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:45:10'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 13:50:15' prior: 50920347!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:51:04'!
PASSED!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:51:04'!
FAILURE!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 14:51:04'!
FAILURE!

!methodRemoval: PortfolioTests #test08 stamp: 'MK 10/16/2021 14:51:32'!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1 ] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!

!methodRemoval: Portfolio #contains: stamp: 'MK 10/16/2021 14:51:40'!
contains: aMonetaryService
	^ monetaryServices anySatisfy: [:aService | 
		(aService class = ReceptiveAccount ifTrue: [aService = aMonetaryService]) or:
		[aService class = Portfolio ifTrue: [aService contains: aMonetaryService]].
	].!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 14:51:48'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:51:48'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 14:52:10'!
test07PortfolioDoesNotHaveDuplicatePortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07PortfolioDoesNotHaveDuplicates stamp: 'MK 10/16/2021 14:52:15'!
test07PortfolioDoesNotHaveDuplicates
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 14:55:00'!
test08PortfolioDoesNotHaveDuplicateAccount
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 15:08:11' prior: 50920376!
addMonetaryService: aMonetaryService 
	(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 15:54:45' prior: 50920531!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 15:58:17' prior: 50920542!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self xxx: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	
	monetaryServices add: aMonetaryService.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:02:56'!
xxx: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService xxx: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:04:56'!
hasAccount: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccount: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:05:06' prior: 50920512!
test08PortfolioDoesNotHaveDuplicateAccount
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:05:06'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:05:07'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:09:44' prior: 50919667!
hasRegistered: aTransaction 
	^ (monetaryServices anySatisfy: [:service | service hasRegistered: aTransaction ]).! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:09:55'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:09:56'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:09:56'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:09:56'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:25:39'!
test09
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	portfolio2 addMonetaryService: account1. "kaboom"! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:25:41'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:25:41'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:27:01' prior: 50920686!
test09
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription].
	! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:27:03'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'monetaryServices myParent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/16/2021 16:29:10'!
Object subclass: #Portfolio
	instanceVariableNames: 'monetaryServices myParent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:29:44' prior: 50920555!
addMonetaryService: aMonetaryService 
	(myParent canIAdd: aMonetaryService) ifTrue: [ 
		monetaryServices add: aMonetaryService. 
		aMonetaryService addParent: self.
	] ifFalse: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].

	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self xxx: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:35:26'!
hasAccountsThatAreIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService xxx: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:35:26' prior: 50920573!
xxx: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAreIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:35:26' prior: 50920766!
addMonetaryService: aMonetaryService 
	(myParent canIAdd: aMonetaryService) ifTrue: [ 
		monetaryServices add: aMonetaryService. 
		aMonetaryService addParent: self.
	] ifFalse: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].

	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAreIn: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:35:26' prior: 50920789!
hasAccountsThatAreIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAreIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !

!methodRemoval: Portfolio #xxx: stamp: 'MK 10/16/2021 16:35:26'!
xxx: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAreIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:36:37'!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAreIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:36:38' prior: 50920813!
addMonetaryService: aMonetaryService 
	(myParent canIAdd: aMonetaryService) ifTrue: [ 
		monetaryServices add: aMonetaryService. 
		aMonetaryService addParent: self.
	] ifFalse: [
		^ self error: self class cannotAddDuplicatedAccountErrorDescription.
	].

	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:36:38' prior: 50920837!
hasAccountsThatAreIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:36:38' prior: 50920860!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.! !

!methodRemoval: Portfolio #hasAccountsThatAreIn: stamp: 'MK 10/16/2021 16:36:38'!
hasAccountsThatAreIn: aPortfolio 
	monetaryServices do: [:aService | 
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		].
	].
	^ false.!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 15:58:17' prior: 50920873!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self xxx: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:39:52'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:39:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:39:53'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:39:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:39:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:39:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:39:53'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:39:53'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:39:53'!
ERROR!

!methodRemoval: PortfolioTests #test09 stamp: 'MK 10/16/2021 16:40:16'!
test09
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription].
	!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:40:57' prior: 50920935!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService = aMonetaryService ]) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:40:59'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:40:59'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:41:30' prior: 50920596!
test08PortfolioDoesNotHaveDuplicateAccount
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:41:32'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:42:27' prior: 50921001!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
		ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	
	monetaryServices add: aMonetaryService.! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:42:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:42:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:42:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:42:30'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:42:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:42:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:42:30'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:42:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:42:30'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 16:43:41' prior: 50921074!
addMonetaryService: aMonetaryService 
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
		ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
			^ self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	].
	
	monetaryServices add: aMonetaryService.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'MK 10/16/2021 16:44:12'!
hasAccount: anAccount

	^ self = anAccount .! !

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:44:23'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:44:24'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:44:24'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:44:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:44:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:44:30'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:45:14'!
test07
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07PortfolioDoesNotHaveDuplicatePortfolio stamp: 'MK 10/16/2021 16:45:14'!
test07PortfolioDoesNotHaveDuplicatePortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:45:21'!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test08PortfolioDoesNotHaveDuplicateAccount stamp: 'MK 10/16/2021 16:45:21'!
test08PortfolioDoesNotHaveDuplicateAccount
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 16:52:56'!
test09
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test07 stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 16:53:09'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 16:53:09'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:03:43' prior: 50921287!
test09
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.
	portfolio1 addMonetaryService: portfolio2.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio0 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test07 stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test08 stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:03:44'!
PASSED!

!methodRemoval: PortfolioTests #test09 stamp: 'MK 10/16/2021 17:04:02'!
test09
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.
	portfolio1 addMonetaryService: portfolio2.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio0 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:08:43'!
test07AddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07 stamp: 'MK 10/16/2021 17:08:44'!
test07
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:09:12'!
test08AddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test08 stamp: 'MK 10/16/2021 17:09:13'!
test08
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:09:29'!
test07AddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07AddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:09:29'!
test07AddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!

----SNAPSHOT----(16 October 2021 17:10:21) CuisUniversity-4913.image priorSource: 18800276!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:12:35'!
test05PortfolioHasRegisteredTransactionThatIsInAddedAccount
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!methodRemoval: PortfolioTests #test05PortfolioWithOneAccountWithOneTransactionHasIt stamp: 'MK 10/16/2021 17:12:36'!
test05PortfolioWithOneAccountWithOneTransactionHasIt
	| portfolio1 transaction account |
	portfolio1 _ Portfolio new.
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio1 addMonetaryService: account.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:13:15'!
test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded
	| portfolio1 transaction account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	account2 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	transaction _ Deposit register: 100 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !

!methodRemoval: PortfolioTests #test06PortfolioWithTwoAccountsWithTransactionsHasThem stamp: 'MK 10/16/2021 17:13:15'!
test06PortfolioWithTwoAccountsWithTransactionsHasThem
	| portfolio1 transaction account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	account2 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	transaction _ Deposit register: 100 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:13:38'!
test04EmptyPortfolioHasNotRegisteredTransaction
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!methodRemoval: PortfolioTests #test04EmptyPortfolioDoesNotHaveTransaction stamp: 'MK 10/16/2021 17:13:38'!
test04EmptyPortfolioDoesNotHaveTransaction
	| portfolio1 transaction |
	portfolio1 _ Portfolio new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:14:37'!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07AddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:14:37'!
test07AddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:14:58'!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test08AddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:14:58'!
test08AddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio2 addMonetaryService: account1.
	portfolio1 addMonetaryService: portfolio2.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:16:27'!
test09
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.	
	portfolio0 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:16:29'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:25:34' prior: 50921126!
addMonetaryService: aMonetaryService 
	myParent isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	].
	(myParent canIAdd: aMonetaryService) 
		ifTrue: [
			monetaryServices add: aMonetaryService.
			aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent]
		] 
		ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].

	
	
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:26:23'!
addParent
	^ self shouldBeImplemented.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:26:32'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:26:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:26:33'!
ERROR!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:26:33'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:27:17'!
addParent: aPortfolio
	myParent _ aPortfolio.! !

!methodRemoval: Portfolio #addParent stamp: 'MK 10/16/2021 17:27:20'!
addParent
	^ self shouldBeImplemented.!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:27:26' prior: 50921696!
addMonetaryService: aMonetaryService 
	myParent isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	].
	(myParent canIAdd: aMonetaryService) 
		ifTrue: [
			monetaryServices add: aMonetaryService.
			aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.]
		] 
		ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].

	
	
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:28:11' prior: 50921768!
addMonetaryService: aMonetaryService 
	myParent isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		monetaryServices add: aMonetaryService.
		aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
		^ self.
	].
	(myParent canIAdd: aMonetaryService) 
		ifTrue: [
			monetaryServices add: aMonetaryService.
			aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.]
		] 
		ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].

	
	
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:28:51' prior: 50921796!
addMonetaryService: aMonetaryService 
	myParent isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
	(myParent canIAdd: aMonetaryService) 
		ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:28:56'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:28:56'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:28:56'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:29:05'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:29:05'!
FAILURE!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:29:09'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:29:09'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:29:09'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:33:14'!
canIAdd: aMonetaryService
	"TODO: ask my parent if i have one"	
	aMonetaryService class = Portfolio ifTrue: [ ^ self hasAccountsThatAppearIn: aMonetaryService ].
	aMonetaryService class = ReceptiveAccount ifTrue: [^ self hasAccount: aMonetaryService ].! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:33:38'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:34:27' prior: 50921828!
addMonetaryService: aMonetaryService 
	myParent isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
		(myParent canIAdd: aMonetaryService) 
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:34:30'!
FAILURE!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:35:42'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:39:42' prior: 50921931!
canIAdd: aMonetaryService
	"TODO: ask my parent if i have one"	
	aMonetaryService class = Portfolio ifTrue: [ ^ self hasAccountsThatAppearIn: aMonetaryService not ].
	aMonetaryService class = ReceptiveAccount ifTrue: [^ self hasAccount: aMonetaryService not ].! !

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:39:43'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:40:28' prior: 50921977!
canIAdd: aMonetaryService
	"TODO: ask my parent if i have one"	
	aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
	aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:40:30'!
PASSED!

!testRun: #PortfolioTests #test09 stamp: 'MK 10/16/2021 17:40:30'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:41:00'!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.	
	portfolio0 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test09 stamp: 'MK 10/16/2021 17:41:03'!
test09
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.	
	portfolio0 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:41:19'!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.	
	portfolio0 addMonetaryService: account1.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:42:59' prior: 50922077!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio3 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:43:10' prior: 50922099!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio2 portfolio3 account1 |
	portfolio0 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:43:14' prior: 50922121!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio1 portfolio2 portfolio3 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:43:54' prior: 50922143!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio1.
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:44:10'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:45:27' prior: 50921991!
canIAdd: aMonetaryService
	myParent isNil ifTrue: [
		aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
		aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ]	
	] ifFalse: [
		^ myParent canIAdd: aMonetaryService.
	].! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/16/2021 17:45:31'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:45:31'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:48:34'!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.
	portfolio1 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:48:36'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:48:36'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:48:59' prior: 50922248!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio11 portfolio1 portfolio2 account1 |
	portfolio11 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio11 addMonetaryService: portfolio2.
	portfolio1 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:49:02' prior: 50922316!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio11 portfolio0 portfolio2 account1 |
	portfolio11 _ Portfolio new.
	portfolio0 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio11 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:49:08' prior: 50922338!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio0 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:49:28' prior: 50922360!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:49:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:49:30'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:49:31'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:49:31'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/16/2021 17:49:31'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:49:31'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:49:31'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:49:37' prior: 50922382!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:49:38'!
FAILURE!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MK 10/16/2021 17:50:33'!
Object subclass: #Portfolio
	instanceVariableNames: 'monetaryServices parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:50:34' prior: 50922193!
canIAdd: aMonetaryService
	parents isNil ifTrue: [
		aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
		aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ]	
	] ifFalse: [
		^ parents canIAdd: aMonetaryService.
	].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:50:34' prior: 50921945!
addMonetaryService: aMonetaryService 
	parents isNil ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
		(parents canIAdd: aMonetaryService) 
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/16/2021 17:50:34' prior: 50921760!
addParent: aPortfolio
	parents _ aPortfolio.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:50:49' prior: 50919136 overrides: 16896425!
initialize
	monetaryServices _ OrderedCollection new.
	parents _ OrderedCollection new.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:50:56' prior: 50922497!
addMonetaryService: aMonetaryService 
	parents isEmpty ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
		(parents canIAdd: aMonetaryService) 
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:52:02' prior: 50922535!
addMonetaryService: aMonetaryService 
	parents isEmpty ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(monetaryServices anySatisfy: [:aService | aService hasAccount: aMonetaryService ]) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
		]
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:52:09'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:52:21' prior: 50922484!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
		aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ]	
	] ifFalse: [
		^ parents canIAdd: aMonetaryService.
	].! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:52:37' prior: 50922594!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
		aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ]	
	] ifFalse: [
		
		^ parents canIAdd: aMonetaryService.
	].! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:53:06' prior: 50922607!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		aMonetaryService class = Portfolio ifTrue: [ ^ (self hasAccountsThatAppearIn: aMonetaryService) not ].
		aMonetaryService class = ReceptiveAccount ifTrue: [^ (self hasAccount: aMonetaryService) not ]	
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:53:09'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/16/2021 17:53:21' prior: 50922524!
addParent: aPortfolio
	parents add: aPortfolio.! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/16/2021 17:53:25'!
PASSED!

----SNAPSHOT----(16 October 2021 17:53:35) CuisUniversity-4913.image priorSource: 18875638!

----SNAPSHOT----(16 October 2021 17:55:58) CuisUniversity-4913.image priorSource: 18913224!

----STARTUP---- (17 October 2021 10:38:11) as /home/usuario/Downloads/UBA/INGE I/Cuis/linux64/CuisUniversity-4913.image!


----End fileIn of /home/usuario/Downloads/UBA/INGE I/Cuis/linux64/Portfolio-Ejercicio.st----!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:51:20' prior: 50915015!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: (OrderedCollection new) = portfolio transactions.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:51:29' prior: 50915359!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 10:51:29'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:51:20' prior: 50915368!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: (OrderedCollection new) = portfolio transactions.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:51:29' prior: 50915464!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:52:36'!
test12
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !

!testRun: #PortfolioTests #test12 stamp: 'Chiro 10/17/2021 10:52:38'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:52:57'!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:53:52' prior: 50915504!
transactions
	^OrderedCollection new.! !

!testRun: #PortfolioTests #test12 stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #PortfolioTests #test12 stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 10:53:53'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 10:58:50'!
test12PortfolioHasNotTransactions
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !

!methodRemoval: PortfolioTests #test12 stamp: 'Chiro 10/17/2021 10:58:52'!
test12
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:00:22'!
test12PortfolioHasNoTransactions
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !

!methodRemoval: PortfolioTests #test12PortfolioHasNotTransactions stamp: 'Chiro 10/17/2021 11:00:37'!
test12PortfolioHasNotTransactions
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:06:41'!
test13
	| portfolio account1 totalTransactions transaction|
	portfolio _ Portfolio new.
	account1 _ ReceptiveAccount new.
	transaction _ Deposit for: 50.
	account1 register: transaction.
	portfolio addMonetaryService: account1.
	totalTransactions _ OrderedCollection with: transaction.
	self assert: totalTransactions = portfolio transactions.
	! !

!testRun: #PortfolioTests #test13 stamp: 'Chiro 10/17/2021 11:06:43'!
FAILURE!
!ReceptiveAccount methodsFor: 'testing' stamp: 'Chiro 10/17/2021 11:13:26' prior: 50915332!
transactions
	^ transactions copy. 
! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:16:11' prior: 50915509!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	 ^(monetaryServices do: [:service | totalTransactions union: service transactions]).! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test13 stamp: 'Chiro 10/17/2021 11:16:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:16:14'!
PASSED!

!testRun: #PortfolioTests #test13 stamp: 'Chiro 10/17/2021 11:16:14'!
FAILURE!

!testRun: #PortfolioTests #test13 stamp: 'Chiro 10/17/2021 11:16:27'!
PASSED!

----STARTUP---- (17 October 2021 11:16:43) as /home/usuario/Downloads/UBA/INGE I/Cuis/linux64/CuisUniversity-4913.image!


----End fileIn of /home/usuario/Downloads/UBA/INGE I/Cuis/linux64/Portfolio-Ejercicio.st----!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:17:55'!
test12
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:18:11'!
test12PortfolioHasNoTransactions
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !

!methodRemoval: PortfolioTests #test12 stamp: 'Chiro 10/17/2021 11:18:12'!
test12
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:18:15'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:18:25'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:18:48'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:18:56'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:19:08'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:19:16'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:19:30'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:20:31'!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:20:42' prior: 50915401!
transactions
	^OrderedCollection new.! !

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:20:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:20:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:20:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:20:44'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:21:03'!
test13PortfolioTransactionsHasOneTransaction
	| portfolio|
	portfolio _ Portfolio new.
	
	self assert: OrderedCollection new = portfolio transactions.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:22:58' prior: 50915487!
test13PortfolioTransactionsHasOneTransaction
	| portfolio account1 transaction|
	portfolio _ Portfolio new.
	
	account1 _ ReceptiveAccount new.
	transaction _ Deposit for: 50.
	account1 register: transaction.
	portfolio addMonetaryService: account1.
	
	self assert: (OrderedCollection with: transaction) = portfolio transactions.
	! !

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:23:00'!
FAILURE!

----SNAPSHOT----(17 October 2021 11:23:46) CuisUniversity-4913.image priorSource: 18661997!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:25:27' prior: 50915406!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	monetaryServices do: [:service | totalTransactions union: service transactions].
	^totalTransactions! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:25:29'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:25:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:25:29'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:26:52' prior: 50915516!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	monetaryServices do: [:service | totalTransactions _ totalTransactions union: service transactions].
	^totalTransactions! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:26:54'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:26:54'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:26:54'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:30:59' prior: 50915606!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	monetaryServices do: [:service |totalTransactions addAllLast: service transactions].
	^totalTransactions! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:31:01'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:33:47' prior: 50915697!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	^(monetaryServices first) transactions.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:33:55' prior: 50915783!
transactions
	^(monetaryServices first) transactions.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:33:57'!
ERROR!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:33:57'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:33:57'!
ERROR!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:34:21'!
ERROR!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:34:21'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:34:21'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:35:14' prior: 50915790!
transactions
	(monetaryServices isEmpty) ifTrue: [^OrderedCollection new]
	^(monetaryServices first) transactions.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:35:15'!
ERROR!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:35:15'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:35:15'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:35:23'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:36:00' prior: 50915959!
transactions
	(monetaryServices isEmpty) ifTrue: [^OrderedCollection new].
	^(monetaryServices first) transactions.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:36:01'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:39:00'!
test14PortfolioTransactionsHasInnerPortfolioTransactions
	| portfolio1 portfolio2 account1 account2 transaction2 transaction1|
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	
	account1 _ ReceptiveAccount new.
	transaction1 _ Deposit for: 50.
	account2 _ ReceptiveAccount new.
	transaction2 _ Deposit for: 100.
	account1 register: transaction1.
	account2 register: transaction2.

	portfolio1 addMonetaryService: account1.
	portfolio2 addMonetaryService: account2.
	portfolio1 addMonetaryService: portfolio2.
	self assert: (OrderedCollection with: transaction1 with: transaction2) = portfolio1 transactions.
	! !

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 11:39:03'!
FAILURE!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:40:01' prior: 50916046!
transactions
	|totalTransactions|
	totalTransactions _ OrderedCollection new.
	monetaryServices do: [:service |totalTransactions addAllLast: service transactions].
	^totalTransactions.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:40:02'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:45:29' prior: 50915202!
addMonetaryService: aMonetaryService 
	parents isEmpty ifTrue: [
		aMonetaryService class = ReceptiveAccount ifTrue: [
			(self hasAccount: aMonetaryService) 
			ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^ self error: self class cannotAddDuplicatedAccountErrorDescription.
			].
		].
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
		]
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:45:30'!
PASSED!
!Portfolio methodsFor: 'nil' stamp: 'Chiro 10/17/2021 11:49:42'!
hasMonetaryService: aMonetaryService
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:49:56' prior: 50916247!
addMonetaryService: aMonetaryService 
	parents isEmpty ifTrue: [
		
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
		]
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 11:50:45' prior: 50916354!
hasMonetaryService: aMonetaryService
	aMonetaryService class = ReceptiveAccount ifTrue: [
			(self hasAccount: aMonetaryService) 
			ifTrue: [
				^true.
			].
		].
		aMonetaryService class = Portfolio ifTrue: [
			(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [
				^true.
			].
		].
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:51:36' prior: 50916359!
addMonetaryService: aMonetaryService 
	parents isEmpty ifTrue: [
		(self hasMonetaryService: aMonetaryService) 
		ifTrue: [
			^self error: self class cannotAddDuplicatedAccountErrorDescription.
		].
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ self error: self class cannotAddDuplicatedAccountErrorDescription.].
		]
	].
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 11:51:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:51:40'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 11:53:50' prior: 50916374!
hasMonetaryService: aMonetaryService
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(self hasAccount: aMonetaryService) ifTrue: [^true.].
		].
	
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [^true.].
		].
	^false
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 11:53:52'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:11:51' prior: 50915239!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		^(self hasMonetaryService: aMonetaryService) not
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:11:52'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:14:12' prior: 50916387!
addMonetaryService: aMonetaryService 
	(self canIAdd: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.].
	
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:14:13'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:18:24' prior: 50916672!
addMonetaryService: aMonetaryService 
	(self canIAdd: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService becomeChildOf: self.
	
	"aMonetaryService class = Portfolio ifTrue: [aMonetaryService addParent: self.]."
	
	! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'Chiro 10/17/2021 12:18:59'!
becomeChildOf: aPortfolio
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:19:44'!
becomeChildOf: aPortfolio
	parents add: aPortfolio.! !

!methodRemoval: Portfolio #addParent: stamp: 'Chiro 10/17/2021 12:19:44'!
addParent: aPortfolio
	parents add: aPortfolio.!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:19:53'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:20:02' prior: 50916765!
addMonetaryService: aMonetaryService 
	(self canIAdd: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService becomeChildOf: self.

	
	! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:27:02' prior: 50916487!
hasMonetaryService: aMonetaryService

	^aMonetaryService canBeAddedTo: self.
	"
	aMonetaryService class = ReceptiveAccount ifTrue: [
		(self hasAccount: aMonetaryService) ifTrue: [^true.].
		].
	
	aMonetaryService class = Portfolio ifTrue: [
		(self hasAccountsThatAppearIn: aMonetaryService) ifTrue: [^true.].
		].
	^false
	"! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'Chiro 10/17/2021 12:27:37'!
canBeAddedTo: aPortfolio
	^aPortfolio hasAccount: self! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:32:30' prior: 50915265!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | (self hasMonetaryService: aService) ifTrue:[^true]"
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		]."
	].
	^ false.! !
!Portfolio methodsFor: 'nil' stamp: 'Chiro 10/17/2021 12:33:25'!
canBeAddedTo: aPortfolio
	^aPortfolio hasAccountsThatAppearIn: self. ! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:33:26'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:33:26'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:33:26'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:33:26'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:33:26'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:33:26'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:35:19'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:35:19'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:35:19'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:35:19'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:35:19'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:35:19'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:37:12' prior: 50916901!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | (aService hasMonetaryService: aPortfolio) ifTrue:[^true]"
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		]."
	].
	^ false.! !

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:37:13'!
FAILURE!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:37:13'!
FAILURE!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:37:13'!
FAILURE!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:37:13'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:37:13'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:37:28'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:37:39'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:38:06' prior: 50916967!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | (aService canBeAddedTo: aPortfolio) ifTrue:[^true]"
		aService class = ReceptiveAccount ifTrue: [
			(aPortfolio hasAccount: aService)	 ifTrue: [^ true].
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccountsThatAppearIn: aPortfolio) ifTrue: [^ true].
		]."
	].
	^ false.! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:38:08'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:38:12'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:38:24' prior: 50916883!
hasMonetaryService: aMonetaryService

	^aMonetaryService canBeAddedTo: self.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:38:42' prior: 50917048!
hasAccountsThatAppearIn: aPortfolio 
	monetaryServices do: [:aService | (aService canBeAddedTo: aPortfolio) ifTrue:[^true]].
	^ false.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:49:26'!
XXXX: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccount: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'Chiro 10/17/2021 12:49:26'!
XXXX: anAccount

	^ self = anAccount .! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 12:49:26' prior: 50916896!
canBeAddedTo: aPortfolio
	^aPortfolio XXXX: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 12:49:26' prior: 50915254!
hasAccount: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 12:49:26' prior: 50917161!
XXXX: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.! !

!methodRemoval: Portfolio #hasAccount: stamp: 'Chiro 10/17/2021 12:49:27'!
hasAccount: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.!

!methodRemoval: ReceptiveAccount #hasAccount: stamp: 'Chiro 10/17/2021 12:49:27'!
hasAccount: anAccount

	^ self = anAccount .!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:49:33'!
hasAccount: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccount: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.! !

!methodRemoval: Portfolio #hasAccount: stamp: 'Chiro 10/17/2021 12:49:34'!
hasAccount: anAccount
	monetaryServices do: [:aService | 
		(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService hasAccount: anAccount ) ifTrue: [^ true].
		].
	].
	^ false.!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:49:57' prior: 50917194!
XXXX: anAccount
	monetaryServices do: [:aService | aService XXXX: anAccount
		"(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		]."
	].
	^ false.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:49:58'!
FAILURE!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:49:58'!
FAILURE!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:49:58'!
FAILURE!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:49:58'!
FAILURE!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:49:58'!
FAILURE!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:49:58'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:50:25' prior: 50917241!
XXXX: anAccount
	monetaryServices do: [:aService | (aService XXXX: anAccount) ifTrue: [^true]
		"(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		]."
	].
	^ false.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:50:26'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:50:56' prior: 50917334!
XXXX: anAccount
	"XXXX was hasAccount"
	monetaryServices do: [:aService | (aService XXXX: anAccount) ifTrue: [^true]].
	^ false.
	
		"(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		]."! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:53:05' prior: 50916580!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self) not
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:53:07'!
PASSED!

!methodRemoval: Portfolio #hasMonetaryService: stamp: 'Chiro 10/17/2021 12:53:18'!
hasMonetaryService: aMonetaryService

	^aMonetaryService canBeAddedTo: self.!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:53:29'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:55:20' prior: 50917428!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices anySatisfy: [:aService | aService XXXX: anAccount].
	
	
		"(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		]."! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:55:21'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:55:56' prior: 50917154!
hasAccountsThatAppearIn: aPortfolio 
	^monetaryServices anySatisfy: [:aService | aService canBeAddedTo: aPortfolio].
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:56:33'!
PASSED!

----SNAPSHOT----(17 October 2021 12:56:41) CuisUniversity-4913.image priorSource: 18683588!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 12:58:10' prior: 50916915!
canBeAddedTo: aPortfolio
	^monetaryServices anySatisfy: [:aService | aService canBeAddedTo: aPortfolio].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 12:58:13'!
PASSED!

!methodRemoval: Portfolio #hasAccountsThatAppearIn: stamp: 'Chiro 10/17/2021 12:58:22'!
hasAccountsThatAppearIn: aPortfolio 
	^monetaryServices anySatisfy: [:aService | aService canBeAddedTo: aPortfolio].
	!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:00:17' prior: 50917804!
canBeAddedTo: aPortfolio
	^monetaryServices allSatisfy: [:aService | aService canBeAddedTo: aPortfolio].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:00:18'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:00:18'!
ERROR!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:00:18'!
ERROR!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:00:18'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:00:18'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:00:23'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:01:27' prior: 50917441!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:01:29'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:01:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:01:36'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:02:17' prior: 50917619!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].
	
	
		"(aService class = ReceptiveAccount and: [aService = anAccount]) ifTrue: [
			^ true.
		].
		aService class = Portfolio ifTrue: [
			(aService XXXX: anAccount ) ifTrue: [^ true].
		]."! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:02:18'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:02:22'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:02:22'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:02:22'!
FAILURE!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:02:22'!
FAILURE!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:02:22'!
FAILURE!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:02:22'!
FAILURE!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:02:22'!
FAILURE!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:02:22'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:02:22'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:02:26'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:04:23'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'Chiro 10/17/2021 13:04:57' prior: 50917172!
XXXX: anAccount

	^ self ~= anAccount .! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:04:59'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:05:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:05:05'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:42:13'!
familiyDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	] ifFalse: [
		parents do: [:myParent | (myParent canIAdd: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 13:42:13' prior: 50916872!
addMonetaryService: aMonetaryService 
	(self familiyDoesNotHave: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService becomeChildOf: self.

	
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 13:42:13' prior: 50917990!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	] ifFalse: [
		parents do: [:myParent | (myParent familiyDoesNotHave: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'Chiro 10/17/2021 13:42:13' prior: 50918357!
familiyDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	] ifFalse: [
		parents do: [:myParent | (myParent familiyDoesNotHave: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].! !

!methodRemoval: Portfolio #canIAdd: stamp: 'Chiro 10/17/2021 13:42:13'!
canIAdd: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	] ifFalse: [
		parents do: [:myParent | (myParent familiyDoesNotHave: aMonetaryService)
			ifFalse: [^ false.].
		].
		^ true.
	].!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:44:06' prior: 50918391!
familiyDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	].
	^parents allSatisfy: [:myParent | myParent familiyDoesNotHave: aMonetaryService]! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'Chiro 10/17/2021 13:44:07'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:47:27' prior: 50918085!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !

----SNAPSHOT----(17 October 2021 14:04:00) CuisUniversity-4913.image priorSource: 18756795!

----STARTUP---- (18 October 2021 07:24:28) as C:\Users\ferra\Desktop\CUIS SmallTalk\windows64\CuisUniversity-4913.image!


----End fileIn of D:\Apuntes\Inge 1\Repos\Repo de entregas\17-Portfolio 1\Portfolio-Ejercicio.st----!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 07:26:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 07:39:11'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 07:47:16'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 07:47:16'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 07:47:22' prior: 50915015!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio1 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 07:47:22'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 07:47:22'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 07:47:29' prior: 50915525!
test11PortfolioCannotAddAccountThatIsInSecondParent
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 07:47:29'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 07:47:29'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:01:52' prior: 50915247!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices anySatisfy: [:aService | aService XXXX: anAccount].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 08:01:52'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 08:01:52'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:01:52'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:01:52'!
ERROR!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:01:52'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'Chiro 10/17/2021 13:47:27' prior: 50915681!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:31:31' prior: 50915275!
canBeAddedTo: aPortfolio

	^aPortfolio YYYY: monetaryServices.
	"^monetaryServices allSatisfy: [:aService | aService canBeAddedTo: aPortfolio]."! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 08:31:31'!
ERROR!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:31:31'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:31:31'!
ERROR!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:33:18'!
YYYY: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:33:19'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:33:19'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:35:47' prior: 50915747!
canBeAddedTo: aPortfolio

	^aPortfolio YYYY: monetaryServices.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:35:47'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:35:47'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:37:32'!
canAddAll: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 08:37:32' prior: 50915867!
canBeAddedTo: aPortfolio

	^aPortfolio canAddAll: monetaryServices.! !

!methodRemoval: Portfolio #YYYY: stamp: 'AF 10/18/2021 08:37:32'!
YYYY: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:55:51'!
canAddAllMonetaryServices: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 08:55:51' prior: 50915932!
canBeAddedTo: aPortfolio

	^aPortfolio canAddAllMonetaryServices: monetaryServices.! !

!methodRemoval: Portfolio #canAddAll: stamp: 'AF 10/18/2021 08:55:51'!
canAddAll: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 08:56:49'!
canAddAccount: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/18/2021 08:56:49'!
canAddAccount: anAccount

	^ self ~= anAccount .! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 08:56:49' prior: 50915740!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canAddAccount: anAccount].! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 08:56:49' prior: 50915381!
canBeAddedTo: aPortfolio
	^aPortfolio canAddAccount: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 08:56:49' prior: 50915965!
canAddAccount: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canAddAccount: anAccount].! !

!methodRemoval: Portfolio #XXXX: stamp: 'AF 10/18/2021 08:56:49'!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canAddAccount: anAccount].!

!methodRemoval: ReceptiveAccount #XXXX: stamp: 'AF 10/18/2021 08:56:49'!
XXXX: anAccount

	^ self ~= anAccount .!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 08:57:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 08:57:08'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:57:10'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 08:57:14'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 08:57:14'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 08:57:14'!
PASSED!
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 09:00:26'!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canAddAccount: anAccount].! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/18/2021 09:00:26'!
XXXX: anAccount

	^ self ~= anAccount .! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:00:26' prior: 50915984!
canBeAddedTo: aPortfolio
	^aPortfolio XXXX: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:00:26' prior: 50915989!
canAddAccount: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:00:26' prior: 50916099!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !

!methodRemoval: Portfolio #canAddAccount: stamp: 'AF 10/18/2021 09:00:26'!
canAddAccount: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].!

!methodRemoval: ReceptiveAccount #canAddAccount: stamp: 'AF 10/18/2021 09:00:26'!
canAddAccount: anAccount

	^ self ~= anAccount .!

Object subclass: #MonetaryService
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #MonetaryService category: 'Portfolio-Ejercicio' stamp: 'AF 10/18/2021 09:02:37'!
Object subclass: #MonetaryService
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

MonetaryService subclass: #Portfolio
	instanceVariableNames: 'monetaryServices parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'AF 10/18/2021 09:03:00'!
MonetaryService subclass: #Portfolio
	instanceVariableNames: 'monetaryServices parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

MonetaryService subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'AF 10/18/2021 09:03:15'!
MonetaryService subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!MonetaryService methodsFor: 'nil' stamp: 'AF 10/18/2021 09:04:29'!
balance

	^self subclassResponsibility.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'AF 10/18/2021 09:05:03' prior: 50915264 overrides: 50916178!
balance
	^ monetaryServices sum: [:aMonetaryService | aMonetaryService balance] ifEmpty: [^ 0].! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:06:23'!
hasRegistered: aTransaction

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:06:34'!
transactions

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:07:17' overrides: 16896425!
initialize

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:07:57'!
canBeAddedTo: aPortfolio

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:09:59'!
XXXX: aMonetaryService

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:10:15' prior: 50916209!
XXXX: anAccount

	^self subclassResponsibility.! !
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 09:10:42'!
becomeChildOf: aPortfolio

	^self subclassResponsibility.! !

----SNAPSHOT----(18 October 2021 09:12:35) CuisUniversity-4913.image priorSource: 18661997!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 09:12:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 09:12:47'!
PASSED!

----SNAPSHOT----(18 October 2021 09:14:44) CuisUniversity-4913.image priorSource: 18706332!

----STARTUP---- (18 October 2021 13:48:58) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


!classRemoval: #ReceptiveAccount stamp: 'MK 10/18/2021 13:49:09'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'MK 10/18/2021 13:49:09'!
Object subclass: #Portfolio
	instanceVariableNames: 'monetaryServices parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'MK 10/18/2021 13:49:09'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'MK 10/18/2021 13:49:10'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'MK 10/18/2021 13:49:10'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'MK 10/18/2021 13:49:10'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortfolioTests stamp: 'MK 10/18/2021 13:49:10'!
TestCase subclass: #PortfolioTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of D:\001.Maca\2c2021\inge1\newqa1\Portfolio-Ejercicio.st----!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:50:55' prior: 50922994!
test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 
	| account |
	
	account := ReceptiveAccount new.
	self assert: 0 equals: account balance.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:51:13' prior: 50923002!
test02DepositIncreasesBalanceOnTransactionValue 
	| account |
	
	account := ReceptiveAccount  new.
	
	Deposit register: 100 on: account.
	
	self assert: 100 equals: account balance.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:51:32' prior: 50923021!
test04WithdrawValueMustBePositive 
	| account withdrawValue |
	
	account := ReceptiveAccount new.
	
	withdrawValue := 50.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:51:54' prior: 50923031!
test05ReceptiveAccountKnowsRegisteredTransactions 
	| account deposit withdraw |
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	withdraw := Withdraw register: 50 on: account.
	
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:52:11' prior: 50923044!
test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| deposit withdraw account |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 200.
	withdraw := Withdraw for: 50.
	
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered:withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'MK 10/18/2021 13:52:31' prior: 50923056!
test07AccountKnowsItsTransactions 
	| account1 deposit1 |
	
	account1 := ReceptiveAccount new.
	deposit1 := Deposit register: 50 on: account1.

	self assert: 1 equals: account1 transactions size.
	self assert: (account1 transactions includes: deposit1).
! !

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 13:52:32'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:14:48'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:14:48'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'MK 10/18/2021 14:16:46'!
serviceTreeDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	].
	^parents allSatisfy: [:myParent | myParent familiyDoesNotHave: aMonetaryService]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:16:46' prior: 50923238!
familiyDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	].
	^parents allSatisfy: [:myParent | myParent serviceTreeDoesNotHave: aMonetaryService]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:16:46' prior: 50923200!
addMonetaryService: aMonetaryService 
	(self serviceTreeDoesNotHave: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService becomeChildOf: self.

	
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:16:46' prior: 50923495!
serviceTreeDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	].
	^parents allSatisfy: [:myParent | myParent serviceTreeDoesNotHave: aMonetaryService]! !

!methodRemoval: Portfolio #familiyDoesNotHave: stamp: 'MK 10/18/2021 14:16:46'!
familiyDoesNotHave: aMonetaryService
	parents isEmpty ifTrue: [
		^(aMonetaryService canBeAddedTo: self)
	].
	^parents allSatisfy: [:myParent | myParent serviceTreeDoesNotHave: aMonetaryService]!
!Portfolio methodsFor: 'testing' stamp: 'MK 10/18/2021 14:25:02'!
canAdd: aMonetaryService
	^ self serviceTreeDoesNotHave: aMonetaryService.! !
!Portfolio methodsFor: 'operations' stamp: 'MK 10/18/2021 14:25:22' prior: 50923515!
addMonetaryService: aMonetaryService 
	(self canAdd: aMonetaryService) ifFalse:[
		^self error: self class cannotAddDuplicatedAccountErrorDescription.
	].
	
	monetaryServices add: aMonetaryService.
	aMonetaryService becomeChildOf: self.

	
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:25:24'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:25:24'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:25:25'!
PASSED!

----SNAPSHOT----(18 October 2021 14:25:36) CuisUniversity-4913.image priorSource: 18913317!
!AccountTransaction methodsFor: 'value' stamp: 'MK 10/18/2021 14:32:00'!
balance
	self subclassResponsibility.! !
!AccountTransaction methodsFor: 'value' stamp: 'MK 10/18/2021 14:32:02' prior: 50923617!
balance
	^ self subclassResponsibility.! !
!Deposit methodsFor: 'no messages' stamp: 'MK 10/18/2021 14:32:28' overrides: 50923622!
balance
	^ value.! !
!Withdraw methodsFor: 'no messages' stamp: 'MK 10/18/2021 14:33:34' overrides: 50923622!
balance
	^ self value * -1! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:33:42' prior: 50923627 overrides: 50923622!
balance
	^ self value.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:34:12' prior: 50923631 overrides: 50923622!
balance
	^ (self value) * -1! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:34:13'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:34:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:34:14'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'MK 10/18/2021 14:35:04' prior: 50923317 overrides: 50923151!
balance
	^ transactions sum: [ :aTransaction | aTransaction balance ] ifEmpty: [ 0 ] ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:35:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:35:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:35:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:35:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:35:06'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:35:12'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:35:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:35:18'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:35:20'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:35:21'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:35:21'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'MK 10/18/2021 14:35:41' prior: 50923725 overrides: 50923151!
balance
	^ transactions sum: [ :aTransaction | aTransaction balance ] ifEmpty: [ 0 ].! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 14:36:02' prior: 50923641 overrides: 50923622!
balance
	^ self value * -1! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 14:36:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:36:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MK 10/18/2021 14:36:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:36:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MK 10/18/2021 14:36:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MK 10/18/2021 14:36:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MK 10/18/2021 14:36:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MK 10/18/2021 14:36:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MK 10/18/2021 14:36:11'!
PASSED!

|t1 t2 |!

t1 _ Deposit for: 50.!

t2 _ Deposit for: 50.!

t1 = t2.!

Set with: t1 with: t2.!
!MonetaryService methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:03:50'!
canCoexistWith: anAccount

	^self subclassResponsibility.! !
!Portfolio methodsFor: 'as yet undefined' stamp: 'MK 10/18/2021 15:03:50' overrides: 50924036!
canCoexistWith: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService XXXX: anAccount].! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'MK 10/18/2021 15:03:50' overrides: 50924036!
canCoexistWith: anAccount

	^ self ~= anAccount .! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:03:50' prior: 50923343 overrides: 50923160!
canBeAddedTo: aPortfolio
	^aPortfolio canCoexistWith: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:03:50' prior: 50923194 overrides: 50923146!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canCoexistWith: anAccount].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:03:50' prior: 50924041 overrides: 50924036!
canCoexistWith: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canCoexistWith: anAccount].! !

!methodRemoval: MonetaryService #XXXX: stamp: 'MK 10/18/2021 15:03:50'!
XXXX: anAccount

	^self subclassResponsibility.!

!methodRemoval: Portfolio #XXXX: stamp: 'MK 10/18/2021 15:03:50'!
XXXX: anAccount
	"XXXX was hasAccount"
	^monetaryServices allSatisfy: [:aService | aService canCoexistWith: anAccount].!

!methodRemoval: ReceptiveAccount #XXXX: stamp: 'MK 10/18/2021 15:03:50'!
XXXX: anAccount

	^ self ~= anAccount .!
!Portfolio methodsFor: 'testing' stamp: 'MK 10/18/2021 15:04:58'!
hasAccount: anAccount
	^monetaryServices allSatisfy: [:aService | aService canCoexistWith: anAccount].! !
!Portfolio methodsFor: 'testing' stamp: 'MK 10/18/2021 15:05:15' prior: 50924068 overrides: 50924036!
canCoexistWith: anAccount
	^ self hasAccount: anAccount.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 15:05:17'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 15:05:17'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:05:17'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 15:05:17'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 15:05:18'!
PASSED!

----SNAPSHOT----(18 October 2021 15:07:01) CuisUniversity-4913.image priorSource: 18942823!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:12:31' prior: 50922775!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	portfolio1 addMonetaryService: account1.
	
	portfolio2 _ Portfolio new.
	
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	
	portfolio1 addMonetaryService: account2.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 75).
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:12:32'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 15:12:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 15:12:33'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:12:57' prior: 50924156!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	account2 _ ReceptiveAccount new.
	
	Deposit register: 100 on: account1.
	portfolio1 addMonetaryService: account1.
	portfolio2 _ Portfolio new.
	
	
	Withdraw register: 25 on: account2.
	
	
	portfolio1 addMonetaryService: account2.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 75).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:13:00' prior: 50924231!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	account2 _ ReceptiveAccount new.
	
	Deposit register: 100 on: account1.
	portfolio1 addMonetaryService: account1.
	portfolio2 _ Portfolio new.
	
	Withdraw register: 25 on: account2.
	
	
	portfolio1 addMonetaryService: account2.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 75).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:17:37' prior: 50924250!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	portfolio2 addMonetaryService: portfolio1.
	self assert: (portfolio2 balance = 75).
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 15:17:39'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 15:17:39'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:18:02' prior: 50922815!
test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded
	| portfolio1 transaction account1 account2 |
	portfolio1 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	transaction _ Deposit register: 100 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	
	self assert: (portfolio1 hasRegistered: transaction ).
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:18:12' prior: 50922832!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:18:23' prior: 50922851!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio1 addMonetaryService: portfolio2.
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'MK 10/18/2021 15:23:46' prior: 50922915!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 addMonetaryService: portfolio2.	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 15:24:04'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'MK 10/18/2021 15:24:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'MK 10/18/2021 15:24:05'!
PASSED!

----SNAPSHOT----(18 October 2021 15:24:52) CuisUniversity-4913.image priorSource: 18960046!

----STARTUP---- (18 October 2021 15:41:59) as C:\Users\ferra\Desktop\windows64\CuisUniversity-4913.image!


----End fileIn of D:\Apuntes\Inge 1\Repos\Repo de entregas\17-Portfolio 1\Portfolio-Ejercicio.st----!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 15:42:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 15:42:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 15:42:54'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'AF 10/18/2021 15:47:11' prior: 50915339 overrides: 50915275!
canBeAddedTo: aPortfolio

	^aPortfolio canAddAllMonetaryServices: monetaryServices.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 15:47:11'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 15:47:11'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'AF 10/18/2021 15:48:06'!
canAddMonetaryServices: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 15:48:06' prior: 50915553 overrides: 50915275!
canBeAddedTo: aPortfolio

	^aPortfolio canAddMonetaryServices: monetaryServices.! !

!methodRemoval: Portfolio #canAddAllMonetaryServices: stamp: 'AF 10/18/2021 15:48:06'!
canAddAllMonetaryServices: aCollectionOfMonetaryServices
	^aCollectionOfMonetaryServices allSatisfy: [:aMonetaryService | aMonetaryService canBeAddedTo: self].!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 15:54:29' prior: 50915254 overrides: 50915194!
balance
	^ self value * -1.! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 15:54:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 15:54:30'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 15:58:15' prior: 50914864!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	portfolio _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	
	portfolio addMonetaryService: account.
	self assert: portfolio balance = 50.
	! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 15:58:15'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 15:58:16'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 15:58:16'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 15:58:23' prior: 50914875!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	portfolio1 addMonetaryService: account1.
	portfolio1 addMonetaryService: account2.
	portfolio2 addMonetaryService: portfolio1.
	self assert: portfolio2 balance = 75.
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 15:58:23'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 15:58:24'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 15:58:24'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:06:51'!
createPortfolioWithPortfolios: aCollectionOfPortfolios andAccoounts: aCollectionOfAccounts

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	aCollectionOfAccounts do: [:anAccount | portfolio addMonetaryService: anAccount ].
	
	^portfolio.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:08:54'!
createPortfolioWithPortfolios: aCollectionOfPortfolios andAccounts: aCollectionOfAccounts

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	aCollectionOfAccounts do: [:anAccount | portfolio addMonetaryService: anAccount ].
	
	^portfolio.
	! !

!methodRemoval: PortfolioTests #createPortfolioWithPortfolios:andAccoounts: stamp: 'AF 10/18/2021 16:08:54'!
createPortfolioWithPortfolios: aCollectionOfPortfolios andAccoounts: aCollectionOfAccounts

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	aCollectionOfAccounts do: [:anAccount | portfolio addMonetaryService: anAccount ].
	
	^portfolio.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:09:20' prior: 50915874!
createPortfolioWithPortfolios: aCollectionOfPortfolios andAccounts: aCollectionOfAccounts

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:09:36'!
createPortfolioWithPortfolios: aCollectionOfPortfolios 

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	! !

!methodRemoval: PortfolioTests #createPortfolioWithPortfolios:andAccounts: stamp: 'AF 10/18/2021 16:09:36'!
createPortfolioWithPortfolios: aCollectionOfPortfolios andAccounts: aCollectionOfAccounts

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:09:48'!
createPortfolioWith: aCollectionOfPortfolios 

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	! !

!methodRemoval: PortfolioTests #createPortfolioWithPortfolios: stamp: 'AF 10/18/2021 16:09:48'!
createPortfolioWithPortfolios: aCollectionOfPortfolios 

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfPortfolios do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:10:14' prior: 50915934!
createPortfolioWith: aCollectionOfMonetaryServices 

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfMonetaryServices do: [:aPortfolio | portfolio addMonetaryService: aPortfolio ].
	^portfolio.
	! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:10:29' prior: 50915953!
createPortfolioWith: aCollectionOfMonetaryServices 

	| portfolio |
	
	portfolio _ Portfolio new.
	
	aCollectionOfMonetaryServices do: [:aMonetaryService | portfolio addMonetaryService: aMonetaryService ].
	^portfolio.
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:10:31'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:10:31'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:15:57' prior: 50914903!
test05PortfolioHasRegisteredTransactionThatIsInAddedAccount
	| portfolio transaction account |
	"portfolio1 _ Portfolio new."
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio := self createPortfolioWith: (OrderedCollection with: account ).
	
	self assert: (portfolio hasRegistered: transaction ).
	! !

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:15:57'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:16:11'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:16:13' prior: 50916026!
test05PortfolioHasRegisteredTransactionThatIsInAddedAccount
	| portfolio transaction account |
	account _ ReceptiveAccount new.
	transaction _ Deposit register: 50 on: account.
	
	portfolio := self createPortfolioWith: (OrderedCollection with: account ).
	
	self assert: (portfolio hasRegistered: transaction ).
	! !

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:16:13'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:16:13'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:16:46' prior: 50914857!
test01EmptyPortfolioHasBalance0
	| portfolio |
	portfolio _ self createPortfolioWith: OrderedCollection new.
	self assert: portfolio balance = 0.
	! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:16:46'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:16:46'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:17:45' prior: 50915718!
test02PortfolioWithOneAccountMatchesItsBalance
	| portfolio account |
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio _ self createPortfolioWith: (OrderedCollection with: account ).

	self assert: portfolio balance = 50.
	! !

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:17:46'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:17:46'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:18:54' prior: 50915786!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	portfolio1  := self createPortfolioWith: (OrderedCollection with: account1 with: account2).

	portfolio2 addMonetaryService: portfolio1.
	self assert: portfolio2 balance = 75.
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:18:54'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:18:54'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:19:37' prior: 50916303!
test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance
	| portfolio1 portfolio2 account1 account2 |
	account1 _ ReceptiveAccount new.
	Deposit register: 100 on: account1.
	account2 _ ReceptiveAccount new.
	Withdraw register: 25 on: account2.
	
	portfolio1  := self createPortfolioWith: (OrderedCollection with: account1 with: account2).
	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: portfolio1).
	self assert: portfolio2 balance = 75.
	! !

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:19:37'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:19:39'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:19:39'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:20:04' prior: 50914893!
test04EmptyPortfolioHasNotRegisteredTransaction
	| portfolio1 transaction |
	portfolio1 _ self createPortfolioWith: OrderedCollection new.
	transaction _ Deposit for: 50.
	
	self assert: (portfolio1 hasRegistered: transaction ) not.
	! !

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:20:04'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:20:04'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:21:45' prior: 50914916!
test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded
	| portfolio transaction account1 account2 |
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	account2 _ ReceptiveAccount new.
	transaction _ Deposit register: 100 on: account2.
	
	portfolio := self createPortfolioWith: (OrderedCollection with: account1 with: account2).
	
	self assert: (portfolio hasRegistered: transaction ).! !

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:21:46'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:21:46'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:26:45' prior: 50914933!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:26:45'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:26:45'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:26:59' prior: 50916652!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	"portfolio2 addMonetaryService: account1."
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:26:59'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:27:25'!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified
	| portfolio1 portfolio2 account1 |
	
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	"portfolio2 addMonetaryService: account1."
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!methodRemoval: PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded stamp: 'AF 10/18/2021 16:27:25'!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAdded
	| portfolio1 portfolio2 account1 |
	
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	"portfolio2 addMonetaryService: account1."
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:27:51' prior: 50916755!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified
	| portfolio1 portfolio2 account1 |
	
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:27:53'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:27:53'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:31:11' prior: 50914952!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2 ).
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:31:11'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:31:11'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:31:26' prior: 50916877!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account1 |
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2 ).
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:31:32' prior: 50916957!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account |
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2 ).
	portfolio2 addMonetaryService: account.
	self should: [portfolio1 addMonetaryService: account.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:31:36'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:31:36'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:31:52' prior: 50916798!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified
	| portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	portfolio2 addMonetaryService: account.
	self should: [portfolio1 addMonetaryService: portfolio2] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:33:44' prior: 50914972!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolio0 portfolio1 portfolio2 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account1).	
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:33:46'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:33:47'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:33:47'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:33:47'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:33:47'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:33:59'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:33:59'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:34:49' prior: 50917078!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioParent portfolio1 portfolio2 account1 |
	portfolioParent _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioParent := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account1).	
	portfolio2 addMonetaryService: account1.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:35:13' prior: 50917216!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioParent portfolio1 portfolio2 account |
	portfolioParent _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioParent := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 addMonetaryService: account.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:35:57'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:35:57'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:36:25' prior: 50917241!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioParent portfolio1 portfolio2 account |
	portfolio2 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioParent := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 addMonetaryService: account.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:36:27'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:36:27'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:36:32' prior: 50917322!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioParent portfolio1 portfolio2 account |
	
	portfolio2 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioParent := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 addMonetaryService: account.
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:36:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:36:33'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:36:57' prior: 50917401!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioParent portfolio1 portfolio2 account |
	
	portfolio2 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioParent := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:36:58'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:36:58'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:38:16' prior: 50917480!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	portfolio2 _ Portfolio new.
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:38:36'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:38:36'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:41:29' prior: 50917561!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:41:30'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:41:31'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:41:31'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:43:55' prior: 50914994!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2 ).	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:43:56'!
FAILURE!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:44:05'!
FAILURE!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:45:28' prior: 50917721!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |
	portfolio0 _ Portfolio new.
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:45:28'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:45:28'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:45:35' prior: 50917755!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |
	"portfolio0 _ Portfolio new."
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
	
	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:45:35'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:45:35'!
PASSED!
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:46:29' prior: 50917838!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	portfolio2 _ Portfolio new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:46:29'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:46:36'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:46:37'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:46:37'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:47:20' prior: 50917921!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	portfolio2 _ self createPortfolioWith: OrderedCollection new.
	portfolio3 _ Portfolio new.
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:47:20'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:47:20'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:47:27' prior: 50918062!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	portfolio2 _ self createPortfolioWith: OrderedCollection new.

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:47:27'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:47:38' prior: 50918147!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .
	portfolio2 _ self createPortfolioWith: OrderedCollection new.

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:47:38'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:47:39'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:47:39'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:47:44' prior: 50918231!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .
	portfolio2 _ self createPortfolioWith: OrderedCollection new.

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self should: [portfolio2 addMonetaryService: portfolio3.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:47:44'!
PASSED!

----SNAPSHOT----(18 October 2021 16:47:55) CuisUniversity-4913.image priorSource: 18661997!

----SNAPSHOT----(18 October 2021 16:48:08) CuisUniversity-4913.image priorSource: 18775933!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:50:07' prior: 50915019!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |

	portfolio1 _ Portfolio new.

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio2) .	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:50:07'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:50:07'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:50:24' prior: 50918405!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |

	portfolio1 _ Portfolio new.

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio2) .	
	portfolio1 addMonetaryService: portfolio2.
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:50:24'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:50:24'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:50:39' prior: 50918491!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |

	portfolio1 _ Portfolio new.

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio2) .	
	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2) .
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:42'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:50:42'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:50:43'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:50:43'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:50:58' prior: 50918577!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio2) .	
	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2) .
	portfolio0 addMonetaryService: account1.
	self should: [portfolio2 addMonetaryService: account1.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:51:00'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:51:16'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:51:16'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:51:33' prior: 50915047!
test12PortfolioHasNoTransactions
	| portfolio|
	portfolio := self createPortfolioWith: OrderedCollection new. 
	
	self assert: OrderedCollection new = portfolio transactions.
	! !

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:51:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:51:33'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:52:04' prior: 50915055!
test13PortfolioTransactionsHasOneTransaction
	| portfolio account1 transaction|
	portfolio _ Portfolio new.
	
	account1 _ ReceptiveAccount new.
	transaction _ Deposit for: 50.
	account1 register: transaction.
	portfolio := self createPortfolioWith: (OrderedCollection with: account1 ).
	
	self assert: (OrderedCollection with: transaction) = portfolio transactions.
	! !

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:52:04'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:52:04'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:52:48' prior: 50915069!
test14PortfolioTransactionsHasInnerPortfolioTransactions
	| portfolio1 portfolio2 account1 account2 transaction2 transaction1|
	portfolio1 _ Portfolio new.
	portfolio2 _ Portfolio new.
	
	account1 _ ReceptiveAccount new.
	transaction1 _ Deposit for: 50.
	account2 _ ReceptiveAccount new.
	transaction2 _ Deposit for: 100.
	account1 register: transaction1.
	account2 register: transaction2.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: account1 ).
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account2 ).
	portfolio1 addMonetaryService: portfolio2.
	self assert: (OrderedCollection with: transaction1 with: transaction2) = portfolio1 transactions.
	! !

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:52:48'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:52:48'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:52:55' prior: 50918944!
test14PortfolioTransactionsHasInnerPortfolioTransactions
	| portfolio1 portfolio2 account1 account2 transaction2 transaction1|
	account1 _ ReceptiveAccount new.
	transaction1 _ Deposit for: 50.
	account2 _ ReceptiveAccount new.
	transaction2 _ Deposit for: 100.
	account1 register: transaction1.
	account2 register: transaction2.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: account1 ).
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account2 ).
	portfolio1 addMonetaryService: portfolio2.
	self assert: (OrderedCollection with: transaction1 with: transaction2) = portfolio1 transactions.
	! !

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:52:55'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:52:55'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:53:07' prior: 50918872!
test13PortfolioTransactionsHasOneTransaction
	| portfolio account1 transaction|
	account1 _ ReceptiveAccount new.
	transaction _ Deposit for: 50.
	account1 register: transaction.
	portfolio := self createPortfolioWith: (OrderedCollection with: account1 ).
	
	self assert: (OrderedCollection with: transaction) = portfolio transactions.
	! !

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:53:07'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:53:08'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:53:08'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:53:08'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:53:08'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:54:43'!
m1: portfolio1 m2: portfolio2

	^ self should: [portfolio1 addMonetaryService: portfolio2.] 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:54:43' prior: 50917641!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self m1: portfolio1 m2: portfolio2! !
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:55:22' prior: 50919176!
m1: portfolio1 m2: portfolio2

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:55:28'!
FAILURE!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:55:28'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:55:28'!
FAILURE!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:55:42'!
m1: portfolio1 

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:55:42' prior: 50919187!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self m1: portfolio1 ! !

!methodRemoval: PortfolioTests #m1:m2: stamp: 'AF 10/18/2021 16:55:42'!
m1: portfolio1 m2: portfolio2

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:56:25'!
shouldRaiseCanNotAddDupplicatedAccountError: portfolio1 

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:56:25' prior: 50919280!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self shouldRaiseCanNotAddDupplicatedAccountError: portfolio1 ! !

!methodRemoval: PortfolioTests #m1: stamp: 'AF 10/18/2021 16:56:25'!
m1: portfolio1 

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:56:34'!
shouldRaiseCanNotAddDuplicatedAccountError: portfolio1 

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 16:56:34' prior: 50919316!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self shouldRaiseCanNotAddDuplicatedAccountError: portfolio1 ! !

!methodRemoval: PortfolioTests #shouldRaiseCanNotAddDupplicatedAccountError: stamp: 'AF 10/18/2021 16:56:34'!
shouldRaiseCanNotAddDupplicatedAccountError: portfolio1 

	| aClosure |
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:57:14' prior: 50919342!
shouldRaiseCanNotAddDuplicatedAccountError: aClosure 

	
	^ self should: aClosure 
		raise: Error
		withExceptionDo: [ :anError |
				self assert: anError messageText = Portfolio cannotAddDuplicatedAccountErrorDescription]! !
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:58:00' prior: 50919353!
test09PortfolioCannotAddAccountThatWasInParent
	| portfolioRoot portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio1 := self createPortfolioWith: OrderedCollection new.

	portfolioRoot := self createPortfolioWith: (OrderedCollection with: portfolio1 with: account).	
	portfolio2 := self createPortfolioWith: (OrderedCollection with: account).
	self shouldRaiseCanNotAddDuplicatedAccountError: [portfolio1 addMonetaryService: portfolio2] ! !

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:58:03'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:58:03'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:58:19' prior: 50916978!
test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio
	| portfolio1 portfolio2 account |
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
	portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2 ).
	portfolio2 addMonetaryService: account.
	self shouldRaiseCanNotAddDuplicatedAccountError:  [portfolio1 addMonetaryService: account.] ! !

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:58:19'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:58:19'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:58:31' prior: 50917056!
test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified
	| portfolio1 portfolio2 account |
	
	account _ ReceptiveAccount new.
	Deposit register: 50 on: account.
		portfolio2 := self createPortfolioWith: OrderedCollection new.

	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2).
	portfolio2 addMonetaryService: account.
	self shouldRaiseCanNotAddDuplicatedAccountError:  [portfolio1 addMonetaryService: portfolio2] ! !

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:58:31'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:58:31'!
PASSED!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 16:58:47' prior: 50918315!
test10PortfolioCannotAddAccountThatWasInGrandparent
	| portfolio0 portfolio1 portfolio2 portfolio3 account1 |

	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio1 := self createPortfolioWith: OrderedCollection new .
	portfolio2 _ self createPortfolioWith: OrderedCollection new.

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio1 ).
	portfolio1 addMonetaryService: portfolio2.	
	portfolio0 addMonetaryService: account1.
	portfolio3 := self createPortfolioWith: (OrderedCollection with: account1 ).
	self shouldRaiseCanNotAddDuplicatedAccountError: [portfolio2 addMonetaryService: portfolio3.] 
! !

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 16:58:47'!
PASSED!

----SNAPSHOT----(18 October 2021 17:07:09) CuisUniversity-4913.image priorSource: 18776026!
!PortfolioTests methodsFor: 'testing' stamp: 'AF 10/18/2021 17:08:32' prior: 50918664!
test11PortfolioCannotAddAccountThatIsInSecondParent
	"This test made sense when parent was a single portfolio instead of a collection of portfolios, since only the last portfolio that parented the current portfolio was saved as parent."
	| portfolio1 portfolio0 portfolio2 account1 |
	account1 _ ReceptiveAccount new.
	Deposit register: 50 on: account1.
		portfolio2 := self createPortfolioWith: OrderedCollection new .

	portfolio0 := self createPortfolioWith: (OrderedCollection with: portfolio2) .	
	portfolio1 := self createPortfolioWith: (OrderedCollection with: portfolio2) .
	portfolio0 addMonetaryService: account1.
	self shouldRaiseCanNotAddDuplicatedAccountError: [portfolio2 addMonetaryService: account1.] ! !

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 17:08:33'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 17:08:51'!
PASSED!

!testRun: #PortfolioTests #test01EmptyPortfolioHasBalance0 stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test02PortfolioWithOneAccountMatchesItsBalance stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test03PortfolioWithPortfolioWithTwoAccountsMatchesBalance stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test04EmptyPortfolioHasNotRegisteredTransaction stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test05PortfolioHasRegisteredTransactionThatIsInAddedAccount stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test06PortfolioHasRegisteredTransactionThatIsInSecondAccountAdded stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test07PortfolioCannotAddPortfolioThatWasPreviouslyAddedAndLaterModified stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test08PortfolioCannotAddAccountThatIsInPreviouslyAddedPortfolio stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test09PortfolioCannotAddAccountThatWasInParent stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test10PortfolioCannotAddAccountThatWasInGrandparent stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test11PortfolioCannotAddAccountThatIsInSecondParent stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test12PortfolioHasNoTransactions stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test13PortfolioTransactionsHasOneTransaction stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

!testRun: #PortfolioTests #test14PortfolioTransactionsHasInnerPortfolioTransactions stamp: 'AF 10/18/2021 17:08:53'!
PASSED!

----SNAPSHOT----(18 October 2021 17:08:57) CuisUniversity-4913.image priorSource: 18817524!

----STARTUP---- (18 October 2021 19:43:21) as C:\Users\ferra\Desktop\windows64\CuisUniversity-4913.image!


!classRemoval: #ReceptiveAccount stamp: 'AF 10/18/2021 19:43:25'!
MonetaryService subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'AF 10/18/2021 19:43:25'!
MonetaryService subclass: #Portfolio
	instanceVariableNames: 'monetaryServices parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #MonetaryService stamp: 'AF 10/18/2021 19:43:25'!
Object subclass: #MonetaryService
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'AF 10/18/2021 19:43:25'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'AF 10/18/2021 19:43:26'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'AF 10/18/2021 19:43:26'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'AF 10/18/2021 19:43:26'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortfolioTests stamp: 'AF 10/18/2021 19:43:26'!
TestCase subclass: #PortfolioTests
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of D:\Apuntes\Inge 1\Repos\Repo de entregas\18-Portfolio 2\Portfolio-Solucion.st----!

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTest category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 19:55:04'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTest methodsFor: 'nil' stamp: 'AF 10/18/2021 19:55:15'!
test01

! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 19:55:15'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 19:55:15'!
PASSED!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 20:09:57'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:08:36' prior: 50920632!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|transfer sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 0.
	
	self assert: (sender balance = 0 and: [receiver balance = 0])! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:10:13'!
ERROR!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:10:38'!
from: aReceptiveAccount to: aReceptiveAccount2 amount: aSmallInteger 
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:16:03' prior: 50920678!
from: aSender to: aReceiver amount: aValue
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:16:04'!
ERROR!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:16:17'!
from: aReceptiveAccount to: aReceptiveAccount2 amount: aSmallInteger 
	self shouldBeImplemented.! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:16:28' prior: 50920693!
from: aReceptiveAccount to: aReceptiveAccount2 amount: aSmallInteger 
	
! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:16:29'!
PASSED!

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:16:29'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:18:19' prior: 50920648!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|transfer sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:18:30'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:21:00' prior: 50920710!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|transfer sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:22:43' prior: 50920739!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError message = Transfer errorAmountCanNotBeZero]! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:23:38' prior: 50920766!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription]! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:23:42'!
FAILURE!
!Transfer class methodsFor: 'nil' stamp: 'AF 10/18/2021 20:25:32'!
amountCanNotBeZeroErrorDescription

	^ 'amount cannot be zero'! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:25:51'!
FAILURE!

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:25:51'!
FAILURE!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:26:50' prior: 50920685!
from: aSender to: aReceiver amount: aValue
	
	(aValue = 0) ifTrue: [^self error: 'amount cannot be zero'].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:27:13' prior: 50920836!
from: aSender to: aReceiver amount: aValue
	
	(aValue = 0) ifTrue: [^self error: 'amount cannot be zero'].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01 stamp: 'AF 10/18/2021 20:27:29'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:28:42'!
test01CanNotTransferAZeroAmount

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription]! !

!methodRemoval: TransferTest #test01 stamp: 'AF 10/18/2021 20:28:42'!
test01

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	
	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription]!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:29:22' prior: 50920856!
test01CanNotTransferAZeroAmount

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription]! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:29:23'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:29:23'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:29:36'!
test02

		"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription]! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:31:24' prior: 50920934!
test02

		"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: (sender balance = -50 and: [receiver balance = 50]).
! !

!testRun: #TransferTest #test02 stamp: 'AF 10/18/2021 20:31:47'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:32:58' prior: 50920699!
from: aSender to: aReceptiveAccount2 amount: aSmallInteger 

	
	
! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:33:05' prior: 50920994!
from: aSender to: aReceiver amount: aSmallInteger 

	
	
! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:33:12' prior: 50920999!
from: aSender to: aReceiver amount: aValue 

	
	
! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:35:42' prior: 50921004!
from: aSender to: aReceiver amount: aValue 

	Withdraw register: aValue on: aSender.
	Deposit register: aValue on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:35:44'!
PASSED!

!testRun: #TransferTest #test02 stamp: 'AF 10/18/2021 20:35:44'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:38:56'!
test02TransferReflectsCorrectlyOnBothPartiesBalances

		"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: (sender balance = -50 and: [receiver balance = 50]).
! !

!methodRemoval: TransferTest #test02 stamp: 'AF 10/18/2021 20:38:56'!
test02

		"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	
	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: (sender balance = -50 and: [receiver balance = 50]).
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:39:06' prior: 50921022!
test02TransferReflectsCorrectlyOnBothPartiesBalances

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: (sender balance = -50 and: [receiver balance = 50]).
! !

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:39:07'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:39:07'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:39:07'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:47:00'!
test03

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := sender.
	
	self should: [Transfer from: sender to: receiver amount: 50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer senderCanNotBeReceiverErrorDescription]
	
	
! !

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:47:06'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:48:33'!
senderCanNotBeReceiverErrorDescription
	^ 'The sender and the receiver cannot be the same'! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:48:36'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:48:36'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:48:36'!
FAILURE!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:48:36'!
FAILURE!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:50:03' prior: 50920845!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [^self error: 'amount cannot be zero'].
	aSender = aReceiver  ifTrue: [^self error: 'The sender and the receiver cannot be the same'].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:50:05'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:50:05'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:50:05'!
PASSED!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:51:04'!
amountCanNotBeZero

	^ self error: 'amount cannot be zero'! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:51:04' prior: 50921150!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [^self amountCanNotBeZero].
	aSender = aReceiver  ifTrue: [^self error: 'The sender and the receiver cannot be the same'].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:51:34' prior: 50921170!
amountCanNotBeZero

	^ self error: self amountCanNotBeZeroErrorDescription.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:51:36'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:51:36'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:51:36'!
PASSED!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:52:52' prior: 50921175!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [^self amountCanNotBeZero].
	aSender = aReceiver  ifTrue: [^self error: self senderCanNotBeReceiverErrorDescription ].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:52:53'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:52:53'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:52:53'!
PASSED!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:53:16'!
amountCanNotBeZeroError

	^ self error: self amountCanNotBeZeroErrorDescription.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 20:53:16' prior: 50921201!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [^self amountCanNotBeZeroError].
	aSender = aReceiver  ifTrue: [^self error: self senderCanNotBeReceiverErrorDescription ].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!methodRemoval: Transfer class #amountCanNotBeZero stamp: 'AF 10/18/2021 20:53:16'!
amountCanNotBeZero

	^ self error: self amountCanNotBeZeroErrorDescription.!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:55:14'!
senderCanNotBeRecieverError

	^ self error: self senderCanNotBeReceiverErrorDescription! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:55:14' prior: 50921227!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [^self amountCanNotBeZeroError].
	aSender = aReceiver  ifTrue: [^self senderCanNotBeRecieverError ].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:58:21' prior: 50921249!
from: aSender to: aReceiver amount: aValue
	
	aValue = 0 ifTrue: [self amountCanNotBeZeroError].
	aSender = aReceiver  ifTrue: [self senderCanNotBeRecieverError ].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 20:58:21'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 20:58:21'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 20:58:21'!
PASSED!
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:59:40'!
assertAmountIsValid: aValue

	^ aValue = 0 ifTrue: [self amountCanNotBeZeroError]! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 20:59:40' prior: 50921260!
from: aSender to: aReceiver amount: aValue
	
	self assertAmountIsValid: aValue.
	aSender = aReceiver  ifTrue: [self senderCanNotBeRecieverError ].
	
	^ self new from: aSender to: aReceiver amount: aValue.! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:02:06'!
assertAccountsAreNotTheSameWithReciever: aSender andSender: aReceiver

	^ aSender = aReceiver  ifTrue: [self senderCanNotBeRecieverError ]! !
!Transfer class methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:02:06' prior: 50921285!
from: aSender to: aReceiver amount: aValue
	
	self assertAmountIsValid: aValue.
	self assertAccountsAreNotTheSameWithReciever: aSender andSender: aReceiver.
	
	^ self new from: aSender to: aReceiver amount: aValue.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:03:37'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:03:37'!
PASSED!

!testRun: #TransferTest #test03 stamp: 'AF 10/18/2021 21:03:37'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:04:07'!
test03SenderAndReceiverCanNotBeTheSame

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := sender.
	
	self should: [Transfer from: sender to: receiver amount: 50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer senderCanNotBeReceiverErrorDescription]
	
	
! !

!methodRemoval: TransferTest #test03 stamp: 'AF 10/18/2021 21:04:07'!
test03

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := sender.
	
	self should: [Transfer from: sender to: receiver amount: 50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer senderCanNotBeReceiverErrorDescription]
	
	
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:06:52' prior: 50921321!
test03SenderAndReceiverCanNotBeTheSame

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := sender.
	
	self should: [Transfer from: sender to: receiver amount: 50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer senderCanNotBeReceiverErrorDescription]
	
	
! !

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:06:52'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:06:52'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:06:52'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:06:52'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:09:19'!
test04

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer senderCanNotBeReceiverErrorDescription]
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:18:06' prior: 50921406!
test04

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer CanNotTranferAZeroAmountErrorDescription]
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:18:55' prior: 50921436!
test04

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer amountCanNotBeZeroErrorDescription ]
	
	
! !

!testRun: #TransferTest #test04 stamp: 'AF 10/18/2021 21:19:04'!
FAILURE!
!Transfer class methodsFor: 'assertions' stamp: 'AF 10/18/2021 21:19:30' prior: 50921279!
assertAmountIsValid: aValue

	^ aValue <= 0 ifTrue: [self amountCanNotBeZeroError]! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:19:33'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:19:33'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:19:33'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AF 10/18/2021 21:19:33'!
PASSED!
!Transfer class methodsFor: 'error descriptions' stamp: 'AF 10/18/2021 21:20:09' prior: 50920826!
amountCanNotBeZeroErrorDescription

	^ 'amount cannot less or equal to zero'! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:20:09'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:20:09'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:20:09'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'AF 10/18/2021 21:20:09'!
PASSED!
!Transfer class methodsFor: 'error descriptions' stamp: 'AF 10/18/2021 21:20:40'!
amountCanNotBeLessOrEqualToZeroErrorDescription

	^ 'amount cannot less or equal to zero'! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:20:40' prior: 50920915!
test01CanNotTransferAZeroAmount

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: 0.]
		raise: Error
		withExceptionDo: [: anError | anError messageText = Transfer amountCanNotBeLessOrEqualToZeroErrorDescription]! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:20:40' prior: 50921221!
amountCanNotBeZeroError

	^ self error: self amountCanNotBeLessOrEqualToZeroErrorDescription.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:20:40' prior: 50921466!
test04

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer amountCanNotBeLessOrEqualToZeroErrorDescription ]
	
	
! !

!methodRemoval: Transfer class #amountCanNotBeZeroErrorDescription stamp: 'AF 10/18/2021 21:20:40'!
amountCanNotBeZeroErrorDescription

	^ 'amount cannot less or equal to zero'!
!Transfer class methodsFor: 'errors' stamp: 'AF 10/18/2021 21:21:25'!
amountCanNotBeLessOrEqualToZeroError

	^ self error: self amountCanNotBeLessOrEqualToZeroErrorDescription.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:21:25' prior: 50921498!
assertAmountIsValid: aValue

	^ aValue <= 0 ifTrue: [self amountCanNotBeLessOrEqualToZeroError]! !

!methodRemoval: Transfer class #amountCanNotBeZeroError stamp: 'AF 10/18/2021 21:21:25'!
amountCanNotBeZeroError

	^ self error: self amountCanNotBeLessOrEqualToZeroErrorDescription.!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:23:12'!
test04CanNotTranferANegativeAmount

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer amountCanNotBeLessOrEqualToZeroErrorDescription ]
	
	
! !

!methodRemoval: TransferTest #test04 stamp: 'AF 10/18/2021 21:23:12'!
test04

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer amountCanNotBeLessOrEqualToZeroErrorDescription ]
	
	
!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:23:16'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:23:19'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:23:19'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:23:19'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:23:19'!
PASSED!

----SNAPSHOT----(18 October 2021 21:28:57) CuisUniversity-4913.image priorSource: 18822103!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:31:46' prior: 50921615!
test04CanNotTranferANegativeAmount


	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	self should: [Transfer from: sender to: receiver amount: -50.]
		raise: Error
		withExceptionDo: [:anError | anError messageText = Transfer amountCanNotBeLessOrEqualToZeroErrorDescription ]
	
	
! !

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:31:46'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:31:46'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:31:46'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:31:46'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:31:46'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:32:15'!
test05

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	
	
	
! !

Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 21:32:41'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:37:36' prior: 50921725!
test05

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer senderAccount = sender.
	
	
	
	
! !

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:37:38'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:38:04'!
senderAccount
	self shouldBeImplemented.! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 21:38:29'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:38:28' prior: 50921791!
senderAccount
	^ senderAccount copy.! !

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:38:32'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:38:57' prior: 50921009!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	Withdraw register: aValue on: aSender.
	Deposit register: aValue on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:38:59'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:38:59'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:38:59'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:38:59'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:38:59'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:38:59'!
FAILURE!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:39:20' prior: 50921803!
senderAccount
	^ senderAccount.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:39:21'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:39:21'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:39:21'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:39:21'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:39:21'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'AF 10/18/2021 21:43:15'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:43:35'!
test05TransferKnowsItsSender

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer senderAccount = sender.
	
	
	
	
! !

!methodRemoval: TransferTest #test05 stamp: 'AF 10/18/2021 21:43:35'!
test05

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer senderAccount = sender.
	
	
	
	
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:43:43' prior: 50921858!
test05TransferKnowsItsSender



	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer senderAccount = sender.
	
	
	
	
! !

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:43:44'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:43:44'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:43:44'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:43:44'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:43:44'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:43:44'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:44:09'!
test06TransferKnowsItsReceiver



	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer receiverAccount = receiver .
	
	
	
	
! !

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:44:10'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:44:16'!
receiverAccount
	self shouldBeImplemented.! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 21:44:39'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:44:38' prior: 50921958!
receiverAccount
	^receiverAccount.! !

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:44:45'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:45:08' prior: 50921810!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	Withdraw register: aValue on: aSender.
	Deposit register: aValue on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:45:09'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:45:09'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:45:09'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:45:09'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:45:09'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:45:09'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:45:48'!
test07

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	
	
	
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:50:30' prior: 50922006!
test07

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
! !

!testRun: #TransferTest #test07 stamp: 'AF 10/18/2021 21:50:39'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:52:01'!
xXwithdrawalXx
	self shouldBeImplemented.! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 21:52:23'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount xXwithdrawalXx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:52:21' prior: 50922063!
xXwithdrawalXx
	^ xXwithdrawalXx.! !

!testRun: #TransferTest #test07 stamp: 'AF 10/18/2021 21:52:25'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:53:08' prior: 50921978!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	xXwithdrawalXx := Withdraw register: aValue on: aSender.
	Deposit register: aValue on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:53:10'!
PASSED!

!testRun: #TransferTest #test07 stamp: 'AF 10/18/2021 21:53:10'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:54:01'!
test07SenderHasTheWithdrawalRegistered

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
! !

!methodRemoval: TransferTest #test07 stamp: 'AF 10/18/2021 21:54:01'!
test07

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
!

----SNAPSHOT----(18 October 2021 21:54:23) CuisUniversity-4913.image priorSource: 18881295!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:54:37' prior: 50922114!
test07SenderHasTheWithdrawalRegistered


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
! !

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegistered stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:54:38'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegistered stamp: 'AF 10/18/2021 21:54:38'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:55:23'!
test08ReceiverHasTheDepositRegistered

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (receiver hasRegistered: transfer xXdepositXx).
	
	
	
	
! !

!testRun: #TransferTest #test08ReceiverHasTheDepositRegistered stamp: 'AF 10/18/2021 21:55:26'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:55:30'!
xXdepositXx
	self shouldBeImplemented.! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'AF 10/18/2021 21:55:46'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount xXwithdrawalXx xXdepositXx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/18/2021 21:55:44' prior: 50922244!
xXdepositXx
	
	^ xXdepositXx.! !

!testRun: #TransferTest #test08ReceiverHasTheDepositRegistered stamp: 'AF 10/18/2021 21:55:47'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/18/2021 21:56:03' prior: 50922083!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	xXwithdrawalXx := Withdraw register: aValue on: aSender.
	xXdepositXx := Deposit register: aValue on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegistered stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegistered stamp: 'AF 10/18/2021 21:56:55'!
PASSED!

----SNAPSHOT----(18 October 2021 21:57:00) CuisUniversity-4913.image priorSource: 18896632!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:59:11'!
test07SenderHasTheWithdrawalRegisteredAfterTranfer


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
! !

!methodRemoval: TransferTest #test07SenderHasTheWithdrawalRegistered stamp: 'AF 10/18/2021 21:59:11'!
test07SenderHasTheWithdrawalRegistered


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer xXwithdrawalXx).
	
	
	
	
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/18/2021 21:59:20'!
test08ReceiverHasTheDepositRegisteredAfterTransfer

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (receiver hasRegistered: transfer xXdepositXx).
	
	
	
	
! !

!methodRemoval: TransferTest #test08ReceiverHasTheDepositRegistered stamp: 'AF 10/18/2021 21:59:20'!
test08ReceiverHasTheDepositRegistered

	"Una transferencia es una transaccin que tiene dos patas. La pata de la extraccin, de
	donde se saca la plata, y la pata del depsito a donde se deposita la plata. Una
	transferencia se realiza entonces entre dos cuentas y por un valor. Algo importante a tener
	en cuenta es que se tiene que poder navegar desde la pata de la extraccin a la
	transferencia y desde esta ltima a la pata del depsito y viceversa, aunque evitando tener
	redundancia de informacin. Es decir, el valor de la transaccin debe estar en un solo lugar
	y no repetido en cada pata"	

	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (receiver hasRegistered: transfer xXdepositXx).
	
	
	
	
!

----SNAPSHOT----(18 October 2021 22:00:55) CuisUniversity-4913.image priorSource: 18900801!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/18/2021 22:01:39'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/18/2021 22:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/18/2021 22:01:43'!
PASSED!

----SNAPSHOT----(18 October 2021 22:02:51) CuisUniversity-4913.image priorSource: 18903552!


----STARTUP---- (20 October 2021 17:20:57) as C:\Users\ferra\Desktop\windows64\CuisUniversity-4913.image!


!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 17:21:16'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 17:21:16'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 17:30:08' prior: 50922328!
test08ReceiverHasTheDepositRegisteredAfterTransfer


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (receiver hasRegistered: transfer xXdepositXx).
	
	
	
	
! !

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 17:30:08'!
PASSED!

TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #ReportTest category: 'Portfolio 2' stamp: 'AF 10/20/2021 17:34:48'!
TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!ReportTest methodsFor: 'nil' stamp: 'AF 10/20/2021 17:38:08'!
test01

	|account|
	
	account = ReceptiveAccount ! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 17:43:43' prior: 50923969!
test01

	|account|
	
	account := ReceptiveAccount new.
	
	self assert: account accountSummary = 'Balance = 0'.! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 17:43:44'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 17:44:58'!
accountSummary
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 17:45:24' prior: 50923983!
accountSummary
	
	^'Balance = 0'.! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 17:45:25'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 17:45:25'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 17:45:28'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 17:45:28'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 17:49:02'!
test02

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = 'Depsito por 50 Balance = 50'.! !

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 17:49:04'!
FAILURE!

----End fileIn of C:\Users\ferra\Desktop\windows64\Packages\TerseGuide.pck.st----!

| b x ios str |			"For efficient viewing, have a Transcript open and use Cmd-d on these statements"
ios _ ReadStream on: 'Hello read stream'.
ios _ ReadStream on: 'Hello read stream' from: 1 to: 5.
[(x _ ios nextLine) notNil]
   whileTrue: [Transcript show: x; newLine].
ios position: 3.
ios position.
x _ ios next.
x _ ios peek.
x _ ios contents.
b _ ios atEnd.

ios _ ReadWriteStream on: 'Hello read stream'.
ios _ ReadWriteStream on: String new.
ios _ ReadWriteStream on: 'Hello read stream' from: 1 to: 5.
ios _ ReadWriteStream with: 'Hello read stream'.
ios _ ReadWriteStream with: 'Hello read stream' from: 1 to: 10.
ios position: 0.
[(x _ ios nextLine) notNil]
   whileTrue: [Transcript show: x; newLine].
ios position: 6.
ios position.
ios nextPutAll: 'Chris'.
x _ ios next.
x _ ios peek.
x _ ios contents.
b _ ios atEnd.

str _ String new writeStream.				"use a stream to form a string"
str nextPutAll: 'As of '.					"more efficient than concatenation"
str nextPutAll: Date today asString.
str nextPut: $,; space.						"newLine and tab are also possible"
str nextPutAll: Float pi printString, ' radians = '.  "concatenation can be used"
str nextPutAll: Float pi radiansToDegrees printString.
str nextPutAll: ' degrees.'; newLine.  "complete the formation"
x _ str contents.								"to get the results"

x _ String streamContents: [:string |	"a more compact way"
	string 
		nextPutAll: 'As of ';
		nextPutAll: Date today asString;
		nextPut: $,; space;
		nextPutAll: Float twoPi printString, ' radians = ';  "concatenation can be used"
		nextPutAll: Float twoPi radiansToDegrees printString;
		nextPutAll: ' degrees.'; newLine].  "complete the formation"

!

| b x ios str |			"For efficient viewing, have a Transcript open and use Cmd-d on these statements"
ios _ ReadStream on: 'Hello read stream'.
ios _ ReadStream on: 'Hello read stream' from: 1 to: 5.
[(x _ ios nextLine) notNil]
   whileTrue: [Transcript show: x; newLine].!

str := 'Depsito por 50' nextPut: $,;newLine; nextPutAll: 'Balance = 50'!

|str|
str := 'Depsito por 50' nextPut: $,;newLine; nextPutAll: 'Balance = 50'!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $,;newLine; 
		nextPutAll: 'Balance = 50'])!

str!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $,;newLine; 
		nextPutAll: 'Balance = 50']).
str!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: '';newLine; 
		nextPutAll: 'Balance = 50']).
str !

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: '';newLine; 
		nextPutAll: 'Balance = 50']).!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $;newLine; 
		nextPutAll: 'Balance = 50']).!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 18:25:01' prior: 50924001!
test02

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50.'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 18:25:01'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 18:49:28' prior: 50923988!
accountSummary
	
	|transactionsString balanceString|
	
	
	transactions do: [:aTransaction | transactionsString , 'Depsito por ' , aTransaction value].
	
	balanceString := 'Balance = ', self balance.
	
	! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 18:52:35' prior: 50927046!
accountSummary
	
	|transactionsString balanceString|
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString , 'Depsito por ' , aTransaction value].
	
	balanceString := 'Balance = ', self balance.
	
	^String streamContents: [:aString | aString nextPutAll: transactionsString; 
									   nextPut: $.;newLine;
									   nextPutAll: balanceString ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/20/2021 18:52:36'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:52:40'!
ERROR!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 18:52:40'!
ERROR!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:52:51'!
ERROR!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:52:51'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 18:53:27' prior: 50927056!
accountSummary
	
	|transactionsString balanceString|
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString , 'Depsito por ' , aTransaction value].
	
	balanceString := 'Balance = ', self balance asString.
	
	^String streamContents: [:aString | aString nextPutAll: transactionsString; 
									   nextPut: $.;newLine;
									   nextPutAll: balanceString ]! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:53:31'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 18:53:31'!
ERROR!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:53:33'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 18:54:44' prior: 50927107!
accountSummary
	
	|transactionsString balanceString|
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , 'Depsito por ' , aTransaction value].
	
	balanceString := 'Balance = ', self balance asString.
	
	^String streamContents: [:aString | aString nextPutAll: transactionsString; 
									   nextPut: $.;newLine;
									   nextPutAll: balanceString ]! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:54:47'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 18:54:47'!
ERROR!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 18:54:49'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:06:40' prior: 50927129!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , 'Depsito por ' , aTransaction value].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString; 
								    nextPut: $.;newLine;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 19:06:47'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:06:47'!
ERROR!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:06:47'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:07:12' prior: 50927152!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , 'Depsito por ' , aTransaction value asString].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString; 
								    nextPut: $.;newLine;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 19:07:47'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:07:47'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:07:47'!
FAILURE!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 19:07:53'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:07:55'!
FAILURE!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:07:55'!
FAILURE!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:09:00' prior: 50927032!
test02

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:09:01'!
PASSED!

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 19:09:01'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:09:01'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:18:17'!
test03

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test03 stamp: 'AF 10/20/2021 19:18:17'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:20:21' prior: 50927177!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , aTransaction XXXX].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString; 
								    nextPut: $.;newLine;
								    nextPutAll: balanceString ]].
! !
!AccountTransaction methodsFor: 'nil' stamp: 'AF 10/20/2021 19:21:24'!
XXXX

	^self subclassResponsibility.! !
!Deposit methodsFor: 'nil' stamp: 'AF 10/20/2021 19:21:59' overrides: 50927259!
XXXX

	^'Depsito por ' , self value asString.! !
!Withdraw methodsFor: 'nil' stamp: 'AF 10/20/2021 19:22:31' overrides: 50927259!
XXXX 

	^'Extraccin por ' , self value asString.! !

!testRun: #ReportTest #test01 stamp: 'AF 10/20/2021 19:22:44'!
PASSED!

!testRun: #ReportTest #test02 stamp: 'AF 10/20/2021 19:22:44'!
PASSED!

!testRun: #ReportTest #test03 stamp: 'AF 10/20/2021 19:22:44'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:24:10'!
test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance

	|account|
	
	account := ReceptiveAccount new.
	
	self assert: account accountSummary = 'Balance = 0'.! !

!methodRemoval: ReportTest #test01 stamp: 'AF 10/20/2021 19:24:10'!
test01

	|account|
	
	account := ReceptiveAccount new.
	
	self assert: account accountSummary = 'Balance = 0'.!

----SNAPSHOT----(20 October 2021 19:24:16) CuisUniversity-4913.image priorSource: 18907196!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:25:08'!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!methodRemoval: ReportTest #test02 stamp: 'AF 10/20/2021 19:25:08'!
test02

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:26:37'!
test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!methodRemoval: ReportTest #test03 stamp: 'AF 10/20/2021 19:26:37'!
test03

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:29:46'!
test04

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:29:46'!
FAILURE!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:30:03'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:32:03' prior: 50927242!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , aTransaction XXXX, $.;newLine].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:32:07'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:32:07'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:32:08'!
ERROR!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:32:08'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:32:17'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:32:31'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:33:09' prior: 50927366!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := transactionsString , aTransaction XXXX, '.';newLine].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:33:12'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:33:12'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:33:12'!
ERROR!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:33:12'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:33:14'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:36:16' prior: 50927408!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: [:aString | aString nextPutAll: transactionsString, aTransaction XXXX;
			    nextPut: $.;nextLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:36:19'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:36:19'!
FAILURE!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:36:19'!
FAILURE!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:36:19'!
FAILURE!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:36:21'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:38:58' prior: 50927446!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: [:aString | aString nextPutAll: transactionsString, aTransaction XXXX;
			    nextPut: $.;
			    nextLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextLine;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:41:11'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:41:11'!
FAILURE!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:41:11'!
FAILURE!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:41:11'!
FAILURE!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:41:13'!
FAILURE!

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = 50']).
str !

|str|
str := (String streamContents: [:aString | aString     		nextPutAll: 'Depsito por 50'; 
		
		newLine; 
		nextPutAll: 'Balance = 50']).
str !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 19:44:06' prior: 50927486!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: [:aString | aString nextPutAll: transactionsString, aTransaction XXXX;
			    nextPut: $.;
			    newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:44:10'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:44:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:44:10'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:44:10'!
PASSED!

----SNAPSHOT----(20 October 2021 19:46:10) CuisUniversity-4913.image priorSource: 19060539!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:48:06'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 19:48:06'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 19:48:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 19:48:06'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 19:48:06'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 19:57:11'!
test05

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: sender accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Salida por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test05 stamp: 'AF 10/20/2021 19:57:11'!
FAILURE!

!classDefinition: #TransferOut category: 'Portfolio 2' stamp: 'AF 10/20/2021 19:59:27'!
AccountTransaction subclass: #TransferOut
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 19:59:09' prior: 50922265!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	xXwithdrawalXx := TransferOut register: aValue on: aSender.
	xXdepositXx := Deposit register: aValue on: aReceiver. 
	
! !
!TransferOut class methodsFor: 'nil' stamp: 'AF 10/20/2021 20:01:12'!
for: aValue

	^ self new initializeFor: aValue ! !

!classDefinition: #TransferOut category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:01:38'!
AccountTransaction subclass: #TransferOut
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferOut methodsFor: 'nil' stamp: 'AF 10/20/2021 20:01:29'!
initializeFor: aValue

	value := aValue ! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:02:23' overrides: 50920521!
affectBalance: aBalance

	^aBalance + value ! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:02:55' overrides: 50920517!
value

	^ value! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:03:32' overrides: 50927259!
XXXX

	^'Salida por transferencia de ' , self value asString.! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:04:36' prior: 50927642 overrides: 50920521!
affectBalance: aBalance

	^aBalance - value! !

!testRun: #ReportTest #test05 stamp: 'AF 10/20/2021 20:05:22'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 20:05:22'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 20:05:22'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 20:05:22'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 20:05:22'!
PASSED!

!testRun: #ReportTest #test05 stamp: 'AF 10/20/2021 20:05:22'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:05:45'!
test06

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test06 stamp: 'AF 10/20/2021 20:05:45'!
FAILURE!

!classDefinition: #TransferIn category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:06:55'!
AccountTransaction subclass: #TransferIn
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 20:06:10' prior: 50927616!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	xXwithdrawalXx := TransferOut register: aValue on: aSender.
	xXdepositXx := TransferIn register: aValue on: aReceiver. 
	
! !
!TransferIn class methodsFor: 'nil' stamp: 'AF 10/20/2021 20:07:10'!
for: aValue

	^ self new initializeFor: aValue ! !
!TransferIn methodsFor: 'nil' stamp: 'AF 10/20/2021 20:07:27'!
initializeFor: aValue

	value := aValue ! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:07:37' overrides: 50920521!
affectBalance: aBalance

	^aBalance + value ! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:07:49' overrides: 50920517!
value

	^ value! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:08:24' overrides: 50927259!
XXXX

	^'Entrada por transferencia de ' , self value asString.! !

!testRun: #ReportTest #test06 stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test04 stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test05 stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #ReportTest #test06 stamp: 'AF 10/20/2021 20:08:43'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/20/2021 20:08:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/20/2021 20:08:49'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 20:08:50'!
PASSED!

|account account1|
account := ReceptiveAccount new.
account1 := ReceptiveAccount new.
Deposit register: 100 on: account.
Withdraw register: 50 on: account.
Transfer from: account to:  account1 amount: 20.
Transfer from: account1 to:  account amount: 30.
account accountSummary !

----SNAPSHOT----(20 October 2021 20:14:26) CuisUniversity-4913.image priorSource: 19069473!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:18:36'!
test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!methodRemoval: ReportTest #test04 stamp: 'AF 10/20/2021 20:18:36'!
test04

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:19:41'!
test05AccountSummaryShowsTransfersOnSender

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: sender accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Salida por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!methodRemoval: ReportTest #test05 stamp: 'AF 10/20/2021 20:19:41'!
test05

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: sender accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Salida por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:20:01'!
test06AccountSummaryShowsTransfersOnReceiver

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!methodRemoval: ReportTest #test06 stamp: 'AF 10/20/2021 20:20:01'!
test06

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/20/2021 20:22:00' prior: 50927537!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aString | aString nextPutAll: transactionsString, aTransaction XXXX;
			 	  nextPut: $.;
			  	  newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/20/2021 20:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 20:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/20/2021 20:22:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/20/2021 20:22:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/20/2021 20:22:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/20/2021 20:22:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/20/2021 20:22:02'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:35:47'!
test09


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (transfer xXdepositXx transactionOrigin = transfer xXwithdrawalXx).
	
	
	
	
! !

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:35:53'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:36:25' prior: 50928016!
test09


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (transfer xXdepositXx xXtransactionOriginXx = transfer xXwithdrawalXx).
	
	
	
	
! !

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:36:27'!
ERROR!
!TransferIn methodsFor: 'accessing' stamp: 'AF 10/20/2021 20:36:50'!
xXtransactionOriginXx
	self shouldBeImplemented.! !

!classDefinition: #TransferIn category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:37:26'!
AccountTransaction subclass: #TransferIn
	instanceVariableNames: 'value xXtransactionOriginXx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferIn methodsFor: 'accessing' stamp: 'AF 10/20/2021 20:37:22' prior: 50928043!
xXtransactionOriginXx
	
	^xXtransactionOriginXx.! !

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:37:32'!
FAILURE!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:39:01'!
initializeFor: aValue xxxx: xxxx 

	value := aValue ! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:39:01' prior: 50927716!
for: aValue

	^ self new initializeFor: aValue xxxx: anOriginTransaction ! !

!methodRemoval: TransferIn #initializeFor: stamp: 'AF 10/20/2021 20:39:01'!
initializeFor: aValue

	value := aValue !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:39:23' prior: 50928063!
initializeFor: aValue xxxx: xxxx 

	value := aValue .
	xXtransactionOriginXx := xxxx! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:40:49' overrides: 50920535!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:41:42'!
for: aValue xxxx: xxxx 

	^ self new initializeFor: aValue xxxx: anOriginTransaction ! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:41:42' prior: 50928085 overrides: 50920535!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue xxxx: xxxx.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: TransferIn class #for: stamp: 'AF 10/20/2021 20:41:42'!
for: aValue

	^ self new initializeFor: aValue xxxx: anOriginTransaction !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:41:56' prior: 50928092!
for: aValue xxxx: xxxx 

	^ self new initializeFor: aValue xxxx: xxxx ! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 20:42:39'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:42:39'!
FAILURE!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:42:39'!
FAILURE!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:42:45'!
FAILURE!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:42:45'!
FAILURE!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:43:17'!
FAILURE!
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:45:28'!
register: aValue on: account from: from 

	| transaction |
	
	transaction := self for: aValue xxxx: xxxx.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: TransferIn class #register:on: stamp: 'AF 10/20/2021 20:45:28'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue xxxx: xxxx.
	account register: transaction.
		
	^ transaction!
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:45:45' prior: 50928156!
register: aValue on: account from: xxxx 

	| transaction |
	
	transaction := self for: aValue xxxx: xxxx.
	account register: transaction.
		
	^ transaction! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:49:14' prior: 50928172!
register: aValue on: account from: xxxx 

	| transaction |
	
	transaction := self for: aValue
	account register: transaction.
		
	^ transaction! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:49:20' prior: 50928181!
register: aValue on: account from: xxxx 

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:49:37' overrides: 50920535!
register: aValue on: account  

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: TransferIn class #register:on:from: stamp: 'AF 10/20/2021 20:49:37'!
register: aValue on: account from: xxxx 

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction!
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:49:59' prior: 50928112!
for: aValue xxxx: xxxx 

	^ self new initializeFor: aValue.! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:50:04'!
for: aValue  

	^ self new initializeFor: aValue.! !

!methodRemoval: TransferIn class #for:xxxx: stamp: 'AF 10/20/2021 20:50:04'!
for: aValue xxxx: xxxx 

	^ self new initializeFor: aValue.!

!methodRemoval: TransferIn class #register:on: stamp: 'AF 10/20/2021 20:50:19'!
register: aValue on: account  

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:39:01' prior: 50928078!
initializeFor: aValue xxxx: xxxx 

	value := aValue ! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:51:26'!
initializeFor: aValue  

	value := aValue ! !

!methodRemoval: TransferIn #initializeFor:xxxx: stamp: 'AF 10/20/2021 20:51:26'!
initializeFor: aValue xxxx: xxxx 

	value := aValue !

!methodRemoval: TransferIn #xXtransactionOriginXx stamp: 'AF 10/20/2021 20:51:38'!
xXtransactionOriginXx
	
	^xXtransactionOriginXx.!

AccountTransaction subclass: #TransferIn
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #TransferIn category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:51:51'!
AccountTransaction subclass: #TransferIn
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #Transfer category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:52:55'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount xXwithdrawalXx xXdepositXx value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 20:52:54' prior: 50927706!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	value := aValue.
	xXwithdrawalXx := TransferOut register: aValue on: aSender.
	xXdepositXx := TransferIn registerOn: aReceiver. 
	
! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 20:53:23' prior: 50928272!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	value := aValue.
	xXwithdrawalXx := TransferOut register: aValue on: aSender.
	xXdepositXx := TransferIn register: self on: aReceiver. 
	
! !

AccountTransaction subclass: #TransferIn
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #TransferIn category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:53:38'!
AccountTransaction subclass: #TransferIn
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:53:47' prior: 50927725 overrides: 50920521!
affectBalance: aBalance

	^aBalance + self value ! !

!classDefinition: #TransferIn category: 'Portfolio 2' stamp: 'AF 10/20/2021 20:54:08'!
AccountTransaction subclass: #TransferIn
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:54:07' prior: 50928238!
initializeFor: aTransfer  

	transfer := aTransfer ! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:54:22' prior: 50927730 overrides: 50920517!
value

	^ transfer value.! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 20:54:47' overrides: 16881508!
value

	^value
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:57:51' prior: 50928030!
test09


	|sender receiver transfer transferIn|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferIn := transfer xXdepositXx.
	
	self assert: ( transferIn transfer xXwithdrawalXx = transfer xXwithdrawalXx ).
	
	
	
	
! !

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:57:58'!
ERROR!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:58:17'!
transfer

	^ transfer ! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:58:23' prior: 50928324 overrides: 50920517!
value

	^ self transfer value.! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:58:58'!
initializeWith: aTransfer  

	transfer := aTransfer ! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:58:58' prior: 50928217!
for: aValue  

	^ self new initializeWith: aValue.! !

!methodRemoval: TransferIn #initializeFor: stamp: 'AF 10/20/2021 20:58:58'!
initializeFor: aTransfer  

	transfer := aTransfer !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:59:19'!
initializeFor: aTransfer  

	transfer := aTransfer ! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 20:59:19' prior: 50928361!
for: aValue  

	^ self new initializeFor: aValue.! !

!methodRemoval: TransferIn #initializeWith: stamp: 'AF 10/20/2021 20:59:19'!
initializeWith: aTransfer  

	transfer := aTransfer !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:59:23'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/20/2021 20:59:24'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 20:59:31'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:01:15'!
test10


	|sender receiver transfer transferOut|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferOut := transfer xXwithdrawalXx .
	
	self assert: ( transferOut transfer xXdepositXx = transfer xXdepositXx ).
	
	
	
	
! !

!testRun: #TransferTest #test10 stamp: 'AF 10/20/2021 21:01:15'!
ERROR!

!classDefinition: #TransferOut category: 'Portfolio 2' stamp: 'AF 10/20/2021 21:01:37'!
AccountTransaction subclass: #TransferOut
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:01:36' prior: 50927637!
initializeFor: aTransfer  

	transfer := aTransfer ! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:01:48' prior: 50927647 overrides: 50920517!
value

	^ self transfer value.! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:01:58'!
transfer

	^ transfer ! !
!Transfer methodsFor: 'initialization' stamp: 'AF 10/20/2021 21:02:23' prior: 50928283!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	value := aValue.
	xXwithdrawalXx := TransferOut register: self on: aSender.
	xXdepositXx := TransferIn register: self on: aReceiver. 
	
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:02:26'!
ERROR!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'AF 10/20/2021 21:02:26'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:02:26'!
ERROR!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:02:38'!
ERROR!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'AF 10/20/2021 21:02:38'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:02:38'!
ERROR!
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:03:16' prior: 50927657 overrides: 50920521!
affectBalance: aBalance

	^aBalance - self value! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test09 stamp: 'AF 10/20/2021 21:03:21'!
PASSED!

!testRun: #TransferTest #test10 stamp: 'AF 10/20/2021 21:03:21'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:05:33'!
test09ReceiversTransactionKnowsSendersTransaction


	|sender receiver transfer transferIn|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferIn := transfer xXdepositXx.
	
	self assert: ( transferIn transfer xXwithdrawalXx = transfer xXwithdrawalXx ).
	
	
	
	
! !

!methodRemoval: TransferTest #test09 stamp: 'AF 10/20/2021 21:05:33'!
test09


	|sender receiver transfer transferIn|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferIn := transfer xXdepositXx.
	
	self assert: ( transferIn transfer xXwithdrawalXx = transfer xXwithdrawalXx ).
	
	
	
	
!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:05:53'!
test10SendersTransactionKnowsReceiversTransaction


	|sender receiver transfer transferOut|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferOut := transfer xXwithdrawalXx .
	
	self assert: ( transferOut transfer xXdepositXx = transfer xXdepositXx ).
	
	
	
	
! !

!methodRemoval: TransferTest #test10 stamp: 'AF 10/20/2021 21:05:53'!
test10


	|sender receiver transfer transferOut|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferOut := transfer xXwithdrawalXx .
	
	self assert: ( transferOut transfer xXdepositXx = transfer xXdepositXx ).
	
	
	
	
!

----SNAPSHOT----(20 October 2021 21:06:03) CuisUniversity-4913.image priorSource: 19079363!
!TransferOut class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:07:36' prior: 50927626!
for: aTransfer

	^ self new initializeFor: aTransfer ! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:07:47' prior: 50928375!
for: aTransfer  

	^ self new initializeFor: aTransfer.! !
!TransferIn class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:08:52' overrides: 50920535!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!TransferOut class methodsFor: 'as yet unclassified' stamp: 'AF 10/20/2021 21:09:01' overrides: 50920535!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/20/2021 21:09:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/20/2021 21:09:06'!
PASSED!

----SNAPSHOT----(20 October 2021 21:11:46) CuisUniversity-4913.image priorSource: 19103879!

----STARTUP---- (21 October 2021 20:53:08) as C:\Users\ferra\Desktop\windows64\CuisUniversity-4913.image!

!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:54:09' prior: 50927915!
test05AccountSummaryShowsTransfersOnSender

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: sender accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Salida por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/21/2021 20:54:10'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/21/2021 20:54:10'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:54:26' prior: 50927942!
test06AccountSummaryShowsTransfersOnReceiver

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:54:39' prior: 50927884!
test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/21/2021 20:54:40'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/21/2021 20:54:40'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:54:58' prior: 50927321!
test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/21/2021 20:54:59'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/21/2021 20:54:59'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:55:26' prior: 50927296!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 20:55:32' prior: 50928892!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream  		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/21/2021 20:55:33'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/21/2021 20:55:33'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/21/2021 20:55:33'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/21/2021 20:55:34'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/21/2021 20:55:34'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/21/2021 20:55:34'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/21/2021 20:55:34'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/21/2021 20:56:03' prior: 50927970!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
			 	  nextPut: $.;
			  	  newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aString | 
							aString nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/21/2021 20:56:21' prior: 50928950!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
			 	  nextPut: $.;
			  	  newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aStream | 
							aStream nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/21/2021 21:33:47'!
Object subclass: #AccountSummary
	instanceVariableNames: 'accountTransactions account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 21:33:47'!
for: anAccount with: aTransactionCollection
	^self new initializeFor: anAccount with: aTransactionCollection! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 21:33:47'!
initializeFor: anAccount with: aTransactionCollection
	accountTransactions := aTransactionCollection.
	account := anAccount.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 21:33:47'!
execute
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	accountTransactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
			 	  nextPut: $.;
			  	  newLine]].
	
	balanceString := 'Balance = ', account balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aStream | 
							aStream nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'AF 10/21/2021 21:33:47' prior: 50928970!
accountSummary
	^(AccountSummary for: self with: transactions) execute! !

----STARTUP---- (22 October 2021 15:21:24) as C:\Users\ferra\Desktop\windows64\CuisUniversity-4913.image!

!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 15:33:28'!
test07

	|account|
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account transferNet! !

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:33:31'!
ERROR!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:34:09'!
transferNet
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:34:28' prior: 50929050!
transferNet
	^0.! !

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:34:31'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:34:31'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 15:36:08'!
test08

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: -50 equals: sender transferNet.! !

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:36:08'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:38:04' prior: 50929055!
transferNet

	transactions isEmpty ifTrue:[^0.] ifFalse:[^-50]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 15:38:05'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:38:10'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:38:10'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 15:38:37'!
test09

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: 50 equals: receiver transferNet.! !

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:39:29'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:44:45' prior: 50929100!
transferNet
	
	|transferNet|
	
	transferNet := 0.
	transactions do: [ :aTransaction | ((aTransaction isKindOf: TransferIn) or:[aTransaction isKindOf: TransferOut ]) ifTrue:[ aTransaction affectBalance: transferNet ]].
	
	^transferNet! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:44:50'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:44:50'!
FAILURE!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:44:50'!
FAILURE!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:45:29'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:45:30'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:45:30'!
FAILURE!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:45:30'!
FAILURE!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:45:32'!
FAILURE!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:47:02'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:47:59' prior: 50929173!
transferNet
	
	|transferNet|
	
	transferNet := 0.
	transactions do: [ :aTransaction | ((aTransaction isKindOf: TransferIn) or:[aTransaction isKindOf: TransferOut ]) ifTrue:[transferNet := aTransaction affectBalance: transferNet ]].
	
	^transferNet! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:48:03'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:48:03'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:38:04' prior: 50929251!
transferNet

	transactions isEmpty ifTrue:[^0.] ifFalse:[^-50]! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:50:02'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:50:02'!
FAILURE!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:50:02'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:53:43' prior: 50929294!
transferNet


	transactions isEmpty ifTrue:[^0.] ifFalse:[
		^transactions first affectBalance: 0.
		]! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:53:45'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:53:45'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 15:55:07'!
test10

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: account transferNet.! !

!testRun: #ReportTest #test10 stamp: 'AF 10/22/2021 15:55:08'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:58:03' prior: 50929333!
transferNet


	transactions isEmpty ifTrue:[^0.] ifFalse:[
		
		((transactions first isKindOf: Deposit) or:[transactions first isKindOf: Withdraw ]) ifTrue: [^0].
		^transactions  first affectBalance: 0.
		]! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 15:58:07'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'AF 10/22/2021 15:58:07'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 15:59:25'!
test11

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -50 equals: sender transferNet.! !

!testRun: #ReportTest #test11 stamp: 'AF 10/22/2021 15:59:25'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'AF 10/22/2021 15:59:59' prior: 50929381!
transferNet

	|transferNet|
	
	transferNet := 0.
	transactions do: [ :aTransaction | ((aTransaction isKindOf: TransferIn) or:[aTransaction isKindOf: TransferOut ]) ifTrue:[transferNet := aTransaction affectBalance: transferNet ]].
	
	^transferNet! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test07 stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test08 stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test09 stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test10 stamp: 'AF 10/22/2021 16:00:01'!
PASSED!

!testRun: #ReportTest #test11 stamp: 'AF 10/22/2021 16:00:01'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:00:29'!
test07TransferNetReturnsZeroOnEmptyAccount

	|account|
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account transferNet! !

!methodRemoval: ReportTest #test07 stamp: 'AF 10/22/2021 16:00:29'!
test07

	|account|
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account transferNet!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:01:33'!
test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: -50 equals: sender transferNet.! !

!methodRemoval: ReportTest #test08 stamp: 'AF 10/22/2021 16:01:34'!
test08

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: -50 equals: sender transferNet.!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:02:05'!
test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: 50 equals: receiver transferNet.! !

!methodRemoval: ReportTest #test09 stamp: 'AF 10/22/2021 16:02:05'!
test09

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: 50 equals: receiver transferNet.!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:03:08'!
test10TransferNetDoesNotCountNonTranfertransactions

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: account transferNet.! !

!methodRemoval: ReportTest #test10 stamp: 'AF 10/22/2021 16:03:08'!
test10

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: account transferNet.!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:03:17'!
test10TransferNetDoesNotCountNonTranferTransactions

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: account transferNet.! !

!methodRemoval: ReportTest #test10TransferNetDoesNotCountNonTranfertransactions stamp: 'AF 10/22/2021 16:03:17'!
test10TransferNetDoesNotCountNonTranfertransactions

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: account transferNet.!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:04:21'!
test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -50 equals: sender transferNet.! !

!methodRemoval: ReportTest #test11 stamp: 'AF 10/22/2021 16:04:22'!
test11

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -50 equals: sender transferNet.!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:04:35'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 16:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 16:04:39'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 16:04:41'!
PASSED!

----SNAPSHOT----(22 October 2021 16:04:46) CuisUniversity-4913.image priorSource: 19106729!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:05:58' prior: 50927970!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
			 	  nextPut: $.;
			  	  newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aStream | 
							aStream nextPutAll: transactionsString;
								    nextPutAll: balanceString ]].
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 16:05:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 16:05:59'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:06:24' prior: 50927296!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:06:34' prior: 50927321!
test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = -50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:06:46' prior: 50927884!
test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:07:10' prior: 50927915!
test05AccountSummaryShowsTransfersOnSender

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: sender accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Salida por transferencia de 50';		
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = -50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:07:24' prior: 50929832!
test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Depsito por 100';		
 		nextPut: $.;
		newLine;	
		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:07:29' prior: 50929817!
test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Withdraw register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Extraccin por 50'; 
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = -50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:07:33' prior: 50929803!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account|
	
	account := ReceptiveAccount new.
	
	Deposit register: 50 on: account. 
	
	self assert: account accountSummary = (String streamContents: [:aStream | aStream     		nextPutAll: 'Depsito por 50'; 
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:07:40' prior: 50927942!
test06AccountSummaryShowsTransfersOnReceiver

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aString | aString
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = 50']).! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:08:16' prior: 50929912!
test06AccountSummaryShowsTransfersOnReceiver

	|sender receiver|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: receiver accountSummary = (String streamContents: [:aStream | aStream
		nextPutAll: 'Entrada por transferencia de 50';		
		nextPut: $.;
		newLine; 
		nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:08:17'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:08:17'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:09:01' prior: 50929756!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents: 			  		 				[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																				 	  nextPut: $.;
																				  	  newLine]].
	
	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aStream | 
												aStream nextPutAll: transactionsString;
													    nextPutAll: balanceString ]].
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 16:09:05'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:09:09'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:09:09'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:10:02' prior: 50929990!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																			 	  nextPut: $.;
																			  	  newLine]].

	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					ifFalse:[^String streamContents: [:aStream | 
												aStream nextPutAll: transactionsString;
													    nextPutAll: balanceString ]].
! !

Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 16:13:12'!
Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 16:14:31'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!AccountSummary methodsFor: 'nil' stamp: 'AF 10/22/2021 16:14:29'!
makeReport

	^account accountSummary.! !
!AccountSummary class methodsFor: 'nil' stamp: 'AF 10/22/2021 16:18:05'!
for: anAnccount


	^self basicNew for: anAnccount .! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:18:55'!
for: anAccount

	account := 	anAccount .! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:20:13' prior: 50927279!
test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance

	|accountSummary|
	
	accountSummary := AccountSummary for: ReceptiveAccount new.
	
	
	
	self assert: accountSummary makeReport = 'Balance = 0'.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:20:15'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:21:24' prior: 50929897!
test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance

	|account		accountSummary|
	
	account := ReceptiveAccount new.
	
	accountSummary := AccountSummary for: account.
	
	Deposit register: 50 on: account. 
	
	self assert: accountSummary makeReport equals: (String streamContents: [:aStream | aStream     		nextPutAll: 'Depsito por 50'; 
																				nextPut: $.;
																				newLine; 
																				nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:21:29'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:22:06' prior: 50929882!
test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance

	|account		accountSummary|
	
	account := ReceptiveAccount new.
	
	accountSummary := AccountSummary for: account.
	
	Withdraw register: 50 on: account. 
	
	self assert: accountSummary makeReport equals: (String streamContents: [:aStream | aStream     		nextPutAll: 'Extraccin por 50'; 
																				nextPut: $.;
																				newLine; 
																				nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:22:08'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:22:45' prior: 50929864!
test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance

	|account		accountSummary|
	
	account := ReceptiveAccount new.
	
	accountSummary := AccountSummary for: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account. 
	
	self assert: accountSummary makeReport equals: (String streamContents: [:aStream | aStream     nextPutAll: 'Depsito por 100';		
																		 		nextPut: $.;
																				newLine;	
																				nextPutAll: 'Extraccin por 50'; 
																				nextPut: $.;
																				newLine; 
																				nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:22:47'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:24:44' prior: 50929849!
test05AccountSummaryShowsTransfersOnSender

	|sender receiver 	accountSummary|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	accountSummary := AccountSummary for: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: accountSummary makeReport equals: (String streamContents: [:aStream | aStream     nextPutAll: 'Salida por transferencia de 50';		
																				nextPut: $.;
																				newLine; 
																				nextPutAll: 'Balance = -50']).! !

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:24:47'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:25:44' prior: 50929927!
test06AccountSummaryShowsTransfersOnReceiver

	|sender receiver 	accountSummary|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	accountSummary := AccountSummary for: receiver.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: accountSummary makeReport equals: (String streamContents: [:aStream | aStream     nextPutAll: 'Entrada por transferencia de 50';		
																				nextPut: $.;
																				newLine; 
																				nextPutAll: 'Balance = 50']).! !

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:25:50'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:25:53'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:25:53'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:28:02' prior: 50930083!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																			 	  nextPut: $.;
																			  	  newLine]].

	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 16:28:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 16:28:03'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:29:21' prior: 50930122!
makeReport

	|transactionsString balanceString |
	
	transactionsString := ''.
	account transactions do: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																					      nextPut: $.;
																					      newLine]].

	balanceString := 'Balance = ', account balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:29:27'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:29:39'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:29:55'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:30:01'!
PASSED!

!methodRemoval: ReceptiveAccount #accountSummary stamp: 'AF 10/22/2021 16:30:19'!
accountSummary
	
	|transactionsString balanceString |
	
	transactionsString := ''.
	transactions do: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																			 	  nextPut: $.;
																			  	  newLine]].

	balanceString := 'Balance = ', self balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:30:23'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:30:23'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:30:39' prior: 50930364!
makeReport

	|transactionsString balanceString |
	
	transactionsString := ''.
	account transactionsDo: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction XXXX;
																					      nextPut: $.;
																					      newLine]].

	balanceString := 'Balance = ', account balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:30:39'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:30:39'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:30:39'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:30:39'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:30:39'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:30:39'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:30:42'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:30:54'!
transactionsDo: aBlockClosure 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 16:31:19' prior: 50930698!
transactionsDo: aBlockClosure 
	
	^transactions do: aBlockClosure .! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:31:26'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:31:27'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:31:27'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:31:27'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:31:28'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:31:28'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:49:20' prior: 50930629!
makeReport

	|transactionsString balanceString |
	
	transactionsString := ''.
	account transactionsDo: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString, aTransaction affectReport: self;
																					      nextPut: $.;
																					      newLine]].

	balanceString := 'Balance = ', account balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:49:21'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:49:21'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:49:21'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:49:21'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:49:21'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:49:21'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:49:21'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:49:21'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:49:21'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:49:22'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:49:22'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:49:34'!
ERROR!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:50:04'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 16:50:04'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 16:50:04'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 16:50:04'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 16:50:04'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 16:50:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 16:50:19'!
ERROR!

!methodRemoval: AccountTransaction #XXXX stamp: 'AF 10/22/2021 16:51:00'!
XXXX

	^self subclassResponsibility.!
!AccountTransaction methodsFor: 'balance' stamp: 'AF 10/22/2021 16:52:03'!
affectAccountSummary: anAccountSummary

	^self subclassResponsibility ! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:53:25' prior: 50930757!
makeReport

	|transactionsString balanceString |
	
	transactionsString := ''.
	account transactionsDo: [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString;
																					      nextPutAll: (aTransaction affectAccountSummary: self);
																					      nextPut: $.;
																					      newLine]].

	balanceString := 'Balance = ', account balance asString.
	
	transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]].
! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:53:44'!
affectAccountSummary

	^'Depsito por ' , self value asString.! !

!methodRemoval: Deposit #XXXX stamp: 'AF 10/22/2021 16:53:53'!
XXXX

	^'Depsito por ' , self value asString.!
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:56:55' overrides: 50930880!
affectAccountSummary: accountSummary

	^'Depsito por ' , self value asString.! !

!methodRemoval: Deposit #affectAccountSummary stamp: 'AF 10/22/2021 16:56:55'!
affectAccountSummary

	^'Depsito por ' , self value asString.!
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:57:36' prior: 50930918 overrides: 50930880!
affectAccountSummary: anAccountSummary

	^'Depsito por ' , self value asString.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:58:30' prior: 50930929 overrides: 50930880!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyDepositOfValue: self value.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:58:53'!
applyDepositOfValue: aValue

	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 16:59:40' prior: 50930942!
applyDepositOfValue: aTransactionValue

	'Depsito por ' , aTransactionValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:00:16' prior: 50930947!
applyDepositOfValue: aTransactionValue

	^'Depsito por ' , aTransactionValue asString.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:00:26'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:00:26'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:00:26'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:00:26'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:00:26'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:00:26'!
PASSED!
!Deposit methodsFor: 'value' stamp: 'AF 10/22/2021 17:00:57' prior: 50920559 overrides: 50920517!
value

	^ value copy! !
!Deposit methodsFor: 'value' stamp: 'AF 10/22/2021 17:01:09' prior: 50931004 overrides: 50920517!
value

	^ value! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:01:52' overrides: 50930880!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyDepositOfValue: self value.! !

!methodRemoval: TransferIn #XXXX stamp: 'AF 10/22/2021 17:01:54'!
XXXX

	^'Entrada por transferencia de ' , self value asString.!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:02:05' prior: 50931012 overrides: 50930880!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyTransferInOfValue: self value.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:02:58'!
applyTransferInOfValue: aTransactionValue

	^'Extraccin por ' , aTransactionValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:03:23' prior: 50931029!
applyTransferInOfValue: aTransferInValue

	^'Extraccin por ' , aTransferInValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:03:35' prior: 50930953!
applyDepositOfValue: aDepositValue

	^'Depsito por ' , aDepositValue asString.! !

!methodRemoval: TransferOut #XXXX stamp: 'AF 10/22/2021 17:03:46'!
XXXX

	^'Salida por transferencia de ' , self value asString.!
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:04:05' overrides: 50930880!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyTransferOutOfValue: self value.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:05:02'!
applyTransferOutOfValue: aTransferOutValue

	^'Salida por transferencia de ' , aTransferOutValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:05:19' prior: 50931036!
applyTransferInOfValue: aTransferInValue

	^'Entrada por transferencia de' , aTransferInValue asString.! !

!methodRemoval: Withdraw #XXXX stamp: 'AF 10/22/2021 17:05:50'!
XXXX 

	^'Extraccin por ' , self value asString.!
!Withdraw methodsFor: 'initialization' stamp: 'AF 10/22/2021 17:06:12' overrides: 50930880!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyWithdrawOfValue: self value.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:06:45'!
applyWithdrawOfValue: aWithdrawValue

	^'Extraccin por ' , aWithdrawValue asString.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:06:47'!
FAILURE!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:06:47'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:06:47'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:07:07' prior: 50931066!
applyTransferInOfValue: aTransferInValue

	^'Entrada por transferencia de ' , aTransferInValue asString.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:07:09'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:07:09'!
PASSED!
!Deposit methodsFor: 'value' stamp: 'AF 10/22/2021 17:09:04' prior: 50931008 overrides: 50920517!
value

	^ value copy! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:09:05'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:09:06'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 17:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 17:09:25'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:09:26'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 17:09:28'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 17:09:28'!
PASSED!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/22/2021 17:09:41' prior: 50928328 overrides: 16881508!
value

	^value copy
! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 17:09:41'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 17:09:41'!
PASSED!
!Withdraw methodsFor: 'value' stamp: 'AF 10/22/2021 17:09:53' prior: 50920597 overrides: 50920517!
value

	^ value copy! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:09:53'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:12:50'!
test12

	|account portfolio|
	
	account := ReceptiveAccount new.
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:16:23' prior: 50931653!
test12

	|portfolio accountSummary |
	
	portfolio := Portfolio new.
	
	accountSummary := AccountSummary for: portfolio.
	
	self assert: accountSummary makeReport equals: 'Balance = 0'
	
	
	! !

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 17:16:24'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:16:33'!
transactionsDo: aBlockClosure 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:17:14' prior: 50931670!
transactionsDo: aBlockClosure 
	
	self transactions do: aBlockClosure .! !

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:17:16'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 17:17:16'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:30:01' prior: 50931675!
transactionsDo: aBlockClosure 
	|anAccountSummary|
	accounts do: [:anAccount | anAccount affectAccountSummary: anAccountSummary]! !
!Portfolio methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:31:18'!
affectAccountSummary: aBlockClosure 
	|anAccountSummary|
	accounts do: [:anAccount | anAccount affectAccountSummary: anAccountSummary]! !

!methodRemoval: Portfolio #transactionsDo: stamp: 'AF 10/22/2021 17:31:18'!
transactionsDo: aBlockClosure 
	|anAccountSummary|
	accounts do: [:anAccount | anAccount affectAccountSummary: anAccountSummary]!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:32:28' prior: 50930703!
transactionsDo: aBlockClosure 
	
	| anAccountSummary |
	^transactions do: [:aTransaction | aTransaction affectAccountSummary: anAccountSummary] .! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 17:33:01'!
affectAccountSummary: aBlockClosure 
	
	| anAccountSummary |
	^transactions do: [:aTransaction | aTransaction affectAccountSummary: anAccountSummary] .! !

!methodRemoval: ReceptiveAccount #transactionsDo: stamp: 'AF 10/22/2021 17:33:01'!
transactionsDo: aBlockClosure 
	
	| anAccountSummary |
	^transactions do: [:aTransaction | aTransaction affectAccountSummary: anAccountSummary] .!

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 17:37:26'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account ssss'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:37:24' prior: 50930886!
makeReport

	"|transactionsString balanceString |"
	
	"transactionsString := ''."
	ssss := Stream new.
	
	account affectAccountSummary: self.
	" [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString;
																					      nextPutAll: (aTransaction affectAccountSummary: self);
																					      nextPut: $.;
																					      newLine]]."

	ssss nextPutAll: 'Balance = ';
		nextPutAll: account balance asString.
	
	"transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]]."
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:39:18' prior: 50931043!
applyDepositOfValue: aDepositValue

	ssss nextPutAll: 'Depsito por ';
		nextPutAll: aDepositValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:39:56' prior: 50931136!
applyTransferInOfValue: aTransferInValue

	ssss nextPutAll: 'Entrada por transferencia de ';
	nextPutAll: aTransferInValue asString;
	nextPut: $.;
	newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:40:15' prior: 50931059!
applyTransferOutOfValue: aTransferOutValue

	ssss nextPutAll: 'Salida por transferencia de ';
	nextPutAll: aTransferOutValue asString;
	nextPut: $.;
	newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 17:40:45' prior: 50931082!
applyWithdrawOfValue: aWithdrawValue

	ssss nextPutAll: 'Extraccin por ';
		nextPutAll: aWithdrawValue asString;
		nextPut: $.;
		newLine.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:41:28'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:41:28'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:41:28'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:41:28'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:41:28'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 17:41:28'!
ERROR!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:41:49'!
ERROR!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 17:41:49'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 17:41:50'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 17:41:50'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 17:41:50'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 17:41:50'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 17:41:50'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 17:41:50'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 17:41:50'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 17:41:50'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 17:41:50'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 17:41:50'!
ERROR!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 17:41:53'!
ERROR!

Stream!

----SNAPSHOT----(22 October 2021 17:49:47) CuisUniversity-4913.image priorSource: 19139266!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:00:59' prior: 50931782!
makeReport

	"|transactionsString balanceString |"
	
	"transactionsString := ''."
	ssss := String new writeStream.
	
	account affectAccountSummary: self.
	" [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString;
																					      nextPutAll: (aTransaction affectAccountSummary: self);
																					      nextPut: $.;
																					      newLine]]."

	ssss nextPutAll: 'Balance = ';
		nextPutAll: account balance asString.
	
	"transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]]."
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:01:03'!
FAILURE!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:01:03'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:01:03'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:01:03'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:01:03'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:01:03'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:01:03'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:01:03'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:01:03'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:01:03'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:01:04'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:01:04'!
FAILURE!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:01:06'!
FAILURE!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:01:38' prior: 50930136!
test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance

	|accountSummary|
	
	accountSummary := AccountSummary for: ReceptiveAccount new.
	
	
	
	self assert: accountSummary makeReport equals: 'Balance = 0'.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:01:38'!
FAILURE!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:02:22' prior: 50932018!
test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance

	|accountSummary|
	
	accountSummary := AccountSummary for: ReceptiveAccount new.
	
	
	
	self assert: 'Balance = 0' equals: accountSummary makeReport.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:02:40' prior: 50931942!
makeReport

	"|transactionsString balanceString |"
	
	"transactionsString := ''."
	ssss := String new writeStream.
	
	account affectAccountSummary: self.
	" [:aTransaction | transactionsString := String streamContents:			[:aStream | aStream nextPutAll: transactionsString;
																					      nextPutAll: (aTransaction affectAccountSummary: self);
																					      nextPut: $.;
																					      newLine]]."

	ssss nextPutAll: 'Balance = ';
		nextPutAll: account balance asString.
	
	^ssss contents.
	"transactionsString = '' ifTrue: [ ^ balanceString]
					   ifFalse:[^String streamContents: [:aStream | aStream nextPutAll: transactionsString;
													     		      nextPutAll: balanceString ]]."
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:02:41'!
ERROR!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:02:41'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:02:41'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:02:41'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:02:41'!
ERROR!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:02:41'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:02:55'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 18:04:21' prior: 50931759!
affectAccountSummary: anAccountSummary 
	
	
	^transactions do: [:aTransaction | aTransaction affectAccountSummary: anAccountSummary] .! !
!Portfolio methodsFor: 'transactions' stamp: 'AF 10/22/2021 18:04:35' prior: 50931737!
affectAccountSummary: anAccountSummary

	accounts do: [:anAccount | anAccount affectAccountSummary: anAccountSummary]! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:04:36'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:04:46'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:04:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:04:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:04:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:04:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:04:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:04:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:04:54'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:04:55'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 18:04:56'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 18:04:56'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:05:13' prior: 50931825!
applyTransferOutOfValue: aTransferOutValue

	ssss nextPutAll: 'Salida por transferencia de ';
		nextPutAll: aTransferOutValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:05:17' prior: 50931816!
applyTransferInOfValue: aTransferInValue

	ssss nextPutAll: 'Entrada por transferencia de ';
		nextPutAll: aTransferInValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:05:41' prior: 50932042!
makeReport


	ssss := String new writeStream.
	
	account affectAccountSummary: self.

	ssss nextPutAll: 'Balance = ';
		nextPutAll: account balance asString.
	
	^ssss contents.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:05:46'!
PASSED!

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:09:26'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account accountSummaryStream'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:26' prior: 50931834!
applyWithdrawOfValue: aWithdrawValue

	accountSummaryStream nextPutAll: 'Extraccin por ';
		nextPutAll: aWithdrawValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:26' prior: 50931808!
applyDepositOfValue: aDepositValue

	accountSummaryStream nextPutAll: 'Depsito por ';
		nextPutAll: aDepositValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:26' prior: 50932405!
applyTransferOutOfValue: aTransferOutValue

	accountSummaryStream nextPutAll: 'Salida por transferencia de ';
		nextPutAll: aTransferOutValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:26' prior: 50932414!
applyTransferInOfValue: aTransferInValue

	accountSummaryStream nextPutAll: 'Entrada por transferencia de ';
		nextPutAll: aTransferInValue asString;
		nextPut: $.;
		newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:26' prior: 50932423!
makeReport


	accountSummaryStream := String new writeStream.
	
	account affectAccountSummary: self.

	accountSummaryStream nextPutAll: 'Balance = ';
		nextPutAll: account balance asString.
	
	^accountSummaryStream contents.
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:44' prior: 50932487!
applyWithdrawOfValue: aWithdrawValue

	accountSummaryStream  nextPutAll: 'Extraccin por ';
						nextPutAll: aWithdrawValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:09:55' prior: 50932496!
applyDepositOfValue: aDepositValue

	accountSummaryStream  nextPutAll: 'Depsito por ';
						nextPutAll: aDepositValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:10:03' prior: 50932513!
applyTransferInOfValue: aTransferInValue

	accountSummaryStream  nextPutAll: 'Entrada por transferencia de ';
						nextPutAll: aTransferInValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:10:12' prior: 50932504!
applyTransferOutOfValue: aTransferOutValue

	accountSummaryStream  nextPutAll: 'Salida por transferencia de ';
						nextPutAll: aTransferOutValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:18:00'!
writeLine: aString OnAccountSummaryStreamWithValue: aValue

	accountSummaryStream  nextPutAll: aString;
						nextPutAll: aValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:20:25' prior: 50932533!
applyWithdrawOfValue: aWithdrawValue

	accountSummaryStream  writeLine: 'Extraccin por ' OnAccountSummaryStreamWithValue: aWithdrawValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:21:08' prior: 50932561!
applyTransferOutOfValue: aTransferOutValue

	accountSummaryStream  writeLine: 'Salida por transferencia de ' OnAccountSummaryStreamWithValue: aTransferOutValue asString.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:21:10'!
ERROR!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:21:10'!
ERROR!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:21:10'!
ERROR!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:21:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:21:44'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:22:16' prior: 50932587!
applyTransferOutOfValue: aTransferOutValue

	self writeLine: 'Salida por transferencia de ' OnAccountSummaryStreamWithValue: aTransferOutValue asString.
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:22:23' prior: 50932579!
applyWithdrawOfValue: aWithdrawValue

	self  writeLine: 'Extraccin por ' OnAccountSummaryStreamWithValue: aWithdrawValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:22:29' prior: 50932655!
applyWithdrawOfValue: aWithdrawValue

	self writeLine: 'Extraccin por ' OnAccountSummaryStreamWithValue: aWithdrawValue asString.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:23:18' prior: 50932551!
applyTransferInOfValue: aTransferInValue

	self writeLine: 'Entrada por transferencia de ' OnAccountSummaryStreamWithValue: aTransferInValue asString.

! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:23:26'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:23:26'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:23:56' prior: 50932542!
applyDepositOfValue: aDepositValue

	self writeLine: 'Depsito por ' OnAccountSummaryStreamWithValue: aDepositValue asString.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:23:58'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:24:04'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:24:04'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:25:34' prior: 50932522!
makeReport


	accountSummaryStream := String new writeStream.
	
	account affectAccountSummary: self.

	accountSummaryStream nextPutAll: 'Balance = ';
					      nextPutAll: account balance asString.
	
	^accountSummaryStream contents.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:25:34'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:25:34'!
PASSED!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/22/2021 18:27:19'!
originTransaction
	^ xXwithdrawalXx.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:27:19' prior: 50928621!
test10SendersTransactionKnowsReceiversTransaction


	|sender receiver transfer transferOut|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferOut := transfer originTransaction .
	
	self assert: ( transferOut transfer xXdepositXx = transfer xXdepositXx ).
	
	
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:27:19' prior: 50922304!
test07SenderHasTheWithdrawalRegisteredAfterTranfer


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (sender hasRegistered: transfer originTransaction).
	
	
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:27:19' prior: 50928595!
test09ReceiversTransactionKnowsSendersTransaction


	|sender receiver transfer transferIn|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferIn := transfer xXdepositXx.
	
	self assert: ( transferIn transfer originTransaction = transfer originTransaction ).
	
	
	
	
! !

!methodRemoval: Transfer #xXwithdrawalXx stamp: 'AF 10/22/2021 18:27:19'!
xXwithdrawalXx
	^ xXwithdrawalXx.!
!Transfer methodsFor: 'accessing' stamp: 'AF 10/22/2021 18:29:27'!
endTransaction
	
	^ xXdepositXx.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:29:27' prior: 50932917!
test09ReceiversTransactionKnowsSendersTransaction


	|sender receiver transfer transferIn|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferIn := transfer endTransaction.
	
	self assert: ( transferIn transfer originTransaction = transfer originTransaction ).
	
	
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:29:27' prior: 50932889!
test10SendersTransactionKnowsReceiversTransaction


	|sender receiver transfer transferOut|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	transferOut := transfer originTransaction .
	
	self assert: ( transferOut transfer endTransaction = transfer endTransaction ).
	
	
	
	
! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:29:27' prior: 50923916!
test08ReceiverHasTheDepositRegisteredAfterTransfer


	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: (receiver hasRegistered: transfer endTransaction).
	
	
	
	
! !

!methodRemoval: Transfer #xXdepositXx stamp: 'AF 10/22/2021 18:29:27'!
xXdepositXx
	
	^ xXdepositXx.!

!classDefinition: #Transfer category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:29:48'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount xXwithdrawalXx endTransaction value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:29:48' prior: 50928477!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	value := aValue.
	xXwithdrawalXx := TransferOut register: self on: aSender.
	endTransaction := TransferIn register: self on: aReceiver. 
	
! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:29:48' prior: 50932934!
endTransaction
	
	^ endTransaction.! !
!Transfer methodsFor: 'accessing' stamp: 'AF 10/22/2021 18:29:56' prior: 50932884!
originTransaction

	^ xXwithdrawalXx.! !

!classDefinition: #Transfer category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:30:05'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount originTransaction endTransaction value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:30:05' prior: 50932993!
from: aSender to: aReceiver amount: aValue 

	senderAccount := aSender.
	receiverAccount  := aReceiver .
	value := aValue.
	originTransaction := TransferOut register: self on: aSender.
	endTransaction := TransferIn register: self on: aReceiver. 
	
! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:30:05' prior: 50933008!
originTransaction

	^ originTransaction.! !

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 18:30:09'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:30:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:30:19'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:30:21'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:30:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:30:31'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:30:32'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 18:30:34'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 18:30:34'!
PASSED!
!Transfer methodsFor: 'initialization' stamp: 'AF 10/22/2021 18:31:22' prior: 50933021!
from: aSender to: aReceiver amount: aValue 

	value := aValue.
	originTransaction := TransferOut register: self on: aSender.
	endTransaction := TransferIn register: self on: aReceiver. 
	
! !

!methodRemoval: TransferTest #test06TransferKnowsItsReceiver stamp: 'AF 10/22/2021 18:31:49'!
test06TransferKnowsItsReceiver



	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer receiverAccount = receiver .
	
	
	
	
!

!methodRemoval: TransferTest #test05TransferKnowsItsSender stamp: 'AF 10/22/2021 18:31:50'!
test05TransferKnowsItsSender



	|sender receiver transfer|
	
	sender := ReceptiveAccount new.
	receiver  := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 100.
	
	self assert: transfer senderAccount = sender.
	
	
	
	
!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 18:31:56'!
PASSED!

!methodRemoval: Transfer #receiverAccount stamp: 'AF 10/22/2021 18:32:08'!
receiverAccount
	^receiverAccount.!

!methodRemoval: Transfer #senderAccount stamp: 'AF 10/22/2021 18:32:09'!
senderAccount
	^ senderAccount.!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 18:32:53'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:32:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:32:56'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:32:57'!
PASSED!

Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #TransferNet category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:34:12'!
Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: 'TransferNet class' category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:34:59'!
TransferNet class
	instanceVariableNames: 'account'!
!TransferNet class methodsFor: 'nil' stamp: 'AF 10/22/2021 18:34:57'!
for: anAccount

	account := anAccount! !
!TransferNet class methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:35:25' prior: 50933691!
for: anAccount

	^self basicNew for: anAccount.! !

!classDefinition: #TransferNet category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:36:04'!
Object subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferNet methodsFor: 'nil' stamp: 'AF 10/22/2021 18:36:03'!
for: anAccount

	account := anAccount.
	! !

TransferNet class
	instanceVariableNames: ''!

!classDefinition: 'TransferNet class' category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:36:16'!
TransferNet class
	instanceVariableNames: ''!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:37:06'!
makeReport

	^account transferNet.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:38:19' prior: 50929484!
test07TransferNetReturnsZeroOnEmptyAccount

	|transferNet|
	
	transferNet := TransferNet for: ReceptiveAccount new.

	self assert: 0 equals: transferNet makeReport! !

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:38:20'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:38:20'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:39:17' prior: 50929497!
test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut

	|sender receiver transferNet|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transferNet  := TransferNet for: sender.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: -50 equals: transferNet makeReport.! !

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:39:23'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:39:23'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:39:50' prior: 50929516!
test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn

	|sender receiver transferNet|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transferNet  := TransferNet for: receiver.
	
	Transfer from: sender to: receiver amount: 50. 
	
	self assert: 50 equals: transferNet makeReport.! !

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:39:51'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:39:51'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:41:30' prior: 50929550!
test10TransferNetDoesNotCountNonTranferTransactions

	|transferNet account|
	
	account := ReceptiveAccount new.
	transferNet := TransferNet for: account.
	
	Deposit register: 100 on: account.
	
	self assert: 0 equals: transferNet makeReport.! !

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:41:31'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:41:31'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:42:08' prior: 50929568!
test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions

	|sender receiver transferNet|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transferNet  := TransferNet for: sender.
	
	Deposit register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -50 equals: transferNet makeReport .! !

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:42:08'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:42:08'!
PASSED!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:44:06' prior: 50933717!
makeReport

	
	|transferNet|
	
	transferNet := 0.
	account transactions do: [ :aTransaction | ((aTransaction isKindOf: TransferIn) or:[aTransaction isKindOf: TransferOut ]) ifTrue:[transferNet := aTransaction affectBalance: transferNet ]].
	
	^transferNet! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:44:06'!
PASSED!

!methodRemoval: ReceptiveAccount #transferNet stamp: 'AF 10/22/2021 18:44:11'!
transferNet

	|transferNet|
	
	transferNet := 0.
	transactions do: [ :aTransaction | ((aTransaction isKindOf: TransferIn) or:[aTransaction isKindOf: TransferOut ]) ifTrue:[transferNet := aTransaction affectBalance: transferNet ]].
	
	^transferNet!

!classDefinition: #TransferNet category: 'Portfolio 2' stamp: 'AF 10/22/2021 18:45:54'!
Object subclass: #TransferNet
	instanceVariableNames: 'account result'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:45:44' prior: 50934038!
makeReport

	result := 0.
	

	account affectTransferNet: self.
	
	^result.! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:46:42'!
ERROR!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:46:42'!
ERROR!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:46:42'!
ERROR!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:46:42'!
ERROR!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:46:42'!
ERROR!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:46:42'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:46:44'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 18:47:01'!
affectTransferNet: aTransferNet 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 18:48:06' prior: 50934169!
affectTransferNet: aTransferNet 
	transactions do: [:aTransaction | aTransaction affectTransferNet: aTransferNet ]! !

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:48:08'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:48:10'!
ERROR!
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:48:27'!
affectTransferNet: aTransferNet 
	self shouldBeImplemented.! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:49:31' prior: 50934188!
affectTransferNet: aTransferNet 
	
	aTransferNet applyTransferOutOfValue: self value.! !

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:49:36'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:49:47'!
applyTransferOutOfValue: aSmallInteger 
	self shouldBeImplemented.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:50:38' prior: 50934203!
applyTransferOutOfValue: aTransferOutValue 
	
	result := result - aTransferOutValue .! !

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:50:40'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:50:49'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:51:12'!
ERROR!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:51:12'!
ERROR!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:51:12'!
ERROR!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:51:12'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:51:13'!
ERROR!
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:51:22'!
affectTransferNet: aTransferNet 
	self shouldBeImplemented.! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:51:46' prior: 50934273!
affectTransferNet: aTransferNet 
	
	aTransferNet applyTransferInOfValue: self value.! !

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:51:48'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:51:56'!
applyTransferInOfValue: aSmallInteger 
	self shouldBeImplemented.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:52:20' prior: 50934288!
applyTransferInOfValue: aTransferInValue 
	
	result := result + aTransferInValue .! !

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:52:22'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:52:23'!
ERROR!
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:52:31'!
affectTransferNet: aTransferNet 
	self shouldBeImplemented.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:53:29' prior: 50934307!
affectTransferNet: aTransferNet 
	
	! !

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:53:33'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:53:34'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:53:43'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:53:43'!
PASSED!
!Withdraw methodsFor: 'initialization' stamp: 'AF 10/22/2021 18:55:09'!
affectTransferNet: anAccountSummary

	! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:55:09'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:55:15'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:55:39'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:55:39'!
PASSED!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:56:15' prior: 50933971!
test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions

	|sender receiver transferNet|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transferNet  := TransferNet for: sender.
	
	Withdraw register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -150 equals: transferNet makeReport .! !

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:56:15'!
FAILURE!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:56:36'!
FAILURE!
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:56:56' prior: 50934769!
test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions

	|sender receiver transferNet|
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transferNet  := TransferNet for: sender.
	
	Withdraw register: 100 on: sender.
	
	Transfer from: sender to: receiver amount: 50.
	
	self assert: -50 equals: transferNet makeReport .! !

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 18:56:56'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 18:56:56'!
PASSED!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:57:25' prior: 50934114!
makeReport

	result := 0.
	
	account affectTransferNet: self.
	
	^result.! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:58:18'!
test13

	|portfolio accountSummary |
	
	portfolio := Portfolio new.
	
	accountSummary := TransferNet for: portfolio.
	
	self assert: accountSummary makeReport equals: 'Balance = 0'
	
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:58:26' prior: 50934866!
test13

	|portfolio transferNet |
	
	portfolio := Portfolio new.
	
	transferNet := TransferNet for: portfolio.
	
	self assert: transferNet makeReport equals: 'Balance = 0'
	
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 18:58:41' prior: 50934875!
test13

	|portfolio transferNet |
	
	portfolio := Portfolio new.
	
	transferNet := TransferNet for: portfolio.
	
	self assert: transferNet makeReport equals: 0
	
	
	! !

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 18:58:42'!
ERROR!
!Portfolio methodsFor: 'balance' stamp: 'AF 10/22/2021 18:59:13'!
affectTransferNet: aTransferNet 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'balance' stamp: 'AF 10/22/2021 19:00:06' prior: 50934894!
affectTransferNet: aTransferNet 
	
	accounts do: [:anAccount | anAccount affectTransferNet: aTransferNet ]! !

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:00:09'!
PASSED!

----SNAPSHOT----(22 October 2021 19:01:10) CuisUniversity-4913.image priorSource: 19209209!

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #Report category: 'Portfolio 2' stamp: 'AF 10/22/2021 19:03:03'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

Report subclass: #TransferNet
	instanceVariableNames: 'account result'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #TransferNet category: 'Portfolio 2' stamp: 'AF 10/22/2021 19:03:19'!
Report subclass: #TransferNet
	instanceVariableNames: 'account result'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

Report subclass: #AccountSummary
	instanceVariableNames: 'account accountSummaryStream'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 19:03:32'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account accountSummaryStream'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:03:38'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:03:40'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:03:41'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 19:04:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:04:05'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 19:04:07'!
PASSED!

!testRun: #TransferTest #test01CanNotTransferAZeroAmount stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test02TransferReflectsCorrectlyOnBothPartiesBalances stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test03SenderAndReceiverCanNotBeTheSame stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test04CanNotTranferANegativeAmount stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test07SenderHasTheWithdrawalRegisteredAfterTranfer stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test08ReceiverHasTheDepositRegisteredAfterTransfer stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test09ReceiversTransactionKnowsSendersTransaction stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #TransferTest #test10SendersTransactionKnowsReceiversTransaction stamp: 'AF 10/22/2021 19:04:08'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:04:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:04:11'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:04:13'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:04:17'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:04:20'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:04:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:04:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:04:25'!
PASSED!
!Report class methodsFor: 'no messages' stamp: 'AF 10/22/2021 19:05:23'!
for: anAccount

	^self basicNew for: anAccount.

	! !
!Report methodsFor: 'no messages' stamp: 'AF 10/22/2021 19:05:40'!
for: anAccount

	^self subclassResponsibility .! !

!methodRemoval: AccountSummary class #for: stamp: 'AF 10/22/2021 19:05:49'!
for: anAnccount


	^self basicNew for: anAnccount .!

!methodRemoval: TransferNet class #for: stamp: 'AF 10/22/2021 19:05:52'!
for: anAccount

	^self basicNew for: anAccount.!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:05:55'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:05:56'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:05:56'!
PASSED!
!Report methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:06:28'!
makeReport

	^self subclassResponsibility.! !

!classDefinition: #AccountSummary category: 'Portfolio 2' stamp: 'AF 10/22/2021 19:10:25'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account result'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:25' prior: 50932570!
writeLine: aString OnAccountSummaryStreamWithValue: aValue

	result  nextPutAll: aString;
						nextPutAll: aValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:25' prior: 50932827 overrides: 50935824!
makeReport


	result := String new writeStream.
	
	account affectAccountSummary: self.

	result nextPutAll: 'Balance = ';
					      nextPutAll: account balance asString.
	
	^result contents.
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:33' prior: 50935845 overrides: 50935824!
makeReport


	result := String new writeStream.
	
	account affectAccountSummary: self.

	result nextPutAll: 'Balance = ';
		  nextPutAll: account balance asString.
	
	^result contents.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:10:34'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:10:35'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:10:35'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:10:35'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:56'!
writeLine: aString OnResultWithValue: aValue

	result  nextPutAll: aString;
						nextPutAll: aValue asString;
						nextPut: $.;
						newLine.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:56' prior: 50932726!
applyDepositOfValue: aDepositValue

	self writeLine: 'Depsito por ' OnResultWithValue: aDepositValue asString.
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:56' prior: 50932647!
applyTransferOutOfValue: aTransferOutValue

	self writeLine: 'Salida por transferencia de ' OnResultWithValue: aTransferOutValue asString.
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:56' prior: 50932671!
applyTransferInOfValue: aTransferInValue

	self writeLine: 'Entrada por transferencia de ' OnResultWithValue: aTransferInValue asString.

! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:10:56' prior: 50932663!
applyWithdrawOfValue: aWithdrawValue

	self writeLine: 'Extraccin por ' OnResultWithValue: aWithdrawValue asString.! !

!methodRemoval: AccountSummary #writeLine:OnAccountSummaryStreamWithValue: stamp: 'AF 10/22/2021 19:10:56'!
writeLine: aString OnAccountSummaryStreamWithValue: aValue

	result  nextPutAll: aString;
						nextPutAll: aValue asString;
						nextPut: $.;
						newLine.!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:11:01'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:11:01'!
PASSED!
!Report methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:11:44'!
applyDepositOfValue: aDepositValue

	^self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:11:59'!
applyWithdrawOfValue: aWithdrawValue

	^self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:12:10'!
applyTransferInOfValue: aTransferInValue

	^self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:12:17'!
applyTransferOutOfValue: aTransferOutValue

	^self subclassResponsibility ! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:12:48'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:12:48'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 19:13:39'!
affectReport: aReport
	
	
	^transactions do: [:aTransaction | aTransaction affectReport: aReport] .! !
!Portfolio methodsFor: 'balance' stamp: 'AF 10/22/2021 19:14:12'!
affectReport: aReport

	accounts do: [:anAccount | anAccount affectReport: aReport]! !
!TransferIn methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:14:41'!
affectReport: aReport

	^aReport applyTransferInOfValue: self value.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:14:57'!
affectReport: aReport
	^aReport applyDepositOfValue: self value.! !
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:15:21'!
affectReprot: aReport
	
	aReport applyTransferOutOfValue: self value.! !
!Withdraw methodsFor: 'initialization' stamp: 'AF 10/22/2021 19:15:39'!
affectReport: aReport

	^aReport applyWithdrawOfValue: self value.! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:15:39'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:15:40'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:15:40'!
PASSED!
!TransferOut methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:16:01'!
affectReport: aReport
	
	aReport applyTransferOutOfValue: self value.! !

!methodRemoval: TransferOut #affectReprot: stamp: 'AF 10/22/2021 19:16:01'!
affectReprot: aReport
	
	aReport applyTransferOutOfValue: self value.!
!AccountTransaction methodsFor: 'balance' stamp: 'AF 10/22/2021 19:16:40'!
affectReport: aReport

	^self subclassResponsibility ! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:16:51' prior: 50936094 overrides: 50936252!
affectReport: aReport

	^aReport applyDepositOfValue: self value.! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:16:54'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:16:55'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:17:06'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:17:06'!
PASSED!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:18:02' prior: 50934861 overrides: 50935824!
makeReport

	result := 0.
	
	account affectReport: self.
	
	^result.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:18:11' prior: 50935855 overrides: 50935824!
makeReport


	result := String new writeStream.
	
	account affectReport: self.

	result nextPutAll: 'Balance = ';
		  nextPutAll: account balance asString.
	
	^result contents.
! !

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:18:25'!
ERROR!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:18:25'!
ERROR!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:18:25'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:20:57'!
ERROR!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:20:57'!
ERROR!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:20:57'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:20:59'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:21:37' overrides: 50936008!
applyDepositOfValue: aDepositValue 
	
! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'AF 10/22/2021 19:21:53' overrides: 50936013!
applyWithdrawOfValue: aWithdrawValue 
	
! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:21:56'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:22:03'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:22:04'!
PASSED!

!methodRemoval: ReceptiveAccount #affectAccountSummary: stamp: 'AF 10/22/2021 19:22:17'!
affectAccountSummary: anAccountSummary 
	
	
	^transactions do: [:aTransaction | aTransaction affectAccountSummary: anAccountSummary] .!

!methodRemoval: ReceptiveAccount #affectTransferNet: stamp: 'AF 10/22/2021 19:22:20'!
affectTransferNet: aTransferNet 
	transactions do: [:aTransaction | aTransaction affectTransferNet: aTransferNet ]!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:22:22'!
PASSED!

!methodRemoval: Portfolio #affectAccountSummary: stamp: 'AF 10/22/2021 19:22:33'!
affectAccountSummary: anAccountSummary

	accounts do: [:anAccount | anAccount affectAccountSummary: anAccountSummary]!

!methodRemoval: Portfolio #affectTransferNet: stamp: 'AF 10/22/2021 19:22:34'!
affectTransferNet: aTransferNet 
	
	accounts do: [:anAccount | anAccount affectTransferNet: aTransferNet ]!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:22:37'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:22:37'!
PASSED!
!Account methodsFor: 'transactions' stamp: 'AF 10/22/2021 19:23:08'!
affectReport: aReport

	self subclassResponsibility ! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:23:11'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:23:11'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'AF 10/22/2021 19:23:31' prior: 50936077 overrides: 50937216!
affectReport: aReport
	
	
	transactions do: [:aTransaction | aTransaction affectReport: aReport] .! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:23:31'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:23:34'!
PASSED!

!methodRemoval: Deposit #affectAccountSummary: stamp: 'AF 10/22/2021 19:23:53'!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyDepositOfValue: self value.!

!methodRemoval: Deposit #affectTransferNet: stamp: 'AF 10/22/2021 19:23:55'!
affectTransferNet: aTransferNet 
	
	!

!methodRemoval: TransferIn #affectAccountSummary: stamp: 'AF 10/22/2021 19:23:58'!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyTransferInOfValue: self value.!

!methodRemoval: TransferIn #affectTransferNet: stamp: 'AF 10/22/2021 19:23:59'!
affectTransferNet: aTransferNet 
	
	aTransferNet applyTransferInOfValue: self value.!

!methodRemoval: TransferOut #affectAccountSummary: stamp: 'AF 10/22/2021 19:24:02'!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyTransferOutOfValue: self value.!

!methodRemoval: TransferOut #affectTransferNet: stamp: 'AF 10/22/2021 19:24:05'!
affectTransferNet: aTransferNet 
	
	aTransferNet applyTransferOutOfValue: self value.!

!methodRemoval: Withdraw #affectAccountSummary: stamp: 'AF 10/22/2021 19:24:07'!
affectAccountSummary: anAccountSummary

	^anAccountSummary applyWithdrawOfValue: self value.!

!methodRemoval: Withdraw #affectTransferNet: stamp: 'AF 10/22/2021 19:24:08'!
affectTransferNet: anAccountSummary

	!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test01AccountSummaryOfEmptyAccountReturnsOneLineWithBalance stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test02AccountSummaryOfAccountWithOneDepositReturnsALineForDepositAndALineForBalance stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test03AccountSummaryOfAccountWithOneWithdrawalReturnsALineForWithdrawAndALineForBalance stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test04AccountSummaryOfAccountReturnsALineForEachTransactionAndAnotherOneForBalance stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test05AccountSummaryShowsTransfersOnSender stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test06AccountSummaryShowsTransfersOnReceiver stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test07TransferNetReturnsZeroOnEmptyAccount stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test08TransferNetReturnsCorrectValueOnAccountWithOneTransferOut stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test09TransferNetReturnsCorrectValueOnAccountWithOneTransferIn stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test10TransferNetDoesNotCountNonTranferTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test11TransferNetReturnsCorrectValueOnAccountWithATransferAndANonTransferTransactions stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test12 stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

!testRun: #ReportTest #test13 stamp: 'AF 10/22/2021 19:24:18'!
PASSED!

----SNAPSHOT----(22 October 2021 19:24:25) CuisUniversity-4913.image priorSource: 19305783!

----STARTUP---- (22 October 2021 19:27:29) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


!classRemoval: #Transfer stamp: 'MK 10/22/2021 19:27:35'!
Object subclass: #Transfer
	instanceVariableNames: 'senderAccount receiverAccount xXwithdrawalXx xXdepositXx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #Withdraw stamp: 'MK 10/22/2021 19:27:37'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #TransferWithdraw stamp: 'MK 10/22/2021 19:27:38'!
AccountTransaction subclass: #TransferWithdraw
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #TransferDeposit stamp: 'MK 10/22/2021 19:27:38'!
AccountTransaction subclass: #TransferDeposit
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #Deposit stamp: 'MK 10/22/2021 19:27:39'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #AccountTransaction stamp: 'MK 10/22/2021 19:27:41'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #ReceptiveAccount stamp: 'MK 10/22/2021 19:27:42'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #Portfolio stamp: 'MK 10/22/2021 19:27:43'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #Account stamp: 'MK 10/22/2021 19:27:44'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #TransferTest stamp: 'MK 10/22/2021 19:27:44'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #ReceptiveAccountTest stamp: 'MK 10/22/2021 19:27:45'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

!classRemoval: #PortfolioTest stamp: 'MK 10/22/2021 19:27:45'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio 2'!

----End fileIn of D:\001.Maca\2c2021\inge1\newqa1\Portfolio 2.st----!

----STARTUP---- (1 November 2021 19:23:58) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


----End fileIn of D:\001.Maca\2c2021\inge1\Iteracion1\TusLibros-1.st----!

!classRemoval: #CartTest stamp: 'MK 11/1/2021 19:24:25'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of D:\001.Maca\2c2021\inge1\Iteracion1\TusLibros-18.st----!

TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'MK 11/1/2021 19:25:22'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/1/2021 19:25:31'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'no messages' stamp: 'MK 11/1/2021 19:33:31'!
test01CheckoutOfEmptyCartThrowsError
	
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:40:12'!
defaultCatalog
	
	^ Array with: self itemSellByTheStore! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:40:19'!
itemSellByTheStore
	
	^ 'validBook'! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:40:27'!
itemNotSellByTheStore
	
	^'invalidBook'! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:40:35'!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:44:38' prior: 50930469!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier acceptingCart: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert : anError messageText  = cashier emptyCartErrorMessage.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:44:48' prior: 50930491!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier acceptingCart: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = cashier emptyCartErrorMessage.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:44:51'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'MK 11/1/2021 19:45:02'!
acceptingCart: aCart 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAcceptingCart: aCart ! !
!Cashier class methodsFor: 'instance creation' stamp: 'MK 11/1/2021 19:45:16' prior: 50930520!
acceptingCart: aCart 

	^self new initializeAcceptingCart: aCart ! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:45:18'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/1/2021 19:45:31'!
Object subclass: #Cashier
	instanceVariableNames: 'cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:45:31'!
initializeAcceptingCart: aCart 
	self shouldBeImplemented.
	cart := aCart.! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:45:34' prior: 50930544!
initializeAcceptingCart: aCart 
	
	cart := aCart.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:45:37'!
ERROR!
!Cashier methodsFor: 'errors' stamp: 'MK 11/1/2021 19:45:47'!
emptyCartErrorMessage
	self shouldBeImplemented.! !
!Cashier methodsFor: 'errors' stamp: 'MK 11/1/2021 19:46:19' prior: 50930557!
emptyCartErrorMessage
	^ 'Cannot do checkout of empty cart'! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:46:20'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:46:41'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:47:20'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:47:51'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:49:32'!
doCheckout
	
	self error: self emptyCartErrorMessage.
	! !
!Cashier class methodsFor: 'errors' stamp: 'MK 11/1/2021 19:49:45'!
emptyCartErrorMessage
	^ 'Cannot do checkout of empty cart'! !

!methodRemoval: Cashier #emptyCartErrorMessage stamp: 'MK 11/1/2021 19:49:45'!
emptyCartErrorMessage
	^ 'Cannot do checkout of empty cart'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:50:07' prior: 50930504!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier acceptingCart: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorMessage.	
		]
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:50:19' prior: 50930580!
doCheckout
	
	self error: Cashier emptyCartErrorMessage.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:50:27'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:50:27'!
PASSED!
!Cashier class methodsFor: 'errors' stamp: 'MK 11/1/2021 19:50:41'!
emptyCartErrorDescription
	^ 'Cannot do checkout of empty cart'! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:50:41' prior: 50930594!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier acceptingCart: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:50:42' prior: 50930607!
doCheckout
	
	self error: Cashier emptyCartErrorDescription.
	! !

!methodRemoval: Cashier class #emptyCartErrorMessage stamp: 'MK 11/1/2021 19:50:42'!
emptyCartErrorMessage
	^ 'Cannot do checkout of empty cart'!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:50:50'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:50:50'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:51:32'!
test02
	
	| cart cashier |
	cart _ self createCart.
	cashier _ Cashier acceptingCart: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:53:08' prior: 50930653!
test02
	
	| cart cashier |
	cart _ self createCart.
	cashier _ Cashier acceptingCart: cart.
	
	self assert: 'Total: 100' equals: cashier doCheckout.
	! !

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:53:10'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:53:58' prior: 50930637!
doCheckout
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	^ 'Total: 100'
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:54:08'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:54:08'!
ERROR!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:54:08'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:54:16' prior: 50930675!
doCheckout
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:54:18'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:54:18'!
ERROR!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:54:18'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:55:30' prior: 50930665!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore .
	cashier _ Cashier acceptingCart: cart.
	
	self assert: 'Total: 100' equals: cashier doCheckout.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:55:31' prior: 50930703!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier acceptingCart: cart.
	
	self assert: 'Total: 100' equals: cashier doCheckout.
	! !

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:55:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 19:55:32'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 19:55:32'!
PASSED!
!Cashier class methodsFor: 'instance creation' stamp: 'MK 11/1/2021 19:59:09'!
withCatalog: aCart 

	^self new initializeAcceptingCart: aCart ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:59:10' prior: 50930624!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: cart.
	
	self 
		should: [ cashier doCheckout ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:59:10' prior: 50930713!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: cart.
	
	self assert: 'Total: 100' equals: cashier doCheckout.
	! !

!methodRemoval: Cashier class #acceptingCart: stamp: 'MK 11/1/2021 19:59:10'!
acceptingCart: aCart 

	^self new initializeAcceptingCart: aCart !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 19:59:22'!
initializeAcceptingCatalog: aCart 
	
	cart := aCart.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:59:22' prior: 50930730!
withCatalog: aCart 

	^self new initializeAcceptingCatalog: aCart ! !

!methodRemoval: Cashier #initializeAcceptingCart: stamp: 'MK 11/1/2021 19:59:22'!
initializeAcceptingCart: aCart 
	
	cart := aCart.!
!Cashier class methodsFor: 'instance creation' stamp: 'MK 11/1/2021 19:59:29' prior: 50930767!
withCatalog: aCatalog 

	^self new initializeAcceptingCatalog: aCatalog ! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:00:20'!
doCheckout: aCart
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:00:20' prior: 50930749!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: cart.
	
	self assert: 'Total: 100' equals: cashier doCheckout: Array new.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:00:20' prior: 50930736!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: cart.
	
	self 
		should: [ cashier doCheckout: Array new ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!methodRemoval: Cashier #doCheckout stamp: 'MK 11/1/2021 20:00:20'!
doCheckout
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:00:35' prior: 50930799!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: cart.
	
	self 
		should: [ cashier doCheckout: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:00:49' prior: 50930789!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: cart.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:00:54' prior: 50930818!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: Array new.
	
	self 
		should: [ cashier doCheckout: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:01:08' prior: 50930831!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:01:30' prior: 50930762!
initializeAcceptingCatalog: aCatalog 
	
	cart := aCatalog.! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/1/2021 20:01:34'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:01:34' prior: 50930864!
initializeAcceptingCatalog: aCatalog 
	
	catalog := aCatalog.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:01:34' prior: 50930782!
doCheckout: aCart
	
	catalog isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:01:50' prior: 50930881!
doCheckout: aCart
	
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	! !

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 20:02:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:02:15'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'MK 11/1/2021 20:02:15'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:03:19'!
test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 2 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckout: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:03:35'!
test02CheckoutOfCartWithOneBookReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:03:39'!
test02CheckoutOfCartWithOneBookReturnsPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	! !

!methodRemoval: CashierTest #test02CheckoutOfCartWithOneBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:03:42'!
test02CheckoutOfCartWithOneBookReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	!

!methodRemoval: CashierTest #test02CheckoutOfCartWithOneBookReturnsPrice stamp: 'MK 11/1/2021 20:03:53'!
test02CheckoutOfCartWithOneBookReturnsPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:04:01'!
test02CheckoutOfCartWithOneBookReturnsCorrectPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	! !

!methodRemoval: CashierTest #test02 stamp: 'MK 11/1/2021 20:04:01'!
test02
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckout: cart).
	!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:04:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:04:06'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:04:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:04:06'!
FAILURE!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:04:06'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:04:20'!
doCheckoutOn: aCart
	
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:04:20' prior: 50930841!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: Array new.
	
	self 
		should: [ cashier doCheckoutOn: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:04:20' prior: 50930958!
test02CheckoutOfCartWithOneBookReturnsCorrectPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 100' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:04:20' prior: 50930902!
test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 2 of: self itemSellByTheStore.
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !

!methodRemoval: Cashier #doCheckout: stamp: 'MK 11/1/2021 20:04:20'!
doCheckout: aCart
	
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	^ 'Total: 100'
	!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:07:44' prior: 50930996!
doCheckoutOn: aCart
	
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	2 = (aCart occurrencesOf: catalog first) ifTrue: [^ 'Total: 200'].
	
	^ 'Total: 100'
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:07:48'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:07:48'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:07:48'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:08:53'!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:09:39' prior: 50931065!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:09:56' prior: 50931078!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array .
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:10:17' prior: 50931091!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: (Array with: self itemSellByTheStore with: 'validBook2').
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: self defaultCatalog.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:10:26' prior: 50931104!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: (Array with: self itemSellByTheStore with: 'validBook2').
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: (Array with: self itemSellByTheStore with: 'validBook2').
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:10:36' prior: 50931119!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: (Array with: self itemSellByTheStore with: 'validBook2').
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	cashier _ Cashier withCatalog: (Array with: self itemSellByTheStore with: 'validBook2').
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:10:37'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:12:10' prior: 50931046!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	2 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 200].
	1 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 100].
	1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50].
	
	^ 'Total: ',total as: String.
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:12:15' prior: 50931155!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	2 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 200].
	1 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 100].
	1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50].
	
	^ 'Total: ', total as: String.
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:12:19' prior: 50931170!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	2 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 200].
	1 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 100].
	1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:12:21'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:12:21'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:12:21'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:12:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:12:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:12:35'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:12:35'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:12:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:12:41'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:13:12' prior: 50931185!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	2 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 200].
	1 = (aCart occurrencesOf: catalog first) ifTrue: [total _ total + 100].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:13:13'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:13:14'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:13:14'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:13:14'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:14:35' prior: 50931233!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	(aCart occurrencesOf: catalog first > 0) ifTrue: [total _ total + 100 * aCart occurrencesOf: catalog first].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:14:36'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:14:36'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:14:36'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:14:36'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:14:56' prior: 50931263!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	(aCart occurrencesOf: catalog first > 0) ifTrue: [total _ total + 100 * (aCart occurrencesOf: catalog first)].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:14:57'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:14:57'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:14:57'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:14:57'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:15:03' prior: 50931292!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	(aCart occurrencesOf: catalog first > 0) ifTrue: [total _ total + (100 * (aCart occurrencesOf: catalog first))].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:15:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:15:04'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:04'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:04'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:15:11'!
ERROR!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:15:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:15:26'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:26'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:26'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:15:28'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:15:52' prior: 50931321!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog first) > 0) ifTrue: [total _ total + 100 * (aCart occurrencesOf: catalog first)].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:15:53'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:15:53'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:53'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:15:53'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:16:03' prior: 50931372!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog first) > 0) ifTrue: [total _ total + 100 * aCart occurrencesOf: catalog first].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:16:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:16:04'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:16:04'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:16:04'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:16:09' prior: 50931401!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog first) > 0) ifTrue: [total _ total + 100 * (aCart occurrencesOf: catalog first)].
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second) ifTrue: [total _ total + 50]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:16:10'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:16:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:16:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:16:10'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:21:51' prior: 50931430!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog first key) > 0) ifTrue: 
		[total _ total + (catalog first value) * (aCart occurrencesOf: catalog first key)].
	
	catalog size =2 ifTrue: [1 = (aCart occurrencesOf: catalog second key) ifTrue: 
		[total _ total + (catalog second value)]].
	
	^ 'Total: ', total asString.
	! !

----SNAPSHOT----(1 November 2021 20:22:08) CuisUniversity-4913.image priorSource: 19016467!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:24:21' prior: 50930473!
defaultCatalog
	|catalog|
	catalog _ Dictionary new.
	^ catalog add: self itemSellByTheStore->100.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:24:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:24:23'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:24:23'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:24:23'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:24:30'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 19:40:12' prior: 50931479!
defaultCatalog
	
	^ Array with: self itemSellByTheStore! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:26:51' prior: 50931017!
test02CheckoutOfCartWithOneBookReturnsCorrectPrice
	
	| cart cashier priceList |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 100' equals: (cashier doCheckoutOn: cart).
	
	! !

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:26:55'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:28:20' prior: 50931459!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog keys first) > 0) ifTrue: 
		[total _ total + (catalog first value) * (aCart occurrencesOf: (catalog at: catalog keys first))].
	
	catalog keys size =2 ifTrue: [1 = (aCart occurrencesOf: catalog keys second) ifTrue: 
		[total _ total + (catalog at: catalog keys second)]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:28:34'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:28:34'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:34'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:34'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:28:52' prior: 50931526!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog keys first) > 0) ifTrue: 
		[total _ total + (catalog at: catalog keys first) * (aCart occurrencesOf: (catalog at: catalog keys first))].
	
	catalog keys size =2 ifTrue: [1 = (aCart occurrencesOf: catalog keys second) ifTrue: 
		[total _ total + (catalog at: catalog keys second)]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:28:52'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:28:52'!
FAILURE!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:52'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:52'!
ERROR!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:28:57'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:28:57'!
FAILURE!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:58'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:28:58'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:29:17' prior: 50931558!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog keys first) > 0) ifTrue: 
		[total _ total + (catalog at: catalog keys first) * (aCart occurrencesOf: (catalog keys first))].
	
	catalog keys size =2 ifTrue: [1 = (aCart occurrencesOf: catalog keys second) ifTrue: 
		[total _ total + (catalog at: catalog keys second)]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:29:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:29:26'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:29:26'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:29:26'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:30:00' prior: 50931029!
test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ self createCart.
	cart add: 2 of: self itemSellByTheStore.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	! !

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:03'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:30:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:30:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:03'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:03'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:31'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:30:31'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:30:31'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:31'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:31'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:30:31'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:31:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:31:02'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:31:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:31:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:31:02'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:31:02'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/1/2021 20:32:06' prior: 50931135!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: (Array with: self itemSellByTheStore with: 'validBook2').
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:32:10'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/1/2021 20:32:10'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/1/2021 20:32:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/1/2021 20:32:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/1/2021 20:32:10'!
PASSED!

----SNAPSHOT----(1 November 2021 20:33:33) CuisUniversity-4913.image priorSource: 19194378!

----SNAPSHOT----(1 November 2021 21:40:26) CuisUniversity-4913.image priorSource: 19203303!

----STARTUP---- (2 November 2021 15:02:46) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!

!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 15:25:53' prior: 50931605!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:26:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:26:03'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:26:03'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:26:03'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:26:07'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:26:17'!
total
	self shouldBeImplemented.! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/1/2021 20:29:17' prior: 50931764!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog keys first) > 0) ifTrue: 
		[total _ total + (catalog at: catalog keys first) * (aCart occurrencesOf: (catalog keys first))].
	
	catalog keys size =2 ifTrue: [1 = (aCart occurrencesOf: catalog keys second) ifTrue: 
		[total _ total + (catalog at: catalog keys second)]].
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 15:27:09' prior: 50931794!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ 0.
	((aCart occurrencesOf: catalog keys first) > 0) ifTrue: 
		[total _ total + (catalog at: catalog keys first) * (aCart occurrencesOf: (catalog keys first))].
	
	catalog keys size =2 ifTrue: [1 = (aCart occurrencesOf: catalog keys second) ifTrue: 
		[total _ total + (catalog at: catalog keys second)]].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:27:09'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:27:09'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:27:09'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:27:09'!
PASSED!
!Cart methodsFor: 'initialization' stamp: 'MK 11/2/2021 15:31:10' prior: 50930298!
initializeAcceptingItemsOf: aCatalog

	catalog := aCatalog.
	items := Bag new.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:32:04'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:32:04'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:32:04'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:32:04'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:32:04'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:32:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:32:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:32:05'!
PASSED!
!Cart methodsFor: 'adding' stamp: 'MK 11/2/2021 15:33:37' prior: 50930316!
add: aQuantity of: anItem

	self assertIsValidQuantity: aQuantity.
	self assertIsValidItem: anItem.

	items add: anItem withOccurrences: aQuantity.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:33:41'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:33:41'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:33:41'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:33:41'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:33:42'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:33:42'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:33:42'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:33:42'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:35:29' prior: 50931504!
defaultCatalog
	
	^ Dictionary add: self itemSellByTheStore->100.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:36:10' prior: 50931003!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Array new.
	cashier _ Cashier withCatalog: Dictionary new.
	
	self 
		should: [ cashier doCheckoutOn: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:36:44' prior: 50931915!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier withCatalog: Dictionary new.
	
	self 
		should: [ cashier doCheckoutOn: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:37:08' prior: 50931718!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: (Dictionary add: self itemSellByTheStore->100; add: 'validBook2'->50).
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:37:17' prior: 50931943!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: (Dictionary new add: self itemSellByTheStore->100; add: 'validBook2'->50).
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:37:24' prior: 50931909!
defaultCatalog
	
	^ Dictionary new add: self itemSellByTheStore->100.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:37:37' prior: 50931981!
defaultCatalog
	
	^ (Dictionary new) add: self itemSellByTheStore->100.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:37:46' prior: 50931962!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50).
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:37:52'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:38:07'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'MK 11/2/2021 15:38:41' prior: 50930285!
assertIsValidItem: anItem

	catalog at: anItem ifAbsent: [ self error: self invalidItemErrorMessage ]! !

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:38:45'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'MK 11/2/2021 15:40:30' prior: 50932019!
assertIsValidItem: anItem

	catalog at: anItem ifAbsent: [ self error: self invalidItemErrorMessage ]! !
!Cart methodsFor: 'assertions' stamp: 'MK 11/2/2021 15:41:09' prior: 50932029!
assertIsValidItem: anItem

	catalog at: anItem ifAbsent: [ self error: self invalidItemErrorMessage ]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:41:53' prior: 50931987!
defaultCatalog
	
	| dict |
	dict := Dictionary new.
	dict add: self itemSellByTheStore->100.
	^ dict.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:42:04' prior: 50931993!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50; yourself).
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	! !

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:42:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:42:06'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:42:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:42:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:42:06'!
PASSED!
!Cart methodsFor: 'testing' stamp: 'MK 11/2/2021 15:42:49' prior: 50930308!
includes: anItem

	^items includes: anItem ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:43:53'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:43:53'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:43:53'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:43:53'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:43:53'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:43:53'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:43:53'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:43:53'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:44:05'!
ERROR!
!CartTest methodsFor: 'support' stamp: 'MK 11/2/2021 15:44:46' prior: 50930437!
defaultCatalog
	
	| dict |
	dict := Dictionary new.
	dict add: self itemSellByTheStore->100.
	^ dict.! !

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:45:37'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:45:45'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:46:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:46:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:46:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:46:01'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 15:46:26' prior: 50931812!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:46:27'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:46:27'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:46:27'!
ERROR!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:46:28'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:46:30'!
ERROR!

|x sum|!

x _ Bag with: 1 with: 1 with: 1.!

sum _ 0.!

x do: [:a | sum _ sum + a].!

x do: [:a | sum _ sum + a].!

sum!

|x sum|!

x _ Bag with: 1 with: 1 with: 1.!

sum _ 0.!

x do: [:a | sum _ sum + a].!

sum!
!Cart methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:51:59' prior: 50931790!
total
	| total |
	total _ 0.
	items do: [ :aBook | total _ catalog at: aBook ].
	^ total.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:52:01'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:52:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:52:04'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:52:04'!
FAILURE!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:52:04'!
FAILURE!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:52:11'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 15:52:37' prior: 50932202!
total
	| total |
	total _ 0.
	items do: [ :aBook | total _ total + catalog at: aBook ].
	^ total.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:52:38'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:52:38'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:52:38'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:52:38'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:52:38'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:52:39'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:52:39'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:52:39'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 15:52:41'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 15:52:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 15:52:41'!
PASSED!

!testRun: #CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 15:52:41'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'MK 11/2/2021 15:53:55'!
test09TotalOfCartWithOneBookIsItsPrice
	| cart |
	
	cart := self createCart.
	
	cart add: 1 of: self itemSellByTheStore.
	self assert: (cart total) = 100! !

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:53:57'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/2/2021 15:53:57'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'MK 11/2/2021 15:54:42'!
test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo
	| cart |
	
	cart := self createCart.
	
	cart add: 2 of: self itemSellByTheStore.
	self assert: (cart total) = 200! !

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/2/2021 15:54:43'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/2/2021 15:54:43'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'MK 11/2/2021 15:56:23'!
test11TotalOfCartWithTwoDifferentBooksIsCorrect
	| cart |
	
	cart := self createCart.
	
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	self assert: (cart total) = 150! !
!CartTest methodsFor: 'tests' stamp: 'MK 11/2/2021 15:56:48' prior: 50932381!
test11TotalOfCartWithTwoDifferentBooksIsCorrect
	| cart |
	
	cart := Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50; yourself).
	
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	self assert: (cart total) = 150! !

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'MK 11/2/2021 15:56:50'!
PASSED!

!methodRemoval: CashierTest #test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice stamp: 'MK 11/2/2021 16:01:26'!
test04CheckoutOfCartWithTwoDifferentBooksReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50; yourself).
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100; add: 'validBook2'->50.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 150' equals: (cashier doCheckoutOn: cart).
	!

!methodRemoval: CashierTest #test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice stamp: 'MK 11/2/2021 16:01:27'!
test03CheckoutOfCartWithTwoOfSameBookReturnsCombinedPrice
	
	| cart cashier priceList |
	cart _ self createCart.
	cart add: 2 of: self itemSellByTheStore.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 200' equals: (cashier doCheckoutOn: cart).
	!

!methodRemoval: CashierTest #test02CheckoutOfCartWithOneBookReturnsCorrectPrice stamp: 'MK 11/2/2021 16:01:28'!
test02CheckoutOfCartWithOneBookReturnsCorrectPrice
	
	| cart cashier priceList |
	cart _ self createCart.
	cart add: 1 of: self itemSellByTheStore.
	
	priceList _ Dictionary new.
	priceList add: self itemSellByTheStore->100.
	cashier _ Cashier withCatalog: priceList.
	
	self assert: 'Total: 100' equals: (cashier doCheckoutOn: cart).
	
	!

!methodRemoval: Cashier class #withCatalog: stamp: 'MK 11/2/2021 16:07:02'!
withCatalog: aCatalog 

	^self new initializeAcceptingCatalog: aCatalog !

!methodRemoval: Cashier #initializeAcceptingCatalog: stamp: 'MK 11/2/2021 16:08:49'!
initializeAcceptingCatalog: aCatalog 
	
	catalog := aCatalog.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:08:52' prior: 50931929!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:08:55'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:08:55'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:09:46'!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:09:47' prior: 50932499!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart withCard: CreditCard new ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!methodRemoval: Cashier #doCheckoutOn: stamp: 'MK 11/2/2021 16:09:47'!
doCheckoutOn: aCart
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:09:56'!
FAILURE!

Object subclass: #CreditCard
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'MK 11/2/2021 16:10:30'!
Object subclass: #CreditCard
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'MK 11/2/2021 16:10:33'!
Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:10:49'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:10:49'!
PASSED!
!CreditCard class methodsFor: 'no messages' stamp: 'MK 11/2/2021 16:14:56'!
withNumber: aCreditCardNumber andExpirationMonthOfYear: aGregorianMonthOfYear
	^ self initializeWith: aCreditCardNumber and: aGregorianMonthOfYear.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:14:59'!
PASSED!
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:15:42'!
withNumber: aCreditCardNumber andExpiration: aGregorianMonthOfYear
	^ self initializeWith: aCreditCardNumber and: aGregorianMonthOfYear.! !

!methodRemoval: CreditCard class #withNumber:andExpirationMonthOfYear: stamp: 'MK 11/2/2021 16:15:42'!
withNumber: aCreditCardNumber andExpirationMonthOfYear: aGregorianMonthOfYear
	^ self initializeWith: aCreditCardNumber and: aGregorianMonthOfYear.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:17:58' prior: 50932527!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart withCard: (CreditCard withNumber: 123 andExpiration: (GregorianMonthOfYear year: 2020  month: 12) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:18:05' prior: 50932606!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart withCard: (CreditCard withNumber: 123 andExpiration: (GregorianMonthOfYear year: 2020 month: 12) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:18:25' prior: 50932622!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear year: 2020 month: 12) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:19:13' prior: 50932638!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:19:27' prior: 50932655!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current+1) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:19:29'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:20:34' prior: 50932671!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current next: 1) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:20:36'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:22:10' prior: 50932690!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current next: Month) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:22:12'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:24:53' prior: 50932710!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current next: GregorianDay thirtyOneDays) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:24:54'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:25:49' prior: 50932730!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current next: GregorianMonthOfYear current ) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:25:50'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:27:02' prior: 50932750!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration:
						 (GregorianMonthOfYear current next: (TimeUnits month with: 1) ) )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:27:02'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:27:29'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:27:29'!
FAILURE!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'MK 11/2/2021 16:28:03'!
Object subclass: #CreditCard
	instanceVariableNames: 'card'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'MK 11/2/2021 16:28:05'!
Object subclass: #CreditCard
	instanceVariableNames: 'card expiration'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'nil' stamp: 'MK 11/2/2021 16:28:02'!
initializeWith: aCreditCardNumber and: aGregorianMonthOfYear
	card _ aCreditCardNumber.
	expiration _ aGregorianMonthOfYear.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:28:06'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:28:06'!
FAILURE!
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:28:25' prior: 50932590!
withNumber: aCreditCardNumber andExpiration: aGregorianMonthOfYear
	^ self new initializeWith: aCreditCardNumber and: aGregorianMonthOfYear.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:28:26'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:29:30' prior: 50932771!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:30:05' prior: 50932836!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:30:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:30:06'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:31:05'!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:31:36' prior: 50932878!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		assert: 'Total: 100' equals: (cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:31:38'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:31:38'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:31:38'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:32:05' prior: 50932897!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 'Total: 100' equals: (cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:33:34' prior: 50932922!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		('Total: ', cart total asString) 
		equals: (cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:34:14' prior: 50932938!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		('Total: 100') 
		equals: (cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:34:15'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:15'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:34:25' prior: 50932954!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		('Total: 100') 
		equals: (cashier doCheckoutOn: cart 
		withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:34:27' prior: 50932980!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		('Total: 100') 
		equals: (cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:34:28'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:28'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:34:37' prior: 50932996!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100'
		equals: (cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:34:45' prior: 50933021!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:45'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:34:45'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:34:45'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:35:30'!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:37:14' prior: 50933062!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:37:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:37:15'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:37:15'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:37:15'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:38:54' prior: 50933078!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
	raise: Error
	.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:39:10' prior: 50933107!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
	raise: Error
	withExceptionDo: [
		
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:39:49' prior: 50933123!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier new.
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:39:54'!
FAILURE!
!Cashier class methodsFor: 'errors' stamp: 'MK 11/2/2021 16:40:21'!
expiredCreditCardErrorDescription
	^ 'Credit card has already expired'! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:40:22'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:40:22'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:40:22'!
FAILURE!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:40:22'!
FAILURE!
!Cashier class methodsFor: 'errors' stamp: 'MK 11/2/2021 16:40:40' prior: 50933161!
expiredCreditCardErrorDescription
	^ 'Credit card has already expired'! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:40:47'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:41:42' prior: 50932518!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertCreditCardIsNotExpired.
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:41:44'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:41:44'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:41:44'!
FAILURE!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:41:47'!
ERROR!
!Cashier methodsFor: 'assertions' stamp: 'MK 11/2/2021 16:41:55'!
assertCreditCardIsNotExpired
	self shouldBeImplemented.! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:42:29' prior: 50933189!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: aCreditCard .
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:42:36'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:42:36'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:42:37'!
FAILURE!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:43:53' prior: 50933217!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	aCart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: aCreditCard.
	
	total _ aCart total.
	
	^ 'Total: ', total asString.
	! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/2/2021 16:44:20'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:44:18'!
initializeWith: aDate
	
	date _ aDate.! !
!Cashier class methodsFor: 'errors' stamp: 'MK 11/2/2021 16:45:12'!
withDate: aDate
	^ self basicNew initializeWith: aDate.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:46:44' prior: 50933139!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier withDate: (GregorianDateTime now).
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:46:46'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:46:56' prior: 50933037!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ Cashier withDate: (GregorianDateTime now).
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:47:01' prior: 50932854!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ Cashier withDate: (GregorianDateTime now).
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:47:04'!
FAILURE!

!methodRemoval: Cashier #assertCreditCardIsNotExpired stamp: 'MK 11/2/2021 16:47:21'!
assertCreditCardIsNotExpired
	self shouldBeImplemented.!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/2/2021 16:48:29'!
assertIsNotExpired: aCreditCard

	date monthOfYear > aCreditCard expirationDate ifTrue: [^ self error: Cashier expiredCreditCardErrorDescription ].! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'MK 11/2/2021 16:48:45'!
expirationDate
	^ expiration ! !

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:48:55'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/2/2021 16:48:55'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/2/2021 16:48:55'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:48:55'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:50:31'!
createCashier

	^ Cashier withDate: (GregorianDateTime now)! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:50:32' prior: 50933263!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier.
	nonExpiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:50:32' prior: 50933286!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:50:32' prior: 50933303!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ self createCashier.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:51:05' prior: 50933359!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/2/2021 16:51:18'!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!methodRemoval: CashierTest #test03CheckoutWithExpiredCartThrowsError stamp: 'MK 11/2/2021 16:51:18'!
test03CheckoutWithExpiredCartThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].!

----SNAPSHOT----(2 November 2021 16:51:25) CuisUniversity-4913.image priorSource: 19203396!

----STARTUP---- (2 November 2021 16:55:14) as C:\Users\ferra\Desktop\CUIS SmallTalk\windows64\CuisUniversity-4913.image!


----End fileIn of D:\Apuntes\Inge 1\Repos\Repo de entregas\20-TusLibros\Iteracion-2\TusLibros.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 16:55:39'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 16:55:41'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 16:55:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 16:55:41'!
PASSED!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'AF 11/2/2021 16:57:24'!
Object subclass: #CreditCard
	instanceVariableNames: 'number expiration'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 16:57:24' prior: 50915212!
initializeWith: aCreditCardNumber and: aGregorianMonthOfYear
	number _ aCreditCardNumber.
	expiration _ aGregorianMonthOfYear.! !
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 17:13:28'!
withCart: withCart withDate: aDate
	^ self basicNew initializeWith: aDate.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:13:28' prior: 50915045!
createCashier

	^ Cashier withCart: aCart withDate: (GregorianDateTime now)! !

!methodRemoval: Cashier class #withDate: stamp: 'AF 11/2/2021 17:13:28'!
withDate: aDate
	^ self basicNew initializeWith: aDate.!
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 17:13:50' prior: 50915298!
withCart: aCart withDate: aDate
	^ self basicNew initializeWith: aDate.! !
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 17:14:33'!
withCart: aCart andCreditCard: aCreditCard withDate: aDate
	^ self basicNew initializeWith: aDate.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:14:33' prior: 50915304!
createCashier

	^ Cashier withCart: aCart andCreditCard: aCreditCard withDate: (GregorianDateTime now)! !

!methodRemoval: Cashier class #withCart:withDate: stamp: 'AF 11/2/2021 17:14:33'!
withCart: aCart withDate: aDate
	^ self basicNew initializeWith: aDate.!
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 17:17:07'!
withCart: aCart andCreditCard: aCreditCard onDate: aDate
	^ self basicNew initializeWith: aDate.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:17:07' prior: 50915326!
createCashier

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)! !

!methodRemoval: Cashier class #withCart:andCreditCard:withDate: stamp: 'AF 11/2/2021 17:17:07'!
withCart: aCart andCreditCard: aCreditCard withDate: aDate
	^ self basicNew initializeWith: aDate.!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:18:16'!
initializeWith: aCart initializeWith: aDate
	
	date _ aDate.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:18:16' prior: 50915337!
withCart: aCart andCreditCard: aCreditCard onDate: aDate
	^ self basicNew initializeWith: aCart initializeWith: aDate.! !

!methodRemoval: Cashier #initializeWith: stamp: 'AF 11/2/2021 17:18:16'!
initializeWith: aDate
	
	date _ aDate.!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:18:48'!
initializeWith: aCart and: aCreditCard initializeWith: aDate
	
	date _ aDate.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:18:48' prior: 50915362!
withCart: aCart andCreditCard: aCreditCard onDate: aDate
	^ self basicNew initializeWith: aCart and: aCreditCard initializeWith: aDate.! !

!methodRemoval: Cashier #initializeWith:initializeWith: stamp: 'AF 11/2/2021 17:18:48'!
initializeWith: aCart initializeWith: aDate
	
	date _ aDate.!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:19:10'!
initializeWith: aCart and: aCreditCard on: aDate
	
	date _ aDate.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:19:10' prior: 50915378!
withCart: aCart andCreditCard: aCreditCard onDate: aDate
	^ self basicNew initializeWith: aCart and: aCreditCard on: aDate.! !

!methodRemoval: Cashier #initializeWith:and:initializeWith: stamp: 'AF 11/2/2021 17:19:10'!
initializeWith: aCart and: aCreditCard initializeWith: aDate
	
	date _ aDate.!
!CashierTest methodsFor: 'supporting' stamp: 'AF 11/2/2021 17:19:50'!
createCashier: aCart

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:19:50' prior: 50914988!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ self createCashier: cart.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:19:50' prior: 50915021!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier: cart.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:19:50' prior: 50915006!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier: cart.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!methodRemoval: CashierTest #createCashier stamp: 'AF 11/2/2021 17:19:50'!
createCashier

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)!
!CashierTest methodsFor: 'supporting' stamp: 'AF 11/2/2021 17:21:12'!
createCashier: aCart and: aCreditCard 

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:12' prior: 50915415!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ self createCashier: cart and: creditCard.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:13' prior: 50915454!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier: cart and: creditCard.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:13' prior: 50915434!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashier: cart and: creditCard.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!methodRemoval: CashierTest #createCashier: stamp: 'AF 11/2/2021 17:21:13'!
createCashier: aCart

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)!
!CashierTest methodsFor: 'supporting' stamp: 'AF 11/2/2021 17:21:30'!
createCashierFor: aCart and: aCreditCard 

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:30' prior: 50915520!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashierFor: cart and: creditCard.
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	self should: 
		[cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: expiredDate )]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:30' prior: 50915483!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate |
	cart _ Cart acceptingItemsOf: Dictionary new.
	cashier _ self createCashierFor: cart and: creditCard.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:21:30' prior: 50915503!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate |
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	cashier _ self createCashierFor: cart and: creditCard.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: (CreditCard withNumber: 123 andExpiration: nonExpiredDate )).! !

!methodRemoval: CashierTest #createCashier:and: stamp: 'AF 11/2/2021 17:21:30'!
createCashier: aCart and: aCreditCard 

	^ Cashier withCart: aCart andCreditCard: aCreditCard onDate: (GregorianDateTime now)!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:22:43' prior: 50915573!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	cashier _ self createCashierFor: cart and: creditCard.	
	self 
		should: [ cashier doCheckoutOn: cart 
					withCard: creditCard]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:22:43'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:22:43'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:22:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:22:43'!
PASSED!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 11/2/2021 17:25:33'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 11/2/2021 17:25:35'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:25:32' prior: 50915390!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:26:05' prior: 50915161!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:26:06'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:26:06'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:26:06'!
FAILURE!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:26:18'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:26:40' prior: 50915671!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:28:47' prior: 50915593!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).

	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			withCard: creditCard ).! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:29:47' prior: 50915553!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: 
		[cashier doCheckoutOn: cart 
			withCard: creditCard]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:29:47'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:29:47'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:29:47'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:29:48'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:30:09'!
doCheckoutOn: aCart  
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:09' prior: 50915723!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: 
		[cashier doCheckoutOn: cart 
			]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:09' prior: 50915616!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	cashier _ self createCashierFor: cart and: creditCard.	
	self 
		should: [ cashier doCheckoutOn: cart 
					]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:09' prior: 50915705!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).

	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn: cart 
			).! !

!methodRemoval: Cashier #doCheckoutOn:withCard: stamp: 'AF 11/2/2021 17:30:09'!
doCheckoutOn: aCart withCard: aCreditCard 
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:30:17'!
doCheckoutOn  
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:17' prior: 50915767!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: 
		[cashier doCheckoutOn]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:17' prior: 50915788!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	cashier _ self createCashierFor: cart and: creditCard.	
	self 
		should: [ cashier doCheckoutOn]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:17' prior: 50915808!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).

	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 
		'Total: 100' equals: 
		(cashier doCheckoutOn).! !

!methodRemoval: Cashier #doCheckoutOn: stamp: 'AF 11/2/2021 17:30:17'!
doCheckoutOn: aCart  
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:30:31'!
checkout  
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:31' prior: 50915884!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).

	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 
		'Total: 100' equals: 
		(cashier checkout).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:31' prior: 50915844!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: 
		[cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 17:30:31' prior: 50915864!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	cashier _ self createCashierFor: cart and: creditCard.	
	self 
		should: [ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!methodRemoval: Cashier #doCheckoutOn stamp: 'AF 11/2/2021 17:30:31'!
doCheckoutOn  
	
	| total |
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:30:33'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:30:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:30:33'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:30:48' prior: 50915919!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier nonExpiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).

	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 'Total: 100' equals: (cashier checkout).! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:31:05' prior: 50915936!
test03CheckoutWithExpiredCardThrowsError
	
	| cart cashier expiredDate creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:31:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:31:06'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:31:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:31:06'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:31:21' prior: 50915956!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	cashier _ self createCashierFor: cart and: creditCard.	
	self should: [ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:31:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:31:21'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:31:21'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:31:21'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:31:54' prior: 50916043!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier nonExpiredDate creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:41:05'!
createNonExpiredCreditCard

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:42:08' prior: 50916075!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCard .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:42:12'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:42:12'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:42:12'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:42:12'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:42:25' prior: 50915994!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	creditCard _ self createNonExpiredCreditCard .

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 'Total: 100' equals: (cashier checkout).! !

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:42:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:42:29'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:42:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:42:29'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 17:46:51' prior: 50915909!
checkout  

	| total |
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	^ 'Total: ', total asString.
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 17:50:40' prior: 50916010!
test03CheckoutWithExpiredCardThrowsError

	| cart cashier expiredDate creditCard|
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:50:41'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 17:50:41'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 17:50:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 17:50:41'!
PASSED!
!Cart class methodsFor: 'instance creation' stamp: 'AF 11/2/2021 18:00:52' prior: 50915138!
acceptingItemsOf: aCatalog


	aCatalog allSatisfy: [:aValue | aValue positive].

	^self new initializeAcceptingItemsOf: aCatalog ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 18:00:53'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 18:00:53'!
PASSED!
!Cart class methodsFor: 'instance creation' stamp: 'AF 11/2/2021 18:01:12' prior: 50916199!
acceptingItemsOf: aCatalog


	^self new initializeAcceptingItemsOf: aCatalog ! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:02:37'!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart |
	
	cart := Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50; yourself).
	
	
	cart add: 1 of: self itemSellByTheStore.
	
	cart add: 1 of: 'validBook2'.
	
	self assert: (cart total) = 150! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:10:50' prior: 50916247!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart |
	
	cart := Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50).
	
	
	cart add: 1 of: self itemSellByTheStore.
	
	cart add: 1 of: 'validBook2'.
	
	self assert: (cart total) = 150! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:10:50'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:12:30' prior: 50916259!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	cart := Cart acceptingItemsOf: catalog.
	
	
	cart add: 1 of: self itemSellByTheStore.
	
	cart add: 1 of: 'validBook2'.
	
	self assert: (cart total) = 150! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:13:30' prior: 50916275!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart := Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | ]
	
	
! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:13:44' prior: 50916288!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | ]
	
	
! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:15:05' prior: 50916300!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart _ Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | self assert: anError messageText = Cart class invalidItemErrorMessage.]
	
	
! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:15:58' prior: 50916311!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart _ Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | self assert: anError messageText = Cart invalidItemErrorMessage.]
	
	
! !
!Cart class methodsFor: 'nil' stamp: 'AF 11/2/2021 18:16:27'!
invalidItemErrorMessage
	
	^'Item is not in catalog'! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 18:16:41'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'! !

!methodRemoval: Cart #invalidItemErrorMessage stamp: 'AF 11/2/2021 18:17:09'!
invalidItemErrorMessage
	
	^'Item is not in catalog'!

!methodRemoval: Cart #invalidQuantityErrorMessage stamp: 'AF 11/2/2021 18:17:09'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'!
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:17:23' prior: 50914860!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:17:39' prior: 50914881!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: 0 of: self itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:17:49' prior: 50914894!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := self createCart.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:18:09'!
FAILURE!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:18:09'!
FAILURE!
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:18:47' prior: 50916325!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart _ Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | self assert: anError messageText = Cart invalidItemErrorMessage.
							   self assert: cart isNil.]
	
	
! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:18:48'!
FAILURE!
!Cart class methodsFor: 'instance creation' stamp: 'AF 11/2/2021 18:20:02' prior: 50916242!
acceptingItemsOf: aCatalog

	aCatalog allSatisfy: [:aPriceTag | aPriceTag positive].

	^self new initializeAcceptingItemsOf: aCatalog ! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:20:03'!
FAILURE!
!Cart class methodsFor: 'instance creation' stamp: 'AF 11/2/2021 18:21:39' prior: 50916423!
acceptingItemsOf: aCatalog

	(aCatalog allSatisfy: [:aPriceTag | aPriceTag positive]) ifFalse: [self error: self class invalidPriceTagErrorMessage].

	^self new initializeAcceptingItemsOf: aCatalog ! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:21:57'!
FAILURE!
!Cart class methodsFor: 'instance creation' stamp: 'AF 11/2/2021 18:22:54' prior: 50916434!
acceptingItemsOf: aCatalog

	(aCatalog allSatisfy: [:aPriceTag | aPriceTag positive]) ifFalse: [self error: self invalidPriceTagErrorMessage].

	^self new initializeAcceptingItemsOf: aCatalog ! !
!Cart class methodsFor: 'error messages' stamp: 'AF 11/2/2021 18:23:15'!
invalidPriceTagErrorMessage
	
	^'Prices must be positive'! !
!Cart class methodsFor: 'error messages' stamp: 'AF 11/2/2021 18:23:22' prior: 50916456!
invalidPriceTagErrorMessage
	
	^'All prices must be positive'! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:23:41' prior: 50916404!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart _ Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | self assert: anError messageText = Cart invalidPriceTagMessage.
							   self assert: cart isNil.]
	
	
! !
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:23:49' prior: 50916466!
test12CannotCreateCartWithCatalogWithInvalidPrices

	| cart catalog |
	
	catalog _ (Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->-50; yourself.
	
	
	
	self should: [cart _ Cart acceptingItemsOf: catalog.]
		raise: Error
		withExceptionDo:[:anError | self assert: anError messageText = Cart invalidPriceTagErrorMessage.
							   self assert: cart isNil.]
	
	
! !

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:23:53'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:23:53'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 18:23:53'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 18:23:53'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:23:53'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:25:23' prior: 50916357!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := self createCart.
	
	self 
	
		should: [ cart add: self itemNotSellByTheStore ]
		
		raise: Error - MessageNotUnderstood
		
		withExceptionDo: [ :anError |
			
			self assert: anError messageText = Cart invalidItemErrorMessage.
			
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:26:19'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:26:59'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:26:59'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'AF 11/2/2021 18:27:43' prior: 50915084!
assertIsValidItem: anItem

	catalog at: anItem ifAbsent: [ self error: self class invalidItemErrorMessage ]! !

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:27:44'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:27:47'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:27:47'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:27:47'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'AF 11/2/2021 18:27:57' prior: 50915090!
assertIsValidQuantity: aQuantity

	aQuantity strictlyPositive ifFalse: [ self error: self class invalidQuantityErrorMessage ]! !

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:27:58'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 18:28:00'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 18:28:03'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 18:28:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 18:28:03'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:29:32' prior: 50916103!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard|
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCard .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
		]
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:30:36' prior: 50916680!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard ticket|
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCard .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [ticket _ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
			self assert: ticket isNil.
		]
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 18:30:37'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 18:30:37'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 18:30:37'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 18:30:37'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:31:12' prior: 50916166!
test03CheckoutWithExpiredCardThrowsError

	| cart cashier expiredDate creditCard ticket|
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [ticket _ cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier expiredCreditCardErrorDescription.	
		self assert: ticket isNil.
	].! !

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 18:31:13'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 18:31:13'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 18:31:13'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 18:31:13'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 18:58:06'!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard ticket|
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCard .
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [ticket _ cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier notEnoughFundsInCreditCardErrorMessage.	
		self assert: ticket isNil.
	].! !

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 18:58:12'!
FAILURE!

!classDefinition: #MPInterface category: 'TusLibros' stamp: 'AF 11/2/2021 19:05:12'!
Object subclass: #MPInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:05:02' prior: 50916157!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ MPInterface charge: total on: creditCard.
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:06:59' prior: 50916787!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ MPInterface charge: total on: creditCard.
	
	xxxx = 'OK' ifFalse: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 19:08:10'!
notEnoughFundsInCreditCardErrorMessage

	^ 'Not enough funds'! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:08:25'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:08:25'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:08:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:08:25'!
FAILURE!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:08:50'!
FAILURE!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:08:50'!
FAILURE!
!MPInterface class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:09:38'!
charge: aSmallInteger on: aCreditCard 
	self shouldBeImplemented.! !
!MPInterface class methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:12:11' prior: 50916837!
charge: aTransactionAmount on: aCreditCard 
	
	aCreditCard number = 123 ifFalse: [^'OK']
	
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:13:38' prior: 50916798!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ MPInterface charge: total on: creditCard.
	
	xxxx = 'OK' ifFalse: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:13:57'!
number
	^ number copy ! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:14:02' prior: 50915208!
expirationDate
	^ expiration copy! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:14:11'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:14:11'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:14:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:14:11'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:14:11'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 19:15:09' prior: 50916759!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard ticket|
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 456 .
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [ticket _ cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier notEnoughFundsInCreditCardErrorMessage.	
		self assert: ticket isNil.
	].! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 19:15:42'!
createNonExpiredCreditCard: aNumber

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:15:42' prior: 50916131!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	creditCard _ self createNonExpiredCreditCard: 123 .

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 'Total: 100' equals: (cashier checkout).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:15:42' prior: 50916695!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard ticket|
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCard: 123 .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [ticket _ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
			self assert: ticket isNil.
		]
	! !

!methodRemoval: CashierTest #createNonExpiredCreditCard stamp: 'AF 11/2/2021 19:15:42'!
createNonExpiredCreditCard

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: 123 andExpiration: nonExpiredDate.
	!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:15:42' prior: 50916906!
createNonExpiredCreditCard: aNumber

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: aNumber andExpiration: nonExpiredDate.
	! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 19:16:09'!
createNonExpiredCreditCardWithNumber: aNumber

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: aNumber andExpiration: nonExpiredDate.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:16:09' prior: 50916916!
test02ValidCheckoutReturnsCorrectTicket
	
	| cart cashier creditCard|
	cart _ self createCart.
	cart add: self itemSellByTheStore.
	creditCard _ self createNonExpiredCreditCardWithNumber: 123 .

	cashier _ self createCashierFor: cart and: creditCard.


	self assert: 'Total: 100' equals: (cashier checkout).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:16:09' prior: 50916929!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard ticket|
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 123 .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self should: [ticket _ cashier checkout]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText  = Cashier emptyCartErrorDescription.	
			self assert: ticket isNil.
		]
	! !

!methodRemoval: CashierTest #createNonExpiredCreditCard: stamp: 'AF 11/2/2021 19:16:09'!
createNonExpiredCreditCard: aNumber

	|nonExpiredDate|
	
	nonExpiredDate _ GregorianMonthOfYear current next: (TimeUnits month with: 1).
	
	^CreditCard withNumber: aNumber andExpiration: nonExpiredDate.
	!
!MPInterface methodsFor: 'nil' stamp: 'AF 11/2/2021 19:17:22'!
charge: aTransactionAmount on: aCreditCard 
	
	aCreditCard number = 123 ifFalse: [^'OK']
	
	! !

!methodRemoval: MPInterface class #charge:on: stamp: 'AF 11/2/2021 19:17:26'!
charge: aTransactionAmount on: aCreditCard 
	
	aCreditCard number = 123 ifFalse: [^'OK']
	
	!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 11/2/2021 19:17:57'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:17:55' prior: 50916849!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ merchantProcessor charge: total on: creditCard.
	
	xxxx = 'OK' ifFalse: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:18:13' prior: 50915664!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPInterface new.! !

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:18:29'!
FAILURE!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:18:29'!
FAILURE!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:18:38' prior: 50917013!
charge: aTransactionAmount on: aCreditCard 
	
	aCreditCard number = 456 ifFalse: [^'OK']
	
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:18:42'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:18:42'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:18:42'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:18:42'!
PASSED!

----SNAPSHOT----(2 November 2021 19:18:51) CuisUniversity-4913.image priorSource: 18661997!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:20:29'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 19:26:46'!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard ticket|
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 789 .
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self should: [ticket _ cashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = Cashier robbedCardErrorMessage.	
		self assert: ticket isNil.
	].! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:27:40'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:27:40'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:27:40'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:27:40'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:27:40'!
FAILURE!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:27:40'!
FAILURE!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:27:54'!
FAILURE!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:29:31' prior: 50917062!
charge: aTransactionAmount on: aCreditCard 
	
	aCreditCard number = 789 ifTrue: [^'robbed'].
	aCreditCard number = 456 ifTrue: [^'noFunds'].
	
	^'OK'
	
	! !

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:29:47'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:30:57' prior: 50917032!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ merchantProcessor charge: total on: creditCard.
	
	xxxx = 'robbed' ifTrue: [self error: self class robbedCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:31:22' prior: 50917140!
checkout  

	| total xxxx|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	xxxx _ merchantProcessor charge: total on: creditCard.
	
	xxxx = 'robbed' ifTrue: [self error: self class robbedCardErrorMessage].
	xxxx = 'noFunds' ifTrue: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:31:23'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:31:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:31:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:31:23'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:31:23'!
ERROR!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:31:23'!
ERROR!
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 19:31:32'!
robbedCardErrorMessage
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'errors' stamp: 'AF 11/2/2021 19:32:07' prior: 50917190!
robbedCardErrorMessage
	 
	^'atrapen al ladrn'! !

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:32:09'!
FAILURE!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:33:20'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:33:20'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:33:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:33:20'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:33:20'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:33:23'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:33:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:33:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:33:23'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:33:23'!
PASSED!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:39:28' prior: 50917129!
charge: aTransactionAmount on: aCreditCard 
	
	|invalidCards|
	
	invalidCards _ Dictionary new; add: 789 -> 'robbed'; add: 456 -> 'noFunds';yourself.
	
	^invalidCards at: aCreditCard number ifAbsent: [^'OK'].
	
	
	
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:39:32'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:39:32'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:39:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:39:32'!
FAILURE!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:39:32'!
FAILURE!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:40:47' prior: 50917237!
charge: aTransactionAmount on: aCreditCard 
	
	|invalidCards result|
	
	invalidCards _ Dictionary new; add: 789 -> 'robbed'; add: 456 -> 'noFunds';yourself.
	
	result _ invalidCards at: aCreditCard number ifAbsent: ['OK'].
	
	^result.
	
	
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:40:50'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:40:50'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:40:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:40:50'!
FAILURE!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:40:50'!
FAILURE!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:40:51'!
ERROR!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:41:06'!
ERROR!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:41:35' prior: 50917264!
charge: aTransactionAmount on: aCreditCard 
	
	|invalidCards result|
	
	invalidCards _ (Dictionary new) add: 789 -> 'robbed'; add: 456 -> 'noFunds';yourself.
	
	result _ invalidCards at: aCreditCard number ifAbsent: ['OK'].
	
	^result.
	
	
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:41:38'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:41:38'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:41:38'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:41:38'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:41:38'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:41:54'!
PASSED!

!classDefinition: #MPInterface category: 'TusLibros' stamp: 'AF 11/2/2021 19:45:29'!
Object subclass: #MPInterface
	instanceVariableNames: 'invalidCreditCards'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:45:28' prior: 50917298!
charge: aTransactionAmount on: aCreditCard 
	
	|result|
		
	result _ invalidCreditCards at: aCreditCard number ifAbsent: ['OK'].
	
	^result.
	
	
	! !
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:46:00' overrides: 16896425!
initialize

	invalidCreditCards _ (Dictionary new) add: 789 -> 'robbed'; add: 456 -> 'noFunds';yourself.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 19:46:07'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:46:08'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:46:08'!
PASSED!
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:46:24' prior: 50917389!
charge: aTransactionAmount on: aCreditCard 
	
	|result|
		
	^result _ invalidCreditCards at: aCreditCard number ifAbsent: ['OK'].
	

	
	
	! !
!MPInterface methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 19:46:33' prior: 50917460!
charge: aTransactionAmount on: aCreditCard 
	
	|result|
		
	result _ invalidCreditCards at: aCreditCard number ifAbsent: ['OK'].
	
	^result.
	
	
	! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:46:39'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:46:39'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:50:21' prior: 50917154!
checkout  

	| total transactionStatus|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	transactionStatus = 'robbed' ifTrue: [self error: self class robbedCardErrorMessage].
	transactionStatus = 'noFunds' ifTrue: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:52:26' prior: 50917532!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	yyyy _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.
	
	transactionStatus = 'robbed' ifTrue: [self error: self class robbedCardErrorMessage].
	transactionStatus = 'noFunds' ifTrue: [self error: self class notEnoughFundsInCreditCardErrorMessage].
	
	^ 'Total: ', total asString.
	! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:53:38' prior: 50917550!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	yyyy _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.
	
	(yyyy at: transactionStatus ifAbsent:[^'Total: ', total asString]) value
	! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:53:39'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:53:39'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:53:39'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:53:39'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:53:39'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:54:49' prior: 50917574!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	yyyy _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.
	
	(yyyy at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:54:49'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:54:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:54:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:54:49'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:54:49'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:54:59' prior: 50917611!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	yyyy _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.
	
	(yyyy at: transactionStatus) value.
	
	^'Total: ', total asString! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:54:59'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:54:59'!
ERROR!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:54:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:54:59'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:54:59'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:54:59'!
ERROR!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:55:27' prior: 50917648!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.
	
	yyyy _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.
	
	(yyyy at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:55:31'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:55:31'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:55:31'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:55:31'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:55:31'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:55:41' prior: 50917688!
checkout  

	| total transactionStatus yyyy|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.

	
	(yyyy at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 11/2/2021 19:57:56'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard merchantProcessor xxxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:57:55' prior: 50917046!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPInterface new.
	
	xxxx _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:58:05' prior: 50917725!
checkout  

	| total transactionStatus|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.

	
	(xxxx at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 19:58:06'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 19:58:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 19:58:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 19:58:06'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 19:58:06'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:58:10' prior: 50917761!
checkout  

	| total transactionStatus|
	
	cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription].
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.

	(xxxx at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:58:39'!
assertCartIsNotEmpty

	^ cart isEmpty ifTrue: [self error: Cashier emptyCartErrorDescription]! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:58:39' prior: 50917791!
checkout  

	| total transactionStatus|
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	transactionStatus _ merchantProcessor charge: total on: creditCard.

	(xxxx at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 19:59:39' prior: 50917810!
checkout  

	| total transactionStatus|
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	merchantProcessor charge: total on: creditCard.

	(xxxx at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:01:15'!
charge: total

	^ merchantProcessor charge: total on: creditCard! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:01:15' prior: 50917822!
checkout  

	| total transactionStatus|
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	self charge: total.

	(xxxx at: transactionStatus ifAbsent:[]) value.
	
	^'Total: ', total asString! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:01:29' prior: 50917838!
checkout  

	| total |
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	total _ cart total.
	
	self charge: total.
	
	^'Total: ', total asString! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:02:36' prior: 50917833!
charge: aTransactionAmount

	| transactionStatus |
	transactionStatus _ merchantProcessor charge: aTransactionAmount on: creditCard.
	
	(xxxx at: transactionStatus ifAbsent:[]) value.! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:02:42' prior: 50917858!
charge: aTransactionAmount

	| transactionStatus |
	
	transactionStatus _ merchantProcessor charge: aTransactionAmount on: creditCard.
	
	(xxxx at: transactionStatus ifAbsent:[]) value.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:02:43'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:02:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:02:43'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:02:43'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:02:44'!
PASSED!
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:03:45'!
checkTransactionStatus: transactionStatus

	^ (xxxx at: transactionStatus ifAbsent:[]) value! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:03:45' prior: 50917867!
charge: aTransactionAmount

	| transactionStatus |
	
	transactionStatus _ merchantProcessor charge: aTransactionAmount on: creditCard.
	
	self checkTransactionStatus: transactionStatus.! !
!Cashier methodsFor: 'transaction operations' stamp: 'AF 11/2/2021 20:08:46' prior: 50917849!
checkout  

	| totalToPay |
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	totalToPay _ cart total.
	
	self charge: totalToPay.
	
	^'Total: ', totalToPay asString! !
!Cashier methodsFor: 'transaction operations' stamp: 'AF 11/2/2021 20:09:14' prior: 50917907!
checkout  

	| finalPrice |
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	finalPrice _ cart total.
	
	self charge: finalPrice.
	
	^'Total: ', finalPrice asString! !
!Cart methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:09:55'!
priceSum
	| total |
	total _ 0.
	items do: [ :aBook | total _ total + catalog at: aBook ].
	^ total.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:09:55' prior: 50914947!
test11TotalOfCartWithTwoDifferentBooksIsCorrect
	| cart |
	
	cart := Cart acceptingItemsOf: ((Dictionary new) add: self itemSellByTheStore->100; add: 'validBook2'->50; yourself).
	
	cart add: 1 of: self itemSellByTheStore.
	cart add: 1 of: 'validBook2'.
	self assert: (cart priceSum) = 150! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:09:55' prior: 50914939!
test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo
	| cart |
	
	cart := self createCart.
	
	cart add: 2 of: self itemSellByTheStore.
	self assert: (cart priceSum) = 200! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:09:55' prior: 50917916!
checkout  

	| finalPrice |
	
	self assertCartIsNotEmpty.
	
	self assertIsNotExpired: creditCard .
	
	finalPrice _ cart priceSum.
	
	self charge: finalPrice.
	
	^'Total: ', finalPrice asString! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:09:55' prior: 50914931!
test09TotalOfCartWithOneBookIsItsPrice
	| cart |
	
	cart := self createCart.
	
	cart add: 1 of: self itemSellByTheStore.
	self assert: (cart priceSum) = 100! !

!methodRemoval: Cart #total stamp: 'AF 11/2/2021 20:09:55'!
total
	| total |
	total _ 0.
	items do: [ :aBook | total _ total + catalog at: aBook ].
	^ total.!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:10:06'!
PASSED!

----SNAPSHOT----(2 November 2021 20:11:49) CuisUniversity-4913.image priorSource: 18733775!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:18:59'!
assertCheckoutFromCashier: aCashier ThrowsErrorWithMessage: aMessage
	
	|ticket|

	self should: [ticket _ aCashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = aMessage.	
		self assert: ticket isNil.
	].! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:19:44'!
assertCheckoutFromCashier: aCashier ThrowsErrorWithMessageAndExitsCleanly: aMessage
	
	|ticket|

	self should: [ticket _ aCashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = aMessage.	
		self assert: ticket isNil.
	].! !
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:19:57' prior: 50918035!
assertCheckoutFromCashier: aCashier ThrowsErrorWithMessage: aMessage
	
	|ticket|

	self should: [ticket _ aCashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = aMessage.	
		self assert: ticket isNil.
	].! !

!methodRemoval: CashierTest #assertCheckoutFromCashier:ThrowsErrorWithMessageAndExitsCleanly: stamp: 'AF 11/2/2021 20:20:08'!
assertCheckoutFromCashier: aCashier ThrowsErrorWithMessageAndExitsCleanly: aMessage
	
	|ticket|

	self should: [ticket _ aCashier checkout]
	raise: Error
	withExceptionDo: [:anError |
		self assert: anError messageText  = aMessage.	
		self assert: ticket isNil.
	].!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:20:48' prior: 50917088!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 789 .
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:53'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:55'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:56'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:20:58'!
PASSED!

----SNAPSHOT----(2 November 2021 20:21:15) CuisUniversity-4913.image priorSource: 18764203!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:21:30' prior: 50916888!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 456 .
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier notEnoughFundsInCreditCardErrorMessage.	
! !

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:21:33'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:21:33'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:21:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:21:33'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:21:33'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:21:33'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:21:43' prior: 50916725!
test03CheckoutWithExpiredCardThrowsError

	| cart cashier expiredDate creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	expiredDate _ GregorianMonthOfYear current previous: (TimeUnits month with: 1).
	
	creditCard _ CreditCard withNumber: 123 andExpiration: expiredDate.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier expiredCreditCardErrorDescription.	
! !

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:21:45'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:21:45'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:21:45'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:21:45'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:21:45'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:21:45'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'AF 11/2/2021 20:21:58' prior: 50916987!
test01CheckoutOfEmptyCartThrowsError
	
	| cart cashier creditCard |
	cart _ Cart acceptingItemsOf: Dictionary new.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: 123 .
	
	cashier _ self createCashierFor: cart and: creditCard.	
	
	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier emptyCartErrorDescription.	
! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'AF 11/2/2021 20:21:59'!
PASSED!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 11/2/2021 20:24:44'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard merchantProcessor errorMap'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:24:44' prior: 50917747!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
						yourself.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'AF 11/2/2021 20:24:44' prior: 50917892!
checkTransactionStatus: transactionStatus

	^ (errorMap at: transactionStatus ifAbsent:[]) value! !
!Cashier methodsFor: 'initialization' stamp: 'AF 11/2/2021 20:26:08' prior: 50918276!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !

----SNAPSHOT----(2 November 2021 20:26:25) CuisUniversity-4913.image priorSource: 18768185!

----STARTUP---- (4 November 2021 10:45:13) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


!classRemoval: #CreditCard stamp: 'MK 11/4/2021 10:45:19'!
Object subclass: #CreditCard
	instanceVariableNames: 'card expiration'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cashier stamp: 'MK 11/4/2021 10:45:19'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'MK 11/4/2021 10:45:19'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierTest stamp: 'MK 11/4/2021 10:45:20'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'MK 11/4/2021 10:45:20'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of D:\001.Maca\2c2021\inge1\newqa1\TusLibros.st----!
!MPInterface class methodsFor: 'nil' stamp: 'MK 11/4/2021 10:49:55'!
stolenCardNumber

	^ 789.! !
!MPInterface class methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 10:50:09'!
noFundsCardNumber

	^ 456.! !

!classRenamed: #MPInterface as: #MPTestInterface stamp: 'MK 11/4/2021 10:50:19'!
Smalltalk renameClassNamed: #MPInterface as: #MPTestInterface!
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 10:50:19' prior: 50933893!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPTestInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/4/2021 10:50:52' prior: 50933699!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPTestInterface noFundsCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier notEnoughFundsInCreditCardErrorMessage.	
! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/4/2021 10:51:56' prior: 50933714!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPTestInterface stolenCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !
!MPTestInterface class methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 10:52:09'!
robbedCardNumber

	^ 789.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 10:52:09' prior: 50934072!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPTestInterface robbedCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !

!methodRemoval: MPTestInterface class #stolenCardNumber stamp: 'MK 11/4/2021 10:52:09'!
stolenCardNumber

	^ 789.!

----SNAPSHOT----(4 November 2021 11:09:02) CuisUniversity-4913.image priorSource: 19258088!

----SNAPSHOT----(4 November 2021 11:11:08) CuisUniversity-4913.image priorSource: 19278682!

----STARTUP---- (4 November 2021 14:09:40) as D:\001.Maca\2c2021\inge1\newqa1\CuisUniversity-4913.image!


!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:10:10'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:10:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:10:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:10:10'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:10:10'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'MK 11/4/2021 14:10:14'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'MK 11/4/2021 14:10:15'!
PASSED!

!classRenamed: #MPTestInterface as: #MPtInterface stamp: 'MK 11/4/2021 14:19:29'!
Smalltalk renameClassNamed: #MPTestInterface as: #MPtInterface!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:19:30' prior: 50934056!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPtInterface noFundsCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier notEnoughFundsInCreditCardErrorMessage.	
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:19:30' prior: 50934041!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MPtInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:19:30' prior: 50934091!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPtInterface robbedCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !

!classRenamed: #MPtInterface as: #MerchantProcessorInterface stamp: 'MK 11/4/2021 14:20:08'!
Smalltalk renameClassNamed: #MPtInterface as: #MerchantProcessorInterface!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:20:08' prior: 50934180!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MerchantProcessorInterface noFundsCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier notEnoughFundsInCreditCardErrorMessage.	
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:20:08' prior: 50934196!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MerchantProcessorInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:20:08' prior: 50934211!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MerchantProcessorInterface robbedCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !

MerchantProcessorInterface subclass: #MPTestInterface
	instanceVariableNames: 'invalidCreditCards'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

MerchantProcessorInterface subclass: #MPTestInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MPTestInterface category: 'TusLibros' stamp: 'MK 11/4/2021 14:20:52'!
MerchantProcessorInterface subclass: #MPTestInterface
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPTestInterface class methodsFor: 'nil' stamp: 'MK 11/4/2021 14:21:27' overrides: 50934032!
noFundsCardNumber

	^ 456.! !
!MPTestInterface class methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:21:35' overrides: 50934087!
robbedCardNumber

	^ 789.! !

!methodRemoval: MerchantProcessorInterface class #robbedCardNumber stamp: 'MK 11/4/2021 14:21:46'!
robbedCardNumber

	^ 789.!

!methodRemoval: MerchantProcessorInterface class #noFundsCardNumber stamp: 'MK 11/4/2021 14:21:48'!
noFundsCardNumber

	^ 456.!
!CashierTest methodsFor: 'tests' stamp: 'MK 11/4/2021 14:21:57' prior: 50934232!
test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPTestInterface noFundsCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier notEnoughFundsInCreditCardErrorMessage.	
! !
!CashierTest methodsFor: 'tests' stamp: 'MK 11/4/2021 14:22:30' prior: 50934265!
test05CheckoutFailsIfCreditCardIsRobbed

	| cart cashier creditCard |
	
	cart _ self createCart.
	
	cart add: self itemSellByTheStore.
	
	creditCard _ self createNonExpiredCreditCardWithNumber: MPTestInterface robbedCardNumber.
	
	cashier _ self createCashierFor: cart and: creditCard.
	

	self assertCheckoutFromCashier: cashier ThrowsErrorWithMessage: Cashier robbedCardErrorMessage.	
! !
!Cashier methodsFor: 'initialization' stamp: 'MK 11/4/2021 14:43:35'!
initializeWith: aCart and: aCreditCard on: aDate chargingTo: aMPInterface 
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MerchantProcessorInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!Cashier class methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:43:35' prior: 50933933!
withCart: aCart andCreditCard: aCreditCard onDate: aDate
	^ self basicNew initializeWith: aCart and: aCreditCard on: aDate chargingTo: MPTestInterface new.! !

!methodRemoval: Cashier #initializeWith:and:on: stamp: 'MK 11/4/2021 14:43:35'!
initializeWith: aCart and: aCreditCard on: aDate
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ MerchantProcessorInterface new.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.!
!Cashier methodsFor: 'initialization' stamp: 'MK 11/4/2021 14:44:04' prior: 50934347!
initializeWith: aCart and: aCreditCard on: aDate chargingTo: aMPInterface 
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ aMPInterface.
	
	errorMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:44:07'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:44:07'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:44:07'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:44:07'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:44:07'!
PASSED!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/4/2021 14:44:51'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard merchantProcessor errorCodeMap'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:44:51' prior: 50934387!
initializeWith: aCart and: aCreditCard on: aDate chargingTo: aMPInterface 
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ aMPInterface.
	
	errorCodeMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:44:51' prior: 50933887!
checkTransactionStatus: transactionStatus

	^ (errorCodeMap at: transactionStatus ifAbsent:[]) value! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'MK 11/4/2021 14:45:01'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog date cart creditCard merchantProcessor errorMessageMap'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:45:02' prior: 50934428!
initializeWith: aCart and: aCreditCard on: aDate chargingTo: aMPInterface 
	cart _ aCart.
	
	creditCard _ aCreditCard.
	
	date _ aDate.
	
	merchantProcessor  _ aMPInterface.
	
	errorMessageMap _ (Dictionary new) add: 'robbed' -> [self error: self class robbedCardErrorMessage]; 
						      add: 'noFunds' -> [self error: self class notEnoughFundsInCreditCardErrorMessage];
					             	yourself.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'MK 11/4/2021 14:45:02' prior: 50934444!
checkTransactionStatus: transactionStatus

	^ (errorMessageMap at: transactionStatus ifAbsent:[]) value! !

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:45:27'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:45:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:45:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:45:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:45:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:45:29'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:45:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:45:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:45:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:45:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:45:32'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:45:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:45:33'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:45:33'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:45:33'!
PASSED!

----SNAPSHOT----(4 November 2021 14:45:42) CuisUniversity-4913.image priorSource: 19278775!

----SNAPSHOT----(4 November 2021 14:45:55) CuisUniversity-4913.image priorSource: 19292181!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:45:58'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:45:58'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:45:58'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:45:58'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:45:58'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/4/2021 14:46:02'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'MK 11/4/2021 14:46:03'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:46:05'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:46:05'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:46:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:46:06'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:46:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:47:57'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:47:58'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:47:58'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:47:58'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:47:58'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfEmptyCartThrowsError stamp: 'MK 11/4/2021 14:48:01'!
PASSED!

!testRun: #CashierTest #test02ValidCheckoutReturnsCorrectTicket stamp: 'MK 11/4/2021 14:48:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutWithExpiredCardThrowsError stamp: 'MK 11/4/2021 14:48:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutFailsIfCreditCardDoesNotHaveEnoughFunds stamp: 'MK 11/4/2021 14:48:01'!
PASSED!

!testRun: #CashierTest #test05CheckoutFailsIfCreditCardIsRobbed stamp: 'MK 11/4/2021 14:48:01'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'MK 11/4/2021 14:48:04'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'MK 11/4/2021 14:48:04'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'MK 11/4/2021 14:48:04'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'MK 11/4/2021 14:48:04'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'MK 11/4/2021 14:48:04'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test09TotalOfCartWithOneBookIsItsPrice stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test10TotalOfCartWithTwoOfSameBookIsItsPriceMultipliedByTwo stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test11TotalOfCartWithTwoDifferentBooksIsCorrect stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

!testRun: #CartTest #test12CannotCreateCartWithCatalogWithInvalidPrices stamp: 'MK 11/4/2021 14:48:05'!
PASSED!

----SNAPSHOT----(4 November 2021 14:48:14) CuisUniversity-4913.image priorSource: 19292274!